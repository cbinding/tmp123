{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/MenuBar.vue?8867","webpack:///./src/components/Stratigraphy.vue?b24b","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?f558","webpack:///./src/components/Layout.vue?22fa","webpack:///./src/components/LayoutHeader.vue?af39","webpack:///./src/components/MenuBar.vue?36ea","webpack:///./src/components/FileImport.vue?8307","webpack:///src/components/FileImport.vue","webpack:///./src/components/FileImport.vue?fafd","webpack:///./src/components/FileImport.vue","webpack:///./src/components/PeriodsImport.vue?1b60","webpack:///src/components/PeriodsImport.vue","webpack:///./src/components/PeriodsImport.vue?d225","webpack:///./src/components/PeriodsImport.vue","webpack:///./src/components/HelpAbout.vue?dcc7","webpack:///src/components/HelpAbout.vue","webpack:///./src/components/HelpAbout.vue?2e49","webpack:///./src/components/HelpAbout.vue","webpack:///./src/mixins/PhaserCommon.js","webpack:///src/components/MenuBar.vue","webpack:///./src/components/MenuBar.vue?48ad","webpack:///./src/components/MenuBar.vue?6bbd","webpack:///src/components/LayoutHeader.vue","webpack:///./src/components/LayoutHeader.vue?ad85","webpack:///./src/components/LayoutHeader.vue","webpack:///./src/components/LayoutContent.vue?7fe4","webpack:///./src/components/MatrixDiagramCY.vue?728e","webpack:///./src/components/Legend.vue?e81d","webpack:///src/components/Legend.vue","webpack:///./src/components/Legend.vue?544b","webpack:///./src/components/Legend.vue","webpack:///./src/components/Lock.vue?1902","webpack:///src/components/Lock.vue","webpack:///./src/components/Lock.vue?5f22","webpack:///./src/components/Lock.vue","webpack:///src/components/MatrixDiagramCY.vue","webpack:///./src/components/MatrixDiagramCY.vue?9ab5","webpack:///./src/components/MatrixDiagramCY.vue?c623","webpack:///src/components/LayoutContent.vue","webpack:///./src/components/LayoutContent.vue?7b51","webpack:///./src/components/LayoutContent.vue","webpack:///./src/components/LayoutSidebar.vue?d854","webpack:///./src/components/ItemEditors.vue?40a5","webpack:///./src/components/ItemEditor.vue?eabd","webpack:///./src/mixins/constants.js","webpack:///./src/components/ItemTable.vue?3445","webpack:///src/components/ItemTable.vue","webpack:///./src/components/ItemTable.vue?f8fb","webpack:///./src/components/ItemTable.vue?a297","webpack:///./src/components/ItemLookup.vue?a54e","webpack:///src/components/ItemLookup.vue","webpack:///./src/components/ItemLookup.vue?e1c8","webpack:///./src/components/ItemLookup.vue","webpack:///./src/components/Stratigraphy.vue?3ac1","webpack:///src/components/Stratigraphy.vue","webpack:///./src/components/Stratigraphy.vue?0965","webpack:///./src/components/Stratigraphy.vue?5d34","webpack:///./src/components/Dating.vue?4f7d","webpack:///./src/components/DatingYearRange.vue?97d4","webpack:///src/components/DatingYearRange.vue","webpack:///./src/components/DatingYearRange.vue?a596","webpack:///./src/components/DatingYearRange.vue","webpack:///src/components/Dating.vue","webpack:///./src/components/Dating.vue?6c0c","webpack:///./src/components/Dating.vue","webpack:///./src/components/ItemLabel.vue?a3a1","webpack:///src/components/ItemLabel.vue","webpack:///./src/components/ItemLabel.vue?d8f0","webpack:///./src/components/ItemLabel.vue","webpack:///./src/components/ItemList.vue?27bf","webpack:///src/components/ItemList.vue","webpack:///./src/components/ItemList.vue?7e20","webpack:///./src/components/ItemList.vue","webpack:///src/components/ItemEditor.vue","webpack:///./src/components/ItemEditor.vue?f3ff","webpack:///./src/components/ItemEditor.vue","webpack:///./src/components/Validation.vue?620b","webpack:///src/components/Validation.vue","webpack:///./src/components/Validation.vue?828b","webpack:///./src/components/Validation.vue","webpack:///src/components/ItemEditors.vue","webpack:///./src/components/ItemEditors.vue?0984","webpack:///./src/components/ItemEditors.vue","webpack:///src/components/LayoutSidebar.vue","webpack:///./src/components/LayoutSidebar.vue?6863","webpack:///./src/components/LayoutSidebar.vue","webpack:///src/components/Layout.vue","webpack:///./src/components/Layout.vue?448b","webpack:///./src/components/Layout.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/store/storeCY.js","webpack:///./src/main.js","webpack:///./src/components/MatrixDiagramCY.vue?271a","webpack:///./src/components/ItemTable.vue?caa7"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","staticRenderFns","staticClass","attrs","slot","on","clearAll","_v","openFileDialog","staticStyle","fileLoad","fileSave","directives","rawName","modifiers","exportPartPNG","exportFullPNG","zoomIn","zoomOut","zoomFit","$event","redoLayout","handleOK","handleClose","Boolean","selectedFile","loadFile","model","callback","$$v","expression","delimiterOptions","delimiter","hasHeader","parserPreview","component","stopPropagation","refresh","scopedSlots","_u","fn","proxy","filter","busy","_s","collections","fields","sortBy","sortDesc","rowSelected","periods","_l","period","index","baseURI","label","periodCoverage","$store","getters","appVersion","PhaserCommon","methods","getJSON","uri","success","error","fetch","then","response","json","catch","capitalize","str","_capitalize","lockChanged","locked","ref","config","preConfig","afterCreated","node","elementSelected","edge","item","fillColor","borderColor","dashed","disabled","changed","tabIndex","nc","itemCount","edges","itemClass","itemSelected","itemDeleted","includes","redoCompoundNodeLayout","_e","labelChanged","selectedItem","$set","uriChanged","periodOptions","periodChanged","typeLookupOptions","typeChanged","text","cudChanged","parentLookupOptions","parentChanged","itemContains","periodContains","descriptionChanged","trim","dating","datingChanged","includeChanged","associationChanged","NodeClass","freeze","PHASE","GROUP","SUBGROUP","CONTEXT","DATING","PERIOD","insertItem","items","row","deleteItem","placeholder","optionsForSelect","optionsId","optionsForInput","nodeLabel","sourceID","edgeTypes","selectedEdgeType","available","targetChanged","selectedTargetID","addItem","edgeType","target","removeItem","minYearInvalid","minYearValidation","local","minYear","minYearTolValue","minYearTolUnit","tolTypes","maxYearInvalid","maxYearValidation","maxYear","maxYearTolValue","maxYearTolUnit","uniqueId","isBusy","tableRowClass","tableRowSelected","toggleDetails","passed","description","Vue","use","Vuex","Store","plugins","createPersistedState","storage","localStorage","paths","state","appName","selectedID","about","title","creator","contact","created","modified","license","version","graph","nodes","types","groupTypes","contextTypes","datingTypes","elements","isNode","some","isEdge","nodeByID","find","edgeByID","includeClass","nodeClass","class","edgesBySource","source","edgesByTarget","phases","groups","subgroups","contexts","datings","groupTypeOptions","contextTypeOptions","datingTypeOptions","phaseOptions","sort","a","b","groupOptions","subgroupOptions","contextOptions","phaseOptionsGrouped","options","groupOptionsGrouped","subgroupOptionsGrouped","contextOptionsGrouped","periodOptionsGrouped","contextParentOptions","childrenOfIDs","ids","parent","childrenOfID","descendantsOfIDs","descendants","childNodes","iteration","concat","descendantsOfID","ancestorsOfNode","ancestors","ancestorsOfID","enteredDates","cleaned","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","toLowerCase","Math","round","derivedDates","derivedNodeDates","derivedEdgeDates","sourceDates","targetDates","included","forEach","derivedDuration","dates","enteredDuration","newPhase","nextID","toString","position","x","y","newGroup","type","cud","newSubGroup","newContext","newDating","association","newPeriod","newEdge","mutations","UPDATE_NODE","findIndex","SELECT_ID","DELETE_NODE","DELETE_NODES","UPDATE_EDGE","DELETE_EDGE","DELETE_EDGES","actions","loadMatrixData","commit","dispatch","Promise","insertNode","insertNodes","updateNode","setSelectedID","deleteNode","outgoing","incoming","createEdge","insertEdge","_merge","insertEdges","updateEdge","deleteEdge","insertPhase","insertGroup","insertSubGroup","insertContext","insertDating","insertPeriod","BootstrapVue","BootstrapVueIcons","VuePapaParse","VueCytoscape","productionTip","store","render","h","App","$mount"],"mappings":"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CA,gBACA,SACA,oGAGA,oBAGA,sCA7JA,WA6JA,WACA,sEACA,mDACA,uCACA,gBACA,SACA,6GAGA,oBAGA,8BAzKA,WAyKA,WACA,iEACA,yDACA,2CACA,iFACA,gBACA,SACA,sGAGA,oBAGA,6BAtLA,WAsLA,WACA,iEACA,mDACA,oCACA,gBACA,SACA,sGAGA,oBAGA,8BAlMA,WAkMA,WACA,kEACA,mDACA,qCACA,gBACA,SACA,uGAGA,oBAGA,wBA9MA,WA8MA,WACA,6EACA,0BACA,kEACA,gDACA,4CACA,2CACA,gBACA,SACA,gHAGA,oBAGA,4BA7NA,WA6NA,WACA,gEACA,kDACA,oCACA,gBACA,SACA,qGAGA,oBAGA,6BAzOA,WAyOA,WACA,iEACA,kDACA,qCACA,gBACA,SACA,oGAGA,oBAGA,mBArPA,WAsPA,wDACA,wDACA,kEACA,gBACA,SACA,iGAGA,oBAGA,2BAjQA,WAkQA,iEACA,6DACA,qLACA,gBACA,SACA,qGAGA,qBAKA,aA3UA,aA4UA,QA5UA,aA6UA,YA7UA,aA8UA,QA9UA,aA+UA,aA/UA,aAgVA,QAhVA,aAiVA,cAjVA,aAkVA,UAlVA,eCtFoV,MCOhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QCmCf,IACA,mBACA,YACA,cACA,eAEA,WACA,SACA,KARA,WASA,OACA,aAGA,UACA,WADA,WAEA,uCAEA,YAJA,WAKA,2BAIA,OACA,WADA,SACA,GAEA,sCACA,YACA,2DACA,UACA,oCACA,oCACA,uCACA,sCACA,qCACA,qCACA,oBAIA,kBAGA,SACA,UADA,SACA,GACA,UACA,uDACA,uDACA,6DACA,2DACA,yDACA,yDACA,oBAKA,aAxDA,aAyDA,QAzDA,aA0DA,YA1DA,aA2DA,QA3DA,aA4DA,aA5DA,aA6DA,QA7DA,aA8DA,cA9DA,aA+DA,UA/DA,cCrDqV,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QCXf,IACE,KAAF,gBACE,WAAF,CACI,YAAJ,IAEE,SAAF,ICZuV,MCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,gCCSf,IACE,KAAF,SACE,WAAF,CACI,aAAJ,EACI,cAAJ,GACI,cAAJ,GACI,YAAJ,MAGE,KAAF,WAAI,MAAJ,cCpCgV,MCO5U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,M,QCXf,IACE,KAAF,MACE,WAAF,CACI,OAAJ,IAEE,KAAF,WACI,MAAJ,IAEE,SAAF,GACE,QATF,WAUA,oGCjB8T,MCQ1T,I,UAAY,eACd,GACA,EACAnK,GACA,EACA,KACA,KACA,OAIa,M,6GCZfoK,aAAIC,IAAIC,SASO,WAAIA,QAAKC,MAAM,CAG1BC,QAAS,CAAEC,gBAAqB,CAAEC,QAAS7L,OAAO8L,aAAcC,MAAO,CAAC,YAC3EC,MAAO,CACAC,QAAS,SACTpH,WAAY,MACZqH,WAAY,GACZC,MAAO,CACHC,MAAO,qBACPd,YAAa,mDACbe,QAAS,0CACTC,QAAS,gCACTC,QAAS,aACTC,SAAU,aACVC,QAAS,+CACTC,QAAS,YAEbC,MAAO,CACHC,MAAO,GACP9F,MAAO,IAEX+F,MAAO,CACHC,WAAY,CACR,WACA,mBACA,gBACA,QACA,sBACA,SACA,OACA,OACA,mBACA,OACA,YACA,QAEJC,aAAc,CACV,qBACA,2BACA,WACA,iBACA,OACA,YACA,kBACA,OACA,SACA,eACA,gBACA,wBACA,yBACA,yBACA,gBACA,sBACA,mBACA,yBACA,YACA,gBACA,sBACA,QACA,cACA,iBACA,kCACA,6BACA,cACA,gBACA,iBACA,cACA,YACA,YACA,UACA,gBACA,QACA,qBACA,OACA,aACA,kBACA,oBACA,UACA,QACA,cACA,QACA,cACA,aACA,mBACA,iBACA,aACA,mBACA,YACA,eACA,aACA,eACA,QACA,sBACA,qBACA,mBACA,iBACA,oBACA,qBACA,6BACA,gBACA,iBACA,iBACA,OACA,iBACA,uBACA,mBACA,yBACA,kBACA,wBACA,gBACA,sBACA,MACA,YACA,kBACA,YACA,cACA,gBACA,sBACA,cACA,oBACA,YACA,kBACA,qBACA,WACA,YACA,kBACA,kBACA,aACA,mBACA,aACA,iBACA,uBACA,QACA,aACA,mBACA,aACA,mBACA,UACA,sBACA,oBACA,kBACA,iBACA,YACA,cACA,oBACA,eACA,qBACA,SACA,eACA,OACA,iCACA,4BACA,8BACA,yBACA,aACA,eACA,YACA,mBAEJC,YAAa,CACT,OACA,SACA,YAKfpI,QAAS,CACFqH,QAAS,SAAAD,GAAK,OAAIA,EAAMC,SACxBpH,WAAY,SAAAmH,GAAK,OAAIA,EAAMnH,YAC3BsH,MAAO,SAAAH,GAAK,OAAIA,EAAMG,OAGtBc,SAAU,SAAAjB,GAAK,OAAIA,EAAMW,OACzBC,MAAO,SAACZ,EAAOpH,GAAR,OAAoBA,EAAQqI,SAASL,OAC5C9F,MAAO,SAACkF,EAAOpH,GAAR,OAAoBA,EAAQqI,SAASnG,OAC5CoG,OAAQ,SAAClB,EAAOpH,GAAR,OAAoB,SAAAtE,GAAE,OAAIsE,EAAQgI,MAAMO,MAAK,SAAAxN,GAAC,OAAIA,EAAErD,KAAKgE,KAAOA,OACxE8M,OAAQ,SAACpB,EAAOpH,GAAR,OAAoB,SAAAtE,GAAE,OAAIsE,EAAQkC,MAAMqG,MAAK,SAAAxN,GAAC,OAAIA,EAAErD,KAAKgE,KAAOA,OACxE+M,SAAU,SAACrB,EAAOpH,GAAR,OAAoB,SAAAtE,GAAE,OAAIsE,EAAQgI,MAAMU,MAAK,SAAA3N,GAAC,OAAIA,EAAErD,KAAKgE,KAAOA,OAC1EiN,SAAU,SAACvB,EAAOpH,GAAR,OAAoB,SAAAtE,GAAE,OAAIsE,EAAQkC,MAAMwG,MAAK,SAAA9M,GAAC,OAAIA,EAAElE,KAAKgE,KAAOA,OAE1EmJ,UAAW,SAACuC,EAAOpH,GAAR,OAAoB,SAACtE,GAA2B,IAAvBkN,EAAuB,wDACnDtH,EAAOtB,EAAQyI,SAAS/M,GAC5B,GAAG4F,EAAM,SACDuD,GAAY,UAAAvD,EAAK5J,YAAL,eAAWmI,QAASnE,EAChCmN,GAAY,UAAAvH,EAAK5J,YAAL,eAAWoR,QAAS,OACpC,OAAOF,EAAe,IAAH,OAAOC,EAAP,aAAqBhE,GAAcA,EAErD,MAAO,KAEhBkE,cAAe,SAAC3B,EAAOpH,GAAR,OAAoB,SAAAgJ,GAAM,OAAIhJ,EAAQkC,MAAMlD,QAAO,SAAApD,GAAC,OAAIA,EAAElE,KAAKsR,SAAWA,OACzFC,cAAe,SAAC7B,EAAOpH,GAAR,OAAoB,SAAAsF,GAAM,OAAItF,EAAQkC,MAAMlD,QAAO,SAAApD,GAAC,OAAIA,EAAElE,KAAK4N,SAAWA,OAGzF4D,OAAQ,SAAC9B,EAAOpH,GAAR,OAAoBA,EAAQgI,MAAMhJ,QAAO,SAAAsC,GAAI,aAAI,UAAAA,EAAK5J,YAAL,eAAWoR,SAAUjF,GAAUE,UAC9FoF,OAAQ,SAAC/B,EAAOpH,GAAR,OAAoBA,EAAQgI,MAAMhJ,QAAO,SAAAsC,GAAI,aAAI,UAAAA,EAAK5J,YAAL,eAAWoR,SAAUjF,GAAUG,UAClFoF,UAAW,SAAChC,EAAOpH,GAAR,OAAoBA,EAAQgI,MAAMhJ,QAAO,SAAAsC,GAAI,aAAI,UAAAA,EAAK5J,YAAL,eAAWoR,SAAUjF,GAAUI,aAC3FoF,SAAU,SAACjC,EAAOpH,GAAR,OAAoBA,EAAQgI,MAAMhJ,QAAO,SAAAsC,GAAI,aAAI,UAAAA,EAAK5J,YAAL,eAAWoR,SAAUjF,GAAUK,YAC1FoF,QAAS,SAAClC,EAAOpH,GAAR,OAAoBA,EAAQgI,MAAMhJ,QAAO,SAAAsC,GAAI,aAAI,UAAAA,EAAK5J,YAAL,eAAWoR,SAAUjF,GAAUM,WACzF3E,QAAS,SAAC4H,EAAOpH,GAAR,OAAoBA,EAAQgI,MAAMhJ,QAAO,SAAAsC,GAAI,aAAI,UAAAA,EAAK5J,YAAL,eAAWoR,SAAUjF,GAAUO,WAGzFkD,WAAY,SAAAF,GAAK,OAAIA,EAAME,YAQ3BiC,iBAAkB,SAAAnC,GAAK,OAAIA,EAAMa,MAAMC,WAAW3M,KAAI,SAAAjC,GAAO,MAAO,CAAEiB,MAAOjB,EAAG2J,KAAM3J,OACtFkQ,mBAAoB,SAAApC,GAAK,OAAIA,EAAMa,MAAME,aAAa5M,KAAI,SAAAjC,GAAO,MAAO,CAAEiB,MAAOjB,EAAG2J,KAAM3J,OAC1FmQ,kBAAmB,SAAArC,GAAK,OAAIA,EAAMa,MAAMG,YAAY7M,KAAI,SAAAjC,GAAO,MAAO,CAAEiB,MAAOjB,EAAG2J,KAAM3J,OAGxFoQ,aAAc,SAACtC,EAAOpH,GAAR,OAAoBA,EAAQkJ,OACrC3N,KAAI,SAAAR,GAAO,MAAO,CAAER,MAAOQ,EAAErD,KAAKgE,GAAIuH,KAAM,WAAF,OAAalI,EAAErD,KAAKmI,WAC9D8J,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE3G,KAAO4G,EAAE5G,KAAO,GAAK,MAC3C6G,aAAc,SAAC1C,EAAOpH,GAAR,OAAoBA,EAAQmJ,OACrC5N,KAAI,SAAAR,GAAO,MAAO,CAAER,MAAOQ,EAAErD,KAAKgE,GAAIuH,KAAM,WAAF,OAAalI,EAAErD,KAAKmI,WAC9D8J,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE3G,KAAO4G,EAAE5G,KAAO,GAAK,MAC3C8G,gBAAiB,SAAC3C,EAAOpH,GAAR,OAAoBA,EAAQoJ,UACxC7N,KAAI,SAAAR,GAAO,MAAO,CAAER,MAAOQ,EAAErD,KAAKgE,GAAIuH,KAAM,cAAF,OAAgBlI,EAAErD,KAAKmI,WACjE8J,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE3G,KAAO4G,EAAE5G,KAAO,GAAK,MAC3C+G,eAAgB,SAAC5C,EAAOpH,GAAR,OAAoBA,EAAQqJ,SACvC9N,KAAI,SAAAR,GAAO,MAAO,CAAER,MAAOQ,EAAErD,KAAKgE,GAAIuH,KAAM,aAAF,OAAelI,EAAErD,KAAKmI,WAChE8J,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE3G,KAAO4G,EAAE5G,KAAO,GAAK,MAC3CJ,cAAe,SAACuE,EAAOpH,GAAR,OAAoBA,EAAQR,QACtCjE,KAAI,SAAAR,GAAO,MAAO,CAAER,MAAOQ,EAAErD,KAAKgE,GAAIuH,KAAM,GAAF,OAAKlI,EAAErD,KAAKmI,WACtD8J,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE3G,KAAO4G,EAAE5G,KAAO,GAAK,MAG3CgH,oBAAqB,SAAC7C,EAAOpH,GAAR,OAAoD,GAA/BA,EAAQ0J,aAAaxR,OAC3D,GAAK,CAAC,CAAE2H,MAAO,SAAUqK,QAASlK,EAAQ0J,gBAC9CS,oBAAqB,SAAC/C,EAAOpH,GAAR,OAAoD,GAA/BA,EAAQ8J,aAAa5R,OAC3D,GAAK,CAAC,CAAE2H,MAAO,SAAUqK,QAASlK,EAAQ8J,gBAC9CM,uBAAwB,SAAChD,EAAOpH,GAAR,OAAuD,GAAlCA,EAAQ+J,gBAAgB7R,OACjE,GAAK,CAAC,CAAE2H,MAAO,YAAaqK,QAASlK,EAAQ+J,mBACjDM,sBAAuB,SAACjD,EAAOpH,GAAR,OAAsD,GAAjCA,EAAQgK,eAAe9R,OAC/D,GAAK,CAAC,CAAE2H,MAAO,WAAYqK,QAASlK,EAAQgK,kBAChDM,qBAAsB,SAAClD,EAAOpH,GAAR,OAAqD,GAAhCA,EAAQ6C,cAAc3K,OAC7D,GAAK,CAAC,CAAE2H,MAAO,UAAWqK,QAASlK,EAAQ6C,iBAG/C0H,qBAAsB,SAACnD,EAAOpH,GAAR,+BACfA,EAAQiK,qBADO,eAEfjK,EAAQmK,qBAFO,eAGfnK,EAAQoK,0BAIfI,cAAe,SAACpD,EAAOpH,GAAR,OAAoB,SAAAyK,GAAG,OAAIzK,EAAQgI,MAAMhJ,QAAO,SAAAjE,GAAC,OAAI0P,EAAInI,SAASvH,EAAErD,KAAKgT,aACxFC,aAAc,SAACvD,EAAOpH,GAAR,OAAoB,SAAAtE,GAAE,OAAIsE,EAAQwK,cAAc,CAAC9O,MAE/DkP,iBAAkB,SAACxD,EAAOpH,GAAR,OAAoB,SAAAyK,GAClC,IAAII,EAAc,GACdC,EAAa9K,EAAQwK,cAAcC,GACnCM,EAAY,EAChB,MAAMD,EAAW5S,OAAS,GAAK6S,EAAY,EACvCF,EAAcA,EAAYG,OAAOF,GACjCA,EAAa9K,EAAQwK,cAAcM,EAAWvP,KAAI,SAAAR,GAAC,OAAIA,EAAErD,KAAKgE,OAC9DqP,IAEJ,OAAOF,IAEXI,gBAAiB,SAAC7D,EAAOpH,GAAR,OAAoB,SAAAtE,GAAE,OAAIsE,EAAQ4K,iBAAiB,CAAClP,MAErEwP,gBAAiB,SAAC9D,EAAOpH,GAAR,OAAoB,SAAAsB,GAAQ,MACrC6J,EAAY,GACZJ,EAAY,EAEhB,IAAIzJ,EAAM,MAAO,GACjB,IAAIoJ,EAAS1K,EAAQyI,SAAR,UAAiBnH,EAAK5J,YAAtB,aAAiB,EAAWgT,QAEzC,MAAMA,GAAUK,EAAY,EAAG,OAC3BI,EAAU3S,KAAKkS,GACfA,EAAS1K,EAAQyI,SAAR,UAAiBiC,EAAOhT,YAAxB,aAAiB,EAAagT,QACvCK,IAEJ,OAAOI,IAEXC,cAAe,SAAChE,EAAOpH,GAAR,OAAoB,SAAAtE,GAC/B,IAAI4F,EAAOtB,EAAQyI,SAAS/M,GAC5B,OAAOsE,EAAQkL,gBAAgB5J,KAOnC+J,aAAc,SAACjE,EAAOpH,GAAR,OAAoB,SAAAtE,GAAM,MAChC4F,EAAOtB,EAAQyI,SAAS/M,GAGxB+H,GAAa,OAAJnC,QAAI,IAAJA,GAAA,UAAAA,EAAM5J,YAAN,eAAY+L,SAAU,GAC/B6H,EAAU,CACV3F,QAAS4F,OAAO9H,EAAOkC,SAAW4F,OAAOC,mBACzCvF,QAASsF,OAAO9H,EAAOwC,SAAWsF,OAAOE,mBACzC7F,gBAAiB2F,OAAO9H,EAAOmC,iBAAmB,GAClDM,gBAAiBqF,OAAO9H,EAAOyC,iBAAmB,GAClDL,gBAAiBpC,EAAOoC,gBAAkB,SAASrC,OAAOkI,cAC1DvF,gBAAiB1C,EAAO0C,gBAAkB,SAAS3C,OAAOkI,eAmB9D,OAhBGJ,EAAQ3F,QAAU4F,OAAOC,mBAAiD,IAA5BF,EAAQ1F,kBACxB,WAA1B0F,EAAQzF,eACPyF,EAAQ3F,SAAY2F,EAAQ3F,SAAW2F,EAAQ1F,gBAAkB,KAEjE0F,EAAQ3F,SAAW2F,EAAQ1F,iBAIhC0F,EAAQrF,QAAUsF,OAAOE,mBAAiD,IAA5BH,EAAQpF,kBACxB,WAA1BoF,EAAQnF,eACPmF,EAAQrF,SAAYqF,EAAQrF,SAAWqF,EAAQpF,gBAAkB,KAEjEoF,EAAQrF,SAAWqF,EAAQpF,iBAI5B,CACHP,QAAS2F,EAAQ3F,QAAU4F,OAAOC,kBAAoBG,KAAKC,MAAMN,EAAQ3F,SAAW,KACpFM,QAASqF,EAAQrF,QAAUsF,OAAOE,kBAAoBE,KAAKC,MAAMN,EAAQrF,SAAW,QAK5F4F,aAAc,SAACzE,EAAOpH,GAAR,OAAoB,SAAAtE,GAC9B,OAAGsE,EAAQsI,OAAO5M,GACPsE,EAAQ8L,iBAAiBpQ,GAC5BsE,EAAQwI,OAAO9M,GACZsE,EAAQ+L,iBAAiBrQ,GAEzB,CAAEiK,QAAS,KAAMM,QAAS,QAGzC8F,iBAAkB,SAAC3E,EAAOpH,GAAR,OAAoB,SAAAtE,GAClC,IAAI8F,EAAOxB,EAAQ2I,SAASjN,GACxBsQ,EAAchM,EAAQ6L,aAAarK,EAAK9J,KAAKsR,QAC7CiD,EAAcjM,EAAQ6L,aAAarK,EAAK9J,KAAK4N,QAEjD,MAAO,CACHK,QAASsG,EAAYhG,QAAUgG,EAAYhG,QAAU,EAAG,KACxDA,QAAS+F,EAAYrG,QAAUqG,EAAYrG,QAAU,EAAG,QAIhEmG,iBAAkB,SAAC1E,EAAOpH,GAAR,OAAoB,SAAAtE,GAClC,IAAIiK,EAAU4F,OAAOC,kBACjBvF,EAAUsF,OAAOE,kBAerB,OAbAzL,EAAQiL,gBAAgBvP,GACnBsD,QAAO,SAAAjE,GAAC,OAAIA,EAAErD,KAAKoR,OAASjF,GAAUM,QAAUpJ,EAAErD,KAAKwU,UAAYnR,EAAErD,KAAK+L,UAG1E0I,SAAQ,SAAApR,GAEL,IAAI0I,EAASzD,EAAQqL,aAAatQ,EAAErD,KAAKgE,IAEtC+H,EAAOkC,QAAUA,IAASA,EAAUlC,EAAOkC,SAE3ClC,EAAOwC,QAAUA,IAASA,EAAUxC,EAAOwC,YAG/C,CACHN,QAASA,EAAU4F,OAAOC,kBAAoBG,KAAKC,MAAMjG,GAAW,KACpEM,QAASA,EAAUsF,OAAOE,kBAAoBE,KAAKC,MAAM3F,GAAW,QAK5EmG,gBAAiB,SAAChF,EAAOpH,GAAR,OAAoB,SAAAtE,GACjC,IAAI2Q,EAAQrM,EAAQ6L,aAAanQ,GACjC,OAA0B,OAAlB2Q,EAAMpG,SAAsC,OAAlBoG,EAAM1G,QAAqB0G,EAAMpG,QAAUoG,EAAM1G,QAAW,EAAI,OAItG2G,gBAAiB,SAAClF,EAAOpH,GAAR,OAAoB,SAAAtE,GACjC,IAAI2Q,EAAQrM,EAAQqL,aAAa3P,GACjC,OAA0B,OAAlB2Q,EAAMpG,SAAsC,OAAlBoG,EAAM1G,QAAqB0G,EAAMpG,QAAUoG,EAAM1G,QAAW,EAAI,OAGtG4G,SAAU,SAACnF,EAAOpH,GACd,IAAMgC,EAAK6B,GAAUE,MAEjByI,EAAS,EACb,MAAMxM,EAAQsI,OAAR,UAAkBtG,EAAlB,YAAwBwK,IAAWA,IACzC,IAAM9Q,EAAK,GAAH,OAAMsG,EAAN,YAAYwK,GAEpB,MAAO,CACH9U,KAAM,CACFgE,GAAIA,EACJoN,MAAO9G,EACPnC,MAAO2M,EAAOC,WACd/F,YAAa,GACbjD,OAAQ,CACJ5D,MAAO,GACP8F,QAAS,KACTM,QAAS,KACTL,gBAAiB,EACjBM,gBAAiB,EACjBL,eAAgB,QAChBM,eAAgB,UAGxBuG,SAAU,CACNC,EAAG,EACHC,EAAG,KAKfC,SAAU,SAACzF,EAAOpH,GACd,IAAMgC,EAAK6B,GAAUG,MAEjBwI,EAAS,EACb,MAAMxM,EAAQsI,OAAR,UAAkBtG,EAAlB,YAAwBwK,IAAWA,IACzC,IAAM9Q,EAAK,GAAH,OAAMsG,EAAN,YAAYwK,GAEpB,MAAO,CACH9U,KAAM,CACFgE,GAAIA,EACJoN,MAAO9G,EACP0I,OAAQ,GACRoC,KAAM,GACNC,IAAK,GACLlN,MAAO2M,EAAOC,WACd/F,YAAa,IAEjBgG,SAAU,CACNC,EAAG,EACHC,EAAG,KAKfI,YAAa,SAAC5F,EAAOpH,GACjB,IAAMgC,EAAK6B,GAAUI,SAEjBuI,EAAS,EACb,MAAMxM,EAAQsI,OAAR,UAAkBtG,EAAlB,YAAwBwK,IAAWA,IACzC,IAAM9Q,EAAK,GAAH,OAAMsG,EAAN,YAAYwK,GAEpB,MAAO,CACH9U,KAAM,CACFgE,GAAIA,EACJoN,MAAO9G,EACP0I,OAAQ,GACRoC,KAAM,GACNC,IAAK,GACLlN,MAAO2M,EAAOC,WACd/F,YAAa,IAEjBgG,SAAU,CACNC,EAAG,EACHC,EAAG,KAKfK,WAAY,SAAC7F,EAAOpH,GAChB,IAAMgC,EAAK6B,GAAUK,QAEjBsI,EAAS,EACb,MAAMxM,EAAQsI,OAAR,UAAkBtG,EAAlB,YAAwBwK,IAAWA,IACzC,IAAM9Q,EAAK,GAAH,OAAMsG,EAAN,YAAYwK,GAEpB,MAAO,CACH9U,KAAM,CACFgE,GAAIA,EACJoN,MAAO9G,EACP0I,OAAQ,GACRoC,KAAM,GACNC,IAAK,GACLlN,MAAO2M,EAAOC,WACd/F,YAAa,IAEjBgG,SAAU,CACNC,EAAG,EACHC,EAAG,KAKfM,UAAW,SAAC9F,EAAOpH,GACf,IAAMgC,EAAK6B,GAAUM,OAEjBqI,EAAS,EACb,MAAMxM,EAAQsI,OAAR,UAAkBtG,EAAlB,YAAwBwK,IAAWA,IACzC,IAAM9Q,EAAK,GAAH,OAAMsG,EAAN,YAAYwK,GAEpB,MAAO,CACH9U,KAAM,CACFgE,GAAIA,EACJoN,MAAO9G,EACP0I,OAAQ,GACRoC,KAAM,GACNjN,MAAO2M,EAAOC,WACd/F,YAAa,GACbwF,UAAU,EACViB,YAAa,SACb1J,OAAQ,CACJ5D,MAAO,GACP8F,QAAS,KACTM,QAAS,KACTL,gBAAiB,EACjBM,gBAAiB,EACjBL,eAAgB,QAChBM,eAAgB,YAMhCiH,UAAW,SAAChG,EAAOpH,GACf,IAAMgC,EAAK6B,GAAUO,OAEjBoI,EAAS,EACb,MAAMxM,EAAQsI,OAAR,UAAkBtG,EAAlB,YAAwBwK,IAAWA,IACzC,IAAM9Q,EAAK,GAAH,OAAMsG,EAAN,YAAYwK,GAEpB,MAAO,CACH9U,KAAM,CACFgE,GAAIA,EACJoN,MAAO9G,EACPnC,MAAO,GACPQ,IAAK,GACLqG,YAAa,GACbjD,OAAQ,CACJ5D,MAAO,GACP8F,QAAS,KACTM,QAAS,KACTL,gBAAiB,EACjBM,gBAAiB,EACjBL,eAAgB,QAChBM,eAAgB,YAMhCkH,QAAS,SAACjG,EAAOpH,GAEb,IAAIwM,EAAS,EACb,MAAMxM,EAAQwI,OAAR,eAAuBgE,IAAWA,IACxC,IAAM9Q,EAAK,QAAH,OAAW8Q,GAEnB,MAAO,CAAE9U,KAAM,CAAEgE,GAAIA,EAAIsN,OAAQ,SAAU1D,OAAQ,SAAUwH,KAAM,YAK9EQ,UAAW,CAEJC,YAFI,SAEQnG,EAAO9F,GACf,IAAM0G,EAAQZ,EAAMW,MAAMC,MACpBrI,EAAQqI,EAAMwF,WAAU,SAAAzS,GAAC,eAAI,UAAAA,EAAErD,YAAF,eAAQgE,OAAR,OAAe4F,QAAf,IAAeA,GAAf,UAAeA,EAAM5J,YAArB,aAAe,EAAYgE,QAChD,IAAXiE,EACCqI,EAAMxP,KAAK8I,GAEX0G,EAAM5O,OAAOuG,EAAO,EAAG2B,IAM/BmM,UAdI,SAcMrG,EAAO1L,GACb0L,EAAME,WAAa5L,GAAM,IAG7BgS,YAlBI,SAkBQtG,EAAO9F,GACf,IAAM0G,EAAQZ,EAAMW,MAAMC,MACpBrI,EAAQqI,EAAMwF,WAAU,SAAAzS,GAAC,aAAIA,EAAErD,KAAKgE,MAAP,OAAc4F,QAAd,IAAcA,GAAd,UAAcA,EAAM5J,YAApB,aAAc,EAAYgE,QAC/C,IAAXiE,GACCqI,EAAM5O,OAAOuG,EAAO,IAG5BgO,aAzBI,SAyBSvG,GACTA,EAAMW,MAAMC,MAAQ,IAGxB4F,YA7BI,SA6BQxG,EAAO5F,GACf,IAAMU,EAAQkF,EAAMW,MAAM7F,MACpBvC,EAAQuC,EAAMsL,WAAU,SAAA5R,GAAC,aAAIA,EAAElE,KAAKgE,MAAP,OAAc8F,QAAd,IAAcA,GAAd,UAAcA,EAAM9J,YAApB,aAAc,EAAYgE,QAC/C,IAAXiE,EACCuC,EAAM1J,KAAKgJ,GAEXU,EAAM9I,OAAOuG,EAAO,EAAG6B,IAK/BqM,YAxCI,SAwCQzG,EAAO5F,GACf,IAAMU,EAAQkF,EAAMW,MAAM7F,MACpBvC,EAAQuC,EAAMsL,WAAU,SAAA5R,GAAC,aAAIA,EAAElE,KAAKgE,MAAP,OAAc8F,QAAd,IAAcA,GAAd,UAAcA,EAAM9J,YAApB,aAAc,EAAYgE,QAC/C,IAAXiE,GACCuC,EAAM9I,OAAOuG,EAAO,IAG5BmO,aA/CI,SA+CS1G,GACTA,EAAMW,MAAM7F,MAAQ,KAG/B6L,QAAS,CAIIC,eAJJ,WAIuCtW,GAAK,2KAAxBuW,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,SAAgB,SAEpCA,EAAS,WAAYD,GAFe,cAKtC5F,EAAW3Q,EAAK2Q,SAAW3Q,EAAK2Q,SAAW3Q,EAE3CwR,GAAUb,EAASL,OAAS,IAAIhJ,QAAO,SAAAjE,GAAC,OAAIA,EAAErD,KAAKoR,OAASjF,GAAUE,SACtEoF,GAAUd,EAASL,OAAS,IAAIhJ,QAAO,SAAAjE,GAAC,OAAIA,EAAErD,KAAKoR,OAASjF,GAAUG,SACtEoF,GAAaf,EAASL,OAAS,IAAIhJ,QAAO,SAAAjE,GAAC,OAAIA,EAAErD,KAAKoR,OAASjF,GAAUI,YACzEoF,GAAYhB,EAASL,OAAS,IAAIhJ,QAAO,SAAAjE,GAAC,OAAIA,EAAErD,KAAKoR,OAASjF,GAAUK,WACxEoF,GAAWjB,EAASL,OAAS,IAAIhJ,QAAO,SAAAjE,GAAC,OAAIA,EAAErD,KAAKoR,OAASjF,GAAUM,UACvE3E,GAAW6I,EAASL,OAAS,IAAIhJ,QAAO,SAAAjE,GAAC,OAAIA,EAAErD,KAAKoR,OAASjF,GAAUO,UAG3E8E,EAAOiD,SAAQ,SAAA1K,GAAI,OAAIyM,EAAS,cAAezM,EAAMwM,MACrD9E,EAAOgD,SAAQ,SAAA1K,GAAI,OAAIyM,EAAS,cAAezM,EAAMwM,MACrD7E,EAAU+C,SAAQ,SAAA1K,GAAI,OAAIyM,EAAS,iBAAkBzM,EAAMwM,MAC3D5E,EAAS8C,SAAQ,SAAA1K,GAAI,OAAIyM,EAAS,gBAAiBzM,EAAMwM,MACzD3E,EAAQ6C,SAAQ,SAAA1K,GAAI,OAAIyM,EAAS,eAAgBzM,EAAMwM,MACvDzO,EAAQ2M,SAAQ,SAAA1K,GAAI,OAAIyM,EAAS,eAAgBzM,EAAMwM,MApBb,UAsBpCC,EAAS,cAAe7F,EAASnG,OAAS,GAAI+L,GAtBV,+CA0B9CrR,SA9BE,YA8BiB,IAATqR,EAAS,EAATA,OAENA,EAAO,gBACPA,EAAO,gBACPE,QAAQnS,WAGZoS,WArCE,WAqCmB9M,GAAM,IAAf2M,EAAe,EAAfA,OACRA,EAAO,cAAe3M,IAE1B+M,YAxCE,WAwCoBrG,GAAO,IAAhBiG,EAAgB,EAAhBA,OACTjG,EAAMmE,SAAQ,SAAA7K,GAAI,OAAI2M,EAAO,cAAe3M,MAC5C6M,QAAQnS,WAElBsS,WA5CQ,WA4CahN,GAAM,IAAf2M,EAAe,EAAfA,OACXA,EAAO,cAAe3M,IAEjBiN,cA/CE,WA+CsB7S,GAAI,IAAbuS,EAAa,EAAbA,OACXA,EAAO,YAAavS,IAE9B8S,WAlDQ,WAkDsBlN,GAAM,IAAxB2M,EAAwB,EAAxBA,OAAQjO,EAAgB,EAAhBA,QAENyO,EAAWzO,EAAQ+I,cAAczH,EAAK5J,KAAKgE,IAC3CgT,EAAW1O,EAAQiJ,cAAc3H,EAAK5J,KAAKgE,IAC/C+S,EAASzD,OAAO0D,GAAUvC,SAAQ,SAAA3K,GAAI,OAAIyM,EAAO,cAAezM,MAEzEyM,EAAO,cAAe3M,IAGjBqN,WA3DE,YA2DsC,IAA5BV,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,SAAUlO,EAAU,EAAVA,QACtBwB,EAAOxB,EAAQqN,QAClBa,EAAS,aAAc1M,EAAMyM,IAElCW,WA/DE,YA+DqC,IAA3BX,EAA2B,EAA3BA,OAAQjO,EAAmB,EAAnBA,QAAUwB,EAAS,uDAAJ,GAE3B6L,EAAUwB,IAAO,GAAI7O,EAAQqN,QAAS7L,GACtC6L,EAAQ3V,KAAKgE,KACb2R,EAAQ3V,KAAKgE,GAAb,eAA0B2R,EAAQ3V,KAAKsR,QAAU,SAAjD,YAA6DqE,EAAQ3V,KAAK4N,QAAU,WACxF2I,EAAO,cAAeZ,IAE1ByB,YAtEE,WAsE8B5M,GAAO,IAA1B+L,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,SACjBhM,EAAMiK,SAAQ,SAAA3K,GAAI,OAAI0M,EAAS,aAAc1M,EAAMyM,MACnDE,QAAQnS,WAElB+S,WA1EQ,WA0EavN,GAAM,IAAfyM,EAAe,EAAfA,OACXA,EAAO,cAAezM,IAEvBwN,WA7EQ,WA6EaxN,GAAM,IAAfyM,EAAe,EAAfA,OACXA,EAAO,cAAezM,IAGjByN,YAjFE,YAiFgD,IAArChB,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,SAAUlO,EAAmB,EAAnBA,QAAUyB,EAAS,uDAAJ,GAEtCH,EAAOuN,IAAO,GAAI7O,EAAQuM,SAAU9K,GACxCyM,EAAS,aAAc5M,EAAM2M,IAEjCiB,YAtFE,YAsFgD,IAArCjB,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,SAAUlO,EAAmB,EAAnBA,QAAUyB,EAAS,uDAAJ,GAEtCH,EAAOuN,IAAO,GAAI7O,EAAQ6M,SAAUpL,GACxCyM,EAAS,aAAc5M,EAAM2M,IAEjCkB,eA3FE,YA2FmD,IAArClB,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,SAAUlO,EAAmB,EAAnBA,QAAUyB,EAAS,uDAAJ,GAEzCH,EAAOuN,IAAO,GAAI7O,EAAQgN,YAAavL,GAC3CyM,EAAS,aAAc5M,EAAM2M,IAEjCmB,cAhGE,YAgGkD,IAArCnB,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,SAAUlO,EAAmB,EAAnBA,QAAUyB,EAAS,uDAAJ,GAExCH,EAAOuN,IAAO,GAAI7O,EAAQiN,WAAYxL,GAC1CyM,EAAS,aAAc5M,EAAM2M,IAEjCoB,aArGE,YAqGiD,IAArCpB,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,SAAUlO,EAAmB,EAAnBA,QAAUyB,EAAS,uDAAJ,GAEvCH,EAAOuN,IAAO,GAAI7O,EAAQkN,UAAWzL,GACzCyM,EAAS,aAAc5M,EAAM2M,IAEjCqB,aA1GE,YA0GiD,IAArCrB,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,SAAUlO,EAAmB,EAAnBA,QAAUyB,EAAS,uDAAJ,GAEvCH,EAAOuN,IAAO,GAAI7O,EAAQoN,UAAW3L,GACzCyM,EAAS,aAAc5M,EAAM2M,O,qCChsBzCtH,aAAIC,IAAI2I,QACR5I,aAAIC,IAAI4I,QAER7I,aAAIC,IAAI6I,SACR9I,aAAIC,IAAI8I,MAKR/I,aAAIxF,OAAOwO,eAAgB,EAoB3B,IAAIhJ,aAAI,CAEJiJ,MAAOA,GACPC,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,OAChBC,OAAO,S,2DC1DV,yBAA8e,EAAG,G,6DCAjf,yBAAwe,EAAG,G","file":"js/app.fe2df82b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/tmp123/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=style&index=0&id=1b4776bc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=style&index=0&id=1b4776bc&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stratigraphy.vue?vue&type=style&index=0&id=0b31a06c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stratigraphy.vue?vue&type=style&index=0&id=0b31a06c&scoped=true&lang=css&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf755\",\n\t\"./tlh.js\": \"cf755\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"border p-0 bg-light\",attrs:{\"fluid\":\"\",\"id\":\"container\"}},[_c('b-row',{attrs:{\"no-gutters\":\"\",\"id\":\"header\"}},[_c('b-col',[_c('LayoutHeader')],1)],1),_c('vue-splitter',{attrs:{\"margin\":10,\"defaultPercent\":60}},[_c('div',{attrs:{\"slot\":\"left-pane\"},slot:\"left-pane\"},[_c('b-col',[_c('LayoutContent')],1)],1),_c('div',{attrs:{\"slot\":\"right-pane\"},slot:\"right-pane\"},[_c('LayoutSidebar')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('MenuBar')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-navbar',{staticClass:\"border-bottom\",attrs:{\"toggleable\":\"sm\",\"id\":\"nav\"}},[_c('b-navbar-toggle',{attrs:{\"target\":\"nav-collapse\"}}),_c('b-collapse',{attrs:{\"id\":\"nav-collapse\",\"is-nav\":\"\"}},[_c('b-navbar-nav',[_c('b-nav-item-dropdown',{attrs:{\"text\":\"File\"}},[_c('b-dropdown-item-button',{on:{\"click\":_vm.clearAll}},[_c('b-icon-file-earmark-plus',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"New\")])],1),_c('b-dropdown-item-button',{on:{\"click\":_vm.openFileDialog}},[_c('b-icon-upload',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Open...\")]),_c('b-form-file',{staticStyle:{\"display\":\"none\"},attrs:{\"plain\":\"\",\"id\":\"fileOpen\",\"accept\":\".json\"},on:{\"input\":_vm.fileLoad}})],1),_c('b-dropdown-item-button',{on:{\"click\":_vm.fileSave}},[_c('b-icon-download',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Save...\")])],1),_c('b-dropdown-divider'),_c('b-dropdown-item-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modalPeriodsImport\",modifiers:{\"modalPeriodsImport\":true}}]},[_c('b-icon-box-arrow-in-left',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Import Perio.do collection...\")]),_c('PeriodsImport')],1),_c('b-dropdown-item-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modalFileImport\",modifiers:{\"modalFileImport\":true}}]},[_c('b-icon-box-arrow-in-left',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Import context stratigraphy (CSV)...\")]),_c('FileImport')],1),_c('b-dropdown-item-button',{attrs:{\"disabled\":\"\"}},[_c('b-icon-box-arrow-right',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Export context stratigraphy (CSV)...\")])],1),_c('b-dropdown-divider'),_c('b-dropdown-item-button',{on:{\"click\":_vm.exportPartPNG}},[_c('b-icon-box-arrow-right',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Export visible diagram (PNG)...\")])],1),_c('b-dropdown-item-button',{on:{\"click\":_vm.exportFullPNG}},[_c('b-icon-box-arrow-right',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Export full diagram (PNG)...\")])],1)],1),_c('b-nav-item-dropdown',{attrs:{\"text\":\"View\"}},[_c('b-dropdown-item-button',{on:{\"click\":_vm.zoomIn}},[_c('b-icon-zoom-in',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Zoom in\")])],1),_c('b-dropdown-item-button',{on:{\"click\":_vm.zoomOut}},[_c('b-icon-zoom-out',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Zoom out\")])],1),_c('b-dropdown-item-button',{on:{\"click\":_vm.zoomFit}},[_c('b-icon-arrows-fullscreen',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Zoom to fit\")])],1),_c('b-dropdown-divider'),_c('b-dropdown-item-button',{on:{\"click\":function($event){return _vm.redoLayout('dagre')}}},[_c('b-icon-diagram-3',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Redo Layout\")])],1)],1),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Help\"}},[_c('b-dropdown-item-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modalAbout\",modifiers:{\"modalAbout\":true}}]},[_c('b-icon-question-circle',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"About...\")]),_c('HelpAbout')],1)],1)],1)],1),_c('b-navbar-brand',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modalAbout\",modifiers:{\"modalAbout\":true}}],attrs:{\"href\":\"#\"}},[_c('img',{attrs:{\"src\":\"phaser-spacedout-logo.png\",\"height\":\"25\",\"alt\":\"PHASER\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"centered\":\"\",\"id\":\"modalFileImport\",\"title\":\"Import delimited file\"},on:{\"ok\":_vm.handleOK,\"cancel\":_vm.handleClose,\"close\":_vm.handleClose}},[_c('b-form',{staticClass:\"border p-1\",attrs:{\"inline\":\"\"}},[_c('b-form-file',{attrs:{\"plain\":\"\",\"placeholder\":\"Choose a file or drop it here...\",\"drop-placeholder\":\"Drop file here...\",\"accept\":\"text/csv, .csv, .tab, .txt, .tsv\",\"state\":Boolean(_vm.selectedFile)},on:{\"input\":function($event){return _vm.loadFile(_vm.selectedFile)}},model:{value:(_vm.selectedFile),callback:function ($$v) {_vm.selectedFile=$$v},expression:\"selectedFile\"}}),_c('b-input-group',{staticClass:\"py-2\",attrs:{\"prepend\":\"Delimiter\"}},[_c('b-form-radio-group',{staticClass:\"p-2 border\",attrs:{\"options\":_vm.delimiterOptions,\"name\":\"delimiter\"},model:{value:(_vm.delimiter),callback:function ($$v) {_vm.delimiter=$$v},expression:\"delimiter\"}})],1),_c('b-form-checkbox',{staticClass:\"mx-2\",attrs:{\"inline\":\"\",\"id\":\"checkbox-header\",\"name\":\"checkbox-header\",\"value\":true,\"unchecked-value\":false},model:{value:(_vm.hasHeader),callback:function ($$v) {_vm.hasHeader=$$v},expression:\"hasHeader\"}},[_c('span',[_vm._v(\"Has header row?\")])])],1),_c('div',{staticClass:\"m-2\"},[_vm._v(\"Preview:\")]),_c('div',{staticClass:\"overflow-auto\",staticStyle:{\"height\":\"200px\"}},[_c('b-table',{attrs:{\"small\":\"\",\"striped\":\"\",\"stacked\":\"\",\"items\":_vm.parserPreview}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-modal centered \r\n        id=\"modalFileImport\" \r\n        title=\"Import delimited file\"\r\n        @ok=\"handleOK\" \r\n        @cancel=\"handleClose\" \r\n        @close=\"handleClose\">\r\n        <b-form inline class=\"border p-1\">\r\n            <b-form-file plain\r\n                v-model=\"selectedFile\"\r\n                placeholder=\"Choose a file or drop it here...\"\r\n                drop-placeholder=\"Drop file here...\"\r\n                accept=\"text/csv, .csv, .tab, .txt, .tsv\"\r\n                :state=\"Boolean(selectedFile)\" \r\n                @input=\"loadFile(selectedFile)\">\r\n            </b-form-file>          \r\n                \r\n            <b-input-group prepend=\"Delimiter\" class=\"py-2\">\r\n                <b-form-radio-group\r\n                    class=\"p-2 border\"\r\n                    v-model=\"delimiter\"\r\n                    :options=\"delimiterOptions\"\r\n                    name=\"delimiter\">\r\n                </b-form-radio-group>  \r\n            </b-input-group>   \r\n            <b-form-checkbox inline \r\n                class=\"mx-2\"\r\n                id=\"checkbox-header\"\r\n                v-model=\"hasHeader\"\r\n                name=\"checkbox-header\"\r\n                :value=\"true\"\r\n                :unchecked-value=\"false\">\r\n                <span>Has header row?</span>                     \r\n            </b-form-checkbox>            \r\n        </b-form>\r\n        <!--<div>{{ selectedFile ? selectedFile.size : '' }} bytes, {{ fileData.length }} rows</div>-->\r\n        <div class=\"m-2\">Preview:</div>        \r\n        <div class=\"overflow-auto\" style=\"height: 200px\">\r\n            <b-table small striped stacked :items=\"parserPreview\"></b-table>\r\n        </div>           \r\n        \r\n        <!--<div>Errors:</div>\r\n        <ul>\r\n            <li v-for=\"(err, index) in fileErrors\" :key=\"index\">{{ err.message }}</li>            \r\n        </ul>-->\r\n        <!--<div>{{ graphData }}</div>-->\r\n    </b-modal>\t\r\n</template>\r\n\r\n<script>\r\n//import MyMixin from '@/mixins/MyMixin.js'\r\nimport _merge from \"lodash/merge\"\r\n//import _uniqueId  from 'lodash/uniqueId'\r\n\r\nexport default {\r\n\tname: 'FileImport',\r\n\tcomponents: {},\r\n\tmixins: [],\r\n\tprops: {\r\n        defaultDelimiter: {\r\n            type: String,\r\n            required: false,\r\n            default: \",\"\r\n        }\r\n    },\r\n\tdata() {\r\n\t\treturn {\r\n            delimiter: this.defaultDelimiter,\r\n            delimiterOptions: [\r\n                { value: '\\\\t', text: 'Tab' },                \r\n                { value: ',', text: 'Comma' },\r\n                //{ value: ':', text: 'Colon' },\r\n                { value: ';', text: 'Semicolon' },\r\n                { value: '|', text: 'Pipe' },\r\n                { value: ' ', text: 'Space' }               \r\n            ],\r\n            /*expectedColumns: {\r\n                phases: [\"siteCode\", \"phaseID\", \"phaseLabel\", \"phaseStart\", \"phaseEnd\"],\r\n                groups: [\"siteCode\", \"groupID\", \"groupLabel\", \"relationship\", \"relatedGroupID\"],\r\n                subgroups: [\"siteCode\", \"subGroupID\", \"subGrouplabel\", \"relationship\", \"relatedSubGroupID\"],\r\n                contexts: [\"siteCode\", \"contextNo\", \"contextType\", \"relationship\", \"relatedContextNo\"],                \r\n            },*/\r\n            hasHeader: true,\r\n            previewRows: 5,\r\n            selectedFile: null,\r\n            fileContents: \"\",\r\n            //parserResult: null,\r\n            //parserErrors: []\r\n\r\n\t\t}\r\n    },    \r\n\tcomputed: {\r\n        /*fileData() {\r\n            return ((this.parserResult || {}).data || [])\r\n        },\r\n        fileErrors() {\r\n            return ((this.parserResult || {}).errors || [])\r\n        },\r\n        fileMeta() {\r\n            return ((this.parserResult || {}).meta || {})\r\n        },*/  \r\n        \r\n        /* \r\n        Parse selectedFile CSV data to papaParse JSON columns format\r\n        example input: \r\n        siteCode,contextNo,contextType,stratRelationship,relatedContextNo\r\n        \"XSM10\",\"12345\",\"layer\",\"above\",\"23456\"\r\n        \"XSM10\",\"23456\",\"pit\",\"below\",\"12345\"\r\n        example output:\r\n        [\r\n            { siteCode: \"XSM10\", contextNo: \"12345\", contextType: \"layer\", stratRelationship: \"above\", relatedContextNo: \"23456\" },\r\n            { siteCode: \"XSM10\", contextNo: \"23456\", contextType: \"pit\", stratRelationship: \"below\", relatedContextNo: \"12345\" },\r\n        ]\r\n        */\r\n        parserPreview() {\r\n            const self = this\r\n            const config = {\r\n                delimiter: self.delimiter,\r\n                encoding: \"UTF-8\",\r\n                header: self.hasHeader,\r\n                preview: self.previewRows,\r\n                skipEmptyLines: \"greedy\"\r\n            }             \r\n            let parserResult = self.$papa.parse(self.fileContents, config)          \r\n            return parserResult.data\r\n        }\r\n    },\r\n\tmethods: {        \r\n        loadFile(file) {\r\n            if(!file) return\r\n\r\n            const self = this\r\n            const reader = new FileReader()\r\n            reader.onload = function(e) { \r\n                self.fileContents = e.target.result\r\n                //self.$store.dispatch('loadPhaserData', data) \r\n            }\r\n            reader.readAsText(file)\r\n        },\r\n        handleOK() {\r\n            const self = this\r\n            const config = {\r\n                delimiter: self.delimiter,\r\n                encoding: \"UTF-8\",\r\n                header: self.hasHeader,\r\n                skipEmptyLines: \"greedy\"\r\n            } \r\n            let parserResult = self.$papa.parse(self.fileContents, config)\r\n            let graph = self.contextDataToGraph(parserResult.data)\r\n            this.$store.dispatch('clearAll') \r\n            this.$store.dispatch('loadMatrixData', graph) \r\n            this.selectedFile = null\r\n            this.fileContents = \"\"\r\n        },\r\n        handleClose(){\r\n            this.selectedFile = null\r\n            this.fileContents = \"\"\r\n        },     \r\n        \r\n        /* Convert pre-parsed CSV fields (as JSON columns) to graph format\r\n            input = [{\r\n                siteCode: \"XSM10\",\r\n                contextNo: \"12345\",\r\n                contextType: \"layer\",\r\n                stratRelationship: \"above\",\r\n                relatedContextNo: \"23456\"\r\n            },\r\n            {\r\n                siteCode: \"XSM10\",\r\n                contextNo: \"23456\",\r\n                contextType: \"pit\",\r\n                stratRelationship: \"below\",\r\n                relatedContextNo: \"12345\"\r\n            }]\r\n            output = {\r\n                nodes: [\r\n                    { id: \"context-12345\", class: \"context\", identifier: \"12345\", type: \"layer\", siteCode: \"XSM10\" },\r\n                    { id: \"context-23456\", class: \"context\", identifier: \"23456\", type: \"pit\", siteCode: \"XSM10\" },\r\n                ],\r\n                edges: [\r\n                    { id: \"context-12345-23456\", source: \"context-12345\", target: \"context-23456\", type: \"above\" },\r\n                    { id: \"context-23456-12345\", source: \"context-23456\", target: \"context-12345\", type: \"below\" },\r\n                ]\r\n            }\r\n        */\r\n        contextDataToGraph(data) { \r\n            const clean = s => (s || \"\").toString().trim()\r\n            \r\n            const uniqueNodes = new Map()\r\n            const uniqueEdges = new Map()\r\n\r\n            for (const item of data) {\r\n                // get clean input field values\r\n                let cleanSiteCode = clean(item.siteCode)\r\n                let cleanContextNo = clean(item.contextNo).toLowerCase()\r\n                let cleanContextType = clean(item.contextType).toLowerCase()\r\n                let cleanStratRelationship = clean(item.stratRelationship).toLowerCase()\r\n                let cleanRelatedContextNo = clean(item.relatedContextNo).toLowerCase()\r\n                \r\n                if(cleanStratRelationship == \"above\" && \r\n                    cleanContextNo !== \"\" && \r\n                    cleanRelatedContextNo !== \"\") {\r\n\r\n                    // create identifiers for source and target nodes\r\n                    //let sourceID = _uniqueId(\"context-\")\r\n                    //let targetID = _uniqueId(\"context-\")\r\n                    let sourceID = `context-${cleanContextNo.replace(\"+\",\"-\")}` // '+' caused problems in IDs\r\n                    let targetID = `context-${cleanRelatedContextNo.replace(\"+\",\"-\")}`\r\n\r\n                     // create new source node\r\n                    let sourceNode = { \r\n                        data: {\r\n                            id: sourceID,\r\n                            class: \"context\",\r\n                            label: cleanContextNo,\r\n                            type: cleanContextType,                            \r\n                            siteCode: cleanSiteCode \r\n                        }                   \r\n                    }    \r\n\r\n                    // if we already had it then merge any new data\r\n                    if(uniqueNodes.has(sourceID)) { \r\n                        let oldNode = uniqueNodes.get(sourceID)\r\n                        sourceNode = _merge(oldNode, sourceNode)\r\n                    }\r\n\r\n                    // add source node (or overwrite existing)\r\n                    uniqueNodes.set(sourceID, sourceNode)  \r\n                \r\n                    // add target node only if it doesn't already exist\r\n                    if(!uniqueNodes.has(targetID)) {\r\n                        // add as new 'skeleton' target node\r\n                        // (will be supplemented when main record \r\n                        // for this context is encountered later)\r\n                        uniqueNodes.set(targetID, { \r\n                            data: {\r\n                                id: targetID,\r\n                                class: \"context\",\r\n                                label: cleanRelatedContextNo,\r\n                                siteCode: cleanSiteCode \r\n                            }                   \r\n                        }) \r\n                    }                 \r\n                    \r\n                    // add new edge (or overwrite existing)\r\n                    let edgeID = `${sourceID}-${targetID}`\r\n                    uniqueEdges.set(edgeID, { \r\n                        data: {\r\n                            id: edgeID,\r\n                            source: sourceID,\r\n                            target: targetID,\r\n                            type: cleanStratRelationship \r\n                        }                   \r\n                    }) \r\n                }                \r\n            }\r\n\r\n            return {\r\n                nodes: [...uniqueNodes.values()],   // Map values as array            \r\n                edges: [...uniqueEdges.values()]    // Map values as array          \r\n            }\r\n        }        \r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileImport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileImport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileImport.vue?vue&type=template&id=73a7f8de&scoped=true&\"\nimport script from \"./FileImport.vue?vue&type=script&lang=js&\"\nexport * from \"./FileImport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73a7f8de\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"centered\":\"\",\"id\":\"modalPeriodsImport\",\"title\":\"Import Perio.do data\"},on:{\"ok\":_vm.handleOK,\"cancel\":_vm.handleClose,\"close\":_vm.handleClose}},[_c('b-container',{staticClass:\"p-0\"},[_c('b-row',{attrs:{\"align-h\":\"between\"}},[_c('b-col',[_c('b-button',{staticClass:\"text-left shadow\",attrs:{\"pill\":\"\",\"size\":\"sm\",\"variant\":\"outline-primary\",\"title\":\"refresh\",\"alt\":\"refresh\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.refresh($event)}}},[_c('b-icon-arrow-clockwise',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Refresh\")])],1)],1),_c('b-col',[_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"Filter\",\"label-for\":\"periods-filter-input\",\"label-cols-sm\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('b-icon-search')]},proxy:true}])},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"size\":\"md\",\"id\":\"periods-filter-input\",\"type\":\"search\",\"autocomplete\":\"off\",\"placeholder\":\"filter\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-overlay',{attrs:{\"show\":_vm.busy,\"rounded\":\"sm\"}},[_c('b-form-group',{attrs:{\"label\":\"Collections\",\"label-for\":\"collectionList\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('span',[_vm._v(\"Collections\")]),_c('b-badge',{staticClass:\"border secondary pb-1 m-0 ml-2\",attrs:{\"variant\":\"outline\"}},[_c('span',[_vm._v(_vm._s(_vm.collections.length))])])]},proxy:true}])},[_c('b-table',{staticClass:\"overflow-auto shadow-sm\",staticStyle:{\"height\":\"300px\"},attrs:{\"show-empty\":\"\",\"id\":\"periods-table\",\"hover\":\"\",\"outlined\":\"\",\"selectable\":\"\",\"small\":\"\",\"no-border-collapse\":false,\"sticky-header\":\"300px\",\"select-mode\":\"single\",\"primary-key\":\"id\",\"items\":_vm.collections,\"fields\":_vm.fields,\"filter\":_vm.filter,\"sort-by\":_vm.sortBy,\"sort-desc\":_vm.sortDesc},on:{\"update:sortBy\":function($event){_vm.sortBy=$event},\"update:sort-by\":function($event){_vm.sortBy=$event},\"update:sortDesc\":function($event){_vm.sortDesc=$event},\"update:sort-desc\":function($event){_vm.sortDesc=$event},\"row-selected\":_vm.rowSelected}})],1),_c('b-form-group',{attrs:{\"label\":\"Periods\",\"label-for\":\"periodsList\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('span',[_vm._v(\"Periods\")]),_c('b-badge',{staticClass:\"border secondary pb-1 m-0 ml-2\",attrs:{\"variant\":\"outline\"}},[_c('span',[_vm._v(_vm._s(_vm.periods.length))])])]},proxy:true}])},[_c('b-list-group',{staticClass:\"shadow-sm overflow-auto m-1\",staticStyle:{\"height\":\"175px\"}},_vm._l((_vm.periods),function(period,index){return _c('b-list-group-item',{key:index},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":(\"\" + _vm.baseURI + (period.id))}},[_vm._v(_vm._s(period.label))]),_vm._v(\" [\"+_vm._s(_vm.periodCoverage(period))+\"]\")])}),1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-modal centered \r\n        id=\"modalPeriodsImport\" \r\n        title=\"Import Perio.do data\"\r\n        @ok=\"handleOK\" \r\n        @cancel=\"handleClose\" \r\n        @close=\"handleClose\">\r\n\r\n        <b-container class=\"p-0\">\r\n            <b-row align-h=\"between\">\r\n            <b-col>\r\n                <b-button pill\r\n                    size=\"sm\"\r\n                    variant=\"outline-primary\"\r\n                    class=\"text-left shadow\" \r\n                    title=\"refresh\" \r\n                    alt=\"refresh\"\t\t\t\r\n                    @click.stop=\"refresh\">\r\n                    <b-icon-arrow-clockwise class=\"mr-2\" />\r\n                    <span>Refresh</span>\r\n                </b-button>\r\n            </b-col>\t\r\n            <b-col>\r\n                <b-form-group\r\n\t\t\t\t\tlabel=\"Filter\"\r\n\t\t\t\t\tlabel-for=\"periods-filter-input\"\r\n\t\t\t\t\tlabel-cols-sm=\"3\"\r\n\t\t\t\t\tlabel-align-sm=\"right\"\r\n\t\t\t\t\tlabel-size=\"sm\"\r\n\t\t\t\t\tclass=\"mb-2\">\r\n\t\t\t\t\t<template v-slot:label>\r\n\t\t\t\t\t\t<b-icon-search />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<b-form-input \r\n\t\t\t\t\t\tsize=\"md\"\r\n\t\t\t\t\t\tid=\"periods-filter-input\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t\tv-model=\"filter\"\r\n\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\tplaceholder=\"filter\"/>\t\t\t\t\t\r\n\t\t\t\t</b-form-group>\r\n            </b-col>\r\n            </b-row>\r\n            <b-row><b-col>\r\n        <b-overlay :show=\"busy\" rounded=\"sm\">\r\n            <b-form-group \r\n                label=\"Collections\"\r\n                label-for=\"collectionList\">\r\n                <template v-slot:label>\r\n                    <span>Collections</span>\r\n                    <b-badge \r\n                        variant=\"outline\" \r\n                        class=\"border secondary pb-1 m-0 ml-2\">\r\n                        <span>{{ collections.length }}</span>\r\n                    </b-badge>\r\n                </template>\r\n\r\n                <b-table show-empty style=\"height: 300px;\"\r\n\t\t\t\t\tid=\"periods-table\"\r\n\t\t\t\t\thover outlined selectable small \r\n\t\t\t\t\t:no-border-collapse=\"false\"\r\n\t\t\t\t\tsticky-header=\"300px\" \r\n\t\t\t\t\tselect-mode=\"single\"\r\n\t\t\t\t\tprimary-key=\"id\" \r\n\t\t\t\t\t:items=\"collections\" \r\n\t\t\t\t\t:fields=\"fields\"\r\n\t\t\t\t\t:filter=\"filter\"\r\n                    :sort-by.sync=\"sortBy\"\r\n                    :sort-desc.sync=\"sortDesc\"\t\t\t\t\t\t\r\n\t\t\t\t\tclass=\"overflow-auto shadow-sm\"\r\n\t\t\t\t\t@row-selected=\"rowSelected\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t</b-table>\r\n\r\n                <!--<b-list-group \r\n                    class=\"shadow-sm overflow-auto m-1\" \r\n                    style=\"height: 175px;\"\r\n                    filter=\"herit\">\r\n                    <b-list-group-item button \r\n                        v-for=\"(collection, index) in collections\" \r\n                        :key=\"index\"\r\n                        @click.stop=\"selected(collection.id)\">                        \r\n                        <span v-html=\"referenceForID(collection.id)\"/>\r\n                        <b-badge \r\n                            variant=\"outline\"                             \r\n                            class=\"border secondary ml-2\">\r\n                            <span>{{ periodsForID(collection.id).length }} periods</span>\r\n                        </b-badge>                        \r\n                    </b-list-group-item>\r\n                </b-list-group>-->\r\n            </b-form-group>\r\n            <b-form-group \r\n                label=\"Periods\"\r\n                label-for=\"periodsList\">\r\n                <template v-slot:label>\r\n                    <span>Periods</span>\r\n                    <b-badge \r\n                        variant=\"outline\" \r\n                        class=\"border secondary pb-1 m-0 ml-2\">\r\n                        <span>{{ periods.length }}</span>\t\t\t\t\t\r\n                    </b-badge>\r\n                </template>\r\n                <b-list-group \r\n                    class=\"shadow-sm overflow-auto m-1\" \r\n                    style=\"height: 175px;\">\r\n                    <b-list-group-item\r\n                        v-for=\"(period, index) in periods\" \r\n                        :key=\"index\"><a target=\"_blank\" :href=\"`${baseURI}${period.id}`\">{{ period.label }}</a> [{{ periodCoverage(period) }}]</b-list-group-item>\r\n                </b-list-group>\r\n            </b-form-group>\r\n        </b-overlay> \r\n        </b-col>\r\n        </b-row> \r\n        </b-container>\r\n    </b-modal>      \r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\tname: 'PeriodsImport',\r\n\tcomponents: { },\r\n\tprops: { },\r\n\tdata() {\r\n\t\treturn {\r\n            busy: false,\r\n\t\t\turi: \"https://n2t.net/ark:/99152/p0d.json\", \r\n            data: {},\r\n            selectedID: \"\",\r\n            filter: \"\",\r\n\t\t\tsortBy: \"title\",\r\n\t\t\tsortDesc: false\t\r\n\t\t}\r\n\t},\r\n\tcomputed: {\t\r\n        baseURI() {\r\n            return (((this.data || {}) [\"@context\"] || []) [1] || {}) [\"@base\"] || \"\"            \r\n        },\r\n\r\n        collections() {             \r\n            let authorities = (this.data || {}).authorities || null      \r\n            let items = authorities ? Object.values(authorities) : []\r\n\r\n            return items\r\n                .filter(item => (item.source?.title || \"\") !== \"\")\r\n                .map(item => {\r\n                    \r\n                    return { \r\n                        id: item.id,\r\n                        title: item.source?.title, \r\n                        year: item.source?.yearPublished,\r\n                        periods: Object.values(item.periods).length\r\n                    }\r\n                })\r\n                //.sort((a,b) => a.source?.title > b.source?.title ? 1 : -1)\r\n        },\r\n        periods() {\r\n            let lst = this.selectedID ? this.periodsForID(this.selectedID) : [] \r\n            return lst.sort((a,b) => a.label > b.label ? 1 : -1)\r\n        },\r\n        fields() {\r\n\t\t\treturn [                \t\t\r\n\t\t\t\t{\r\n                    key: \"title\",\r\n\t\t\t\t\tlabel: \"title\",\t\t\t\t\r\n                    sortable: true\t\t\t\t\t\r\n\t\t\t\t},\r\n                {\r\n                    key: \"year\",\r\n\t\t\t\t\tlabel: \"year\",\r\n\t\t\t\t\tsortable: true,\r\n                    class: \"text-right\"\t\t\t\t\r\n\t\t\t\t},\r\n                {\r\n                    key: \"periods\",\r\n\t\t\t\t\tlabel: \"periods\",\r\n\t\t\t\t\tsortable: true,\r\n                    class: \"text-right\"\t\t\t\t\t\r\n\t\t\t\t}\r\n            ]\r\n        }\r\n    },\r\n\tmethods: {\r\n        rowSelected(items){\r\n\t\t\tif(items.length > 0) {\r\n\t\t\t\tthis.selectedID = items[0].id\t\t\t\t\r\n\t\t\t}\t\r\n\t\t},\r\n        periodsForID(id) {\r\n            let authority = ((this.data || {}).authorities || {})[id]\r\n            let periods = authority ? authority.periods : null \r\n            return (periods ? Object.values(periods) : [])\r\n        },        \r\n        periodCoverage(period) {\r\n            if(period.spatialCoverage) {\r\n                return period.spatialCoverage\r\n                    .map(s => s.label || \"\")\r\n                    .filter(item => item)\r\n                    .join(\", \")\r\n            }\r\n            else if(period.spatialCoverageDescription) {\r\n                return period.spatialCoverageDescription\r\n            }\r\n            else\r\n                return \"\"\r\n\r\n        },\r\n        referenceForID(id) {\r\n            let authority = ((this.data || {}).authorities || {})[id]\r\n            if(!authority) return \"\"\r\n            let authors = (authority.source?.creators || [])\r\n                .map(item => (item.name || \"\").trim())\r\n                .filter(item => item).join(\", \")\r\n            let year = authority.source?.yearPublished\r\n            let title = authority.source?.title\r\n            return `<b>${authors}</b> (${year})<br><i>${title}</i>`\r\n        },\r\n\r\n        refresh() {\r\n            var self = this\r\n            self.busy = true\r\n            \r\n            fetch(self.uri)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    self.data = data\r\n                    self.busy = false\r\n                })\r\n                .catch(err => {\r\n                    console.log(err) \r\n                    self.busy = false\r\n                })              \r\n        },\r\n        handleOK() {\r\n            // const self = this \r\n            // insert the selected periods collection into the data\r\n            this.periods.forEach(p => {\r\n                //let period = this.$store.getters.newPeriod()                \r\n\r\n                this.$store.dispatch('insertPeriod', { \r\n                    data: {\r\n                        id: `period-${p.id}`,\r\n                        label: p.label,\r\n                        uri: `${this.baseURI}${p.id}`,\r\n                        description: p.note || \"\",\r\n                        dating: {\r\n                            minYear: Number(p.start?.in?.year || p.start?.in?.earliestYear),\r\n                            maxYear: Number(p.stop?.in?.year || p.stop?.in?.latestYear)\r\n                        }\r\n                    }\r\n                })\r\n            })           \r\n        },\r\n        handleClose() {\r\n            this.data = null            \r\n        },\r\n        selected(id) {\r\n            this.selectedID = id\r\n        }\r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeriodsImport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeriodsImport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PeriodsImport.vue?vue&type=template&id=cc5b9f16&scoped=true&\"\nimport script from \"./PeriodsImport.vue?vue&type=script&lang=js&\"\nexport * from \"./PeriodsImport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cc5b9f16\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"centered\":\"\",\"id\":\"modalAbout\",\"title\":\"About\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div')]},proxy:true}])},[_c('div',{staticClass:\"text-center\"},[_c('img',{staticClass:\"mb-3\",attrs:{\"src\":\"phaser-spacedout-logo.png\"}}),_c('p',[_vm._v(\"Version \"+_vm._s(_vm.$store.getters.appVersion))]),_c('p',[_vm._v(\"A stratigraphic matrix editing tool\")]),_c('p',[_vm._v(\"Created as part of the MATRIX project\")]),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://stratigraphic.github.io/matrix/\"}},[_vm._v(\"https://stratigraphic.github.io/matrix/\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<b-modal centered id=\"modalAbout\" title=\"About\">\r\n\t\t<div class=\"text-center\">\r\n\t\t\t<img src=\"phaser-spacedout-logo.png\" class=\"mb-3\">\r\n\t\t\t<p>Version {{ $store.getters.appVersion }}</p>\t\t\t\t\r\n\t\t\t<p>A stratigraphic matrix editing tool</p>\r\n\t\t\t<p>Created as part of the MATRIX project</p>\r\n\t\t\t<a target=\"_blank\" href=\"https://stratigraphic.github.io/matrix/\">https://stratigraphic.github.io/matrix/</a>\r\n\r\n\t\t</div>\r\n\t\t<!--this removes default buttons from modal-->\r\n\t\t<template #modal-footer><div></div></template>\r\n\t</b-modal>\t\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\tname: 'HelpAbout',\r\n\tcomponents: {},\r\n\tmixins: [],\r\n\tprops: {},\r\n\tdata() { return {} },\r\n\tcomputed: {},\t\t\r\n\tmethods: {},\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpAbout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpAbout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelpAbout.vue?vue&type=template&id=2e0fe640&scoped=true&\"\nimport script from \"./HelpAbout.vue?vue&type=script&lang=js&\"\nexport * from \"./HelpAbout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e0fe640\",\n  null\n  \n)\n\nexport default component.exports","import _capitalize  from 'lodash/capitalize'\r\n\r\nconst PhaserCommon = {\r\n    data: function() {\r\n        return {}\r\n    }, \r\n    methods: {\r\n        getJSON(uri, success=()=>{}, error=()=>{}) {\r\n           /* let options = {\r\n                method: 'GET', \r\n                headers: { \r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json' \r\n                } \r\n            }\r\n            fetch(uri, options)*/\r\n            fetch(uri)\r\n                .then(response => response.json())\r\n                .then(success)\r\n                .catch(error)\r\n        },\r\n        \r\n        capitalize(str){\r\n\t\t\treturn _capitalize(str)\r\n\t\t}\r\n    }\r\n}\r\nexport default PhaserCommon\r\n","<template>\r\n\t<b-navbar toggleable=\"sm\" id=\"nav\" class=\"border-bottom\">\r\n\t\t<b-navbar-toggle target=\"nav-collapse\"/>\r\n\t\t<b-collapse id=\"nav-collapse\" is-nav>\t\r\n\t\t\t<b-navbar-nav>\t\t\r\n\t\t\t\t<b-nav-item-dropdown text=\"File\">\r\n\t\t\t\t\t<b-dropdown-item-button  @click=\"clearAll\">\r\n\t\t\t\t\t\t<b-icon-file-earmark-plus class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>New</span>\t\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-item-button  @click=\"openFileDialog\">\r\n\t\t\t\t\t\t<b-icon-upload class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Open...</span>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<b-form-file plain \r\n\t\t\t\t\t\t\tid=\"fileOpen\" \r\n\t\t\t\t\t\t\tstyle=\"display: none\" \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\taccept=\".json\"                \r\n\t\t\t\t\t\t\t@input=\"fileLoad\">\r\n\t\t\t\t\t\t</b-form-file>\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<!--<b-dropdown-item-button v-b-modal.modalFileOpenFromURL>\r\n\t\t\t\t\t\t<b-icon-upload class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Open from URL...</span>\t\r\n\t\t\t\t\t\t<FileOpenFromURL />\t\t\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>-->\t\t\t\t\t\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"fileSave\">\r\n\t\t\t\t\t\t<b-icon-download class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Save...</span>\t\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\t\t\t\t\t\r\n\t\t\t\t\t<b-dropdown-divider/>\r\n\t\t\t\t\t<b-dropdown-item-button v-b-modal.modalPeriodsImport>\r\n\t\t\t\t\t\t<b-icon-box-arrow-in-left class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Import Perio.do collection...</span>\t\r\n\t\t\t\t\t\t<PeriodsImport />\t\t\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-item-button v-b-modal.modalFileImport>\r\n\t\t\t\t\t\t<b-icon-box-arrow-in-left class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Import context stratigraphy (CSV)...</span>\r\n\t\t\t\t\t\t<FileImport />\t\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\t\t\t\t\t\r\n\t\t\t\t\t<b-dropdown-item-button disabled>\r\n\t\t\t\t\t\t<b-icon-box-arrow-right class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Export context stratigraphy (CSV)...</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-divider/>\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"exportPartPNG\">\r\n\t\t\t\t\t\t<b-icon-box-arrow-right class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Export visible diagram (PNG)...</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\t\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"exportFullPNG\">\r\n\t\t\t\t\t\t<b-icon-box-arrow-right class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Export full diagram (PNG)...</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\t\t\t\t\r\n\t\t\t\t</b-nav-item-dropdown>\r\n\t\t\t\t<b-nav-item-dropdown text=\"View\">\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"zoomIn\">\r\n\t\t\t\t\t\t<b-icon-zoom-in class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Zoom in</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"zoomOut\">\r\n\t\t\t\t\t\t<b-icon-zoom-out class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Zoom out</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"zoomFit\">\r\n\t\t\t\t\t\t<b-icon-arrows-fullscreen class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Zoom to fit</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-divider/>\t\t\t\t\t\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"redoLayout('dagre')\">\r\n\t\t\t\t\t\t<b-icon-diagram-3 class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Redo Layout</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<!--\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"redoLayout('elk')\">\r\n\t\t\t\t\t\t<b-icon-diagram-3 class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Redo Layout (ELK)</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"redoLayout('klay')\">\r\n\t\t\t\t\t\t<b-icon-diagram-3 class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Redo Layout (KLAY)</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"redoLayout('breadthfirst')\">\r\n\t\t\t\t\t\t<b-icon-diagram-3 class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Redo Layout (BreadthFirst)</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t-->\r\n\t\t\t\t</b-nav-item-dropdown>\r\n\t\t\t\t<b-nav-item-dropdown text=\"Help\">\r\n\t\t\t\t\t<b-dropdown-item-button v-b-modal.modalAbout>\r\n\t\t\t\t\t\t<b-icon-question-circle class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>About...</span>\r\n\t\t\t\t\t\t<HelpAbout />\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t</b-nav-item-dropdown>\r\n\t\t\t</b-navbar-nav>\r\n\t\t</b-collapse>\r\n\t\t<!--<b-navbar-brand href=\"#\" id=\"brand\" tag=\"h1\" class=\"mb-0 primary\">The Matrix</b-navbar-brand>-->\r\n\t\t<b-navbar-brand href=\"#\" v-b-modal.modalAbout>\r\n\t\t\t<img src=\"phaser-spacedout-logo.png\" height=\"25\" alt=\"PHASER\"/>\r\n\t\t</b-navbar-brand>\r\n\t</b-navbar>\t\r\n</template>\r\n\r\n<script>\r\nimport FileImport from '@/components/FileImport'\r\n//import FileOpenFromURL from '@/components/FileOpenFromURL'\r\nimport PeriodsImport from '@/components/PeriodsImport'\r\nimport HelpAbout from '@/components/HelpAbout'\r\nimport moment from 'moment'\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\n\r\nexport default {\r\n\tname: 'MenuBar',\r\n\tcomponents: {\r\n\t\tFileImport,\r\n\t\t//FileOpenFromURL,\r\n\t\tPeriodsImport,\r\n\t\tHelpAbout\r\n\t},\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: { },\r\n\tdata: function() {\r\n\t\treturn { }\r\n\t},\r\n\tcomputed: {\t},\r\n\tmethods: { \r\n\t\topenFileDialog() {\r\n\t\t\t// programmatically display the file dialog\r\n\t\t\tdocument.getElementById(\"fileOpen\").click() \r\n\t\t},\t\t\r\n\r\n\t\tclearAll() {\r\n\t\t\tlet self = this\r\n\t\t\tself.$bvModal.msgBoxConfirm('This will clear all current data, are you sure?',{\r\n\t\t\t\t//title: 'New file',\r\n\t\t\t\tsize: 'sm',\r\n\t\t\t\tbuttonSize: 'sm',\r\n\t\t\t\tcentered: true,\r\n\t\t\t\tokTitle: 'Yes',\r\n\t\t\t\tcancelTitle: 'No',\r\n\t\t\t}).then(value => {\r\n\t\t\t\tif(value) { \r\n\t\t\t\t\tself.$store.dispatch('clearAll') \r\n\t\t\t\t\tthis.$root.$emit('diagramClear')\r\n\t\t\t\t}\r\n\t\t\t})\t\r\n\t\t},\r\n\t\t\r\n\t\tfileLoad(file) {\r\n\t\t\tconst self = this            \r\n\t\t\tif(!file) return\r\n\t\t\t\r\n            const reader = new FileReader()\r\n            reader.onload = function(e) { \r\n                const fileContents = JSON.parse(e.target.result)\r\n                self.$store.dispatch('loadMatrixData', fileContents)\t\t\t\t\r\n            }\r\n            reader.readAsText(file)\r\n\t\t},\r\n\r\n\t\tfileOpenFromURL() {\r\n\r\n\t\t},\r\n\r\n\t\tfileSave() {\r\n\t\t\tconst data = { elements: this.$store.getters.elements }\r\n\t\t\tconst fileName = `phaser-${ moment().format(\"YYYYMMDDHHmmss\") }.json`\r\n            this.saveToFile(JSON.stringify(data), fileName)\r\n\t\t},\r\n\r\n\t\t// this function from https://forum.vuejs.org/t/saving-form-data/38714\r\n        saveToFile(jsonData, fileName) {\r\n            let blob = new Blob([jsonData], { type: 'text/plain;charset=utf-8;' })\r\n            if (navigator.msSaveBlob) { // IE 10+\r\n                navigator.msSaveBlob(blob, fileName)\r\n            } else {\r\n                let link = document.createElement('a')\r\n                if (link.download !== undefined) { // feature detection\r\n                    // Browsers that support HTML5 download attribute\r\n                    let url = URL.createObjectURL(blob)\r\n                    link.setAttribute('href', url)\r\n                    link.setAttribute('download', fileName)\r\n                    link.style.visibility = 'hidden'\r\n                    document.body.appendChild(link)\r\n                    link.click()\r\n                    document.body.removeChild(link)\r\n                }\r\n            }\r\n        },\r\n\t\texportPartPNG() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramExportPartPNG')\t\t\t\r\n\t\t},\r\n\t\texportFullPNG() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramExportFullPNG')\t\t\t\r\n\t\t},\r\n\t\tzoomIn() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramZoomIn') \r\n\t\t},\r\n\t\tzoomOut() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramZoomOut') \r\n\t\t},\r\n\t\tzoomFit() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramZoomFit') \r\n\t\t},\r\n\t\tredoLayout(name=\"dagre\") {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramRedoLayout', name) \r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#nav {\r\n\tbackground:whitesmoke;\t\r\n}\r\n#brand {\r\n\tcolor: darkgray;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuBar.vue?vue&type=template&id=1b4776bc&scoped=true&\"\nimport script from \"./MenuBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuBar.vue?vue&type=style&index=0&id=1b4776bc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b4776bc\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <MenuBar/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport MenuBar from '@/components/MenuBar'\r\n\r\nexport default {  \r\n    name: 'LayoutHeader',\r\n    components: { \r\n        MenuBar\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayoutHeader.vue?vue&type=template&id=d3113ef2&scoped=true&\"\nimport script from \"./LayoutHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./LayoutHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3113ef2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('MatrixDiagramCY')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-overlay',{attrs:{\"show\":_vm.busy,\"rounded\":\"sm\"}},[_c('div',{staticClass:\"overflow-auto\",attrs:{\"id\":\"holder\"}},[_c('div',{staticClass:\"position-relative\"},[_c('Legend',{staticClass:\"position-absolute m-2\",staticStyle:{\"{ top\":\"0\",\"right\":\"0\",\"z-index\":\"100\"}})],1),_c('div',{staticClass:\"position-relative\"},[_c('Lock',{staticClass:\"position-absolute m-2\",staticStyle:{\"{ top\":\"0\",\"left\":\"0\",\"z-index\":\"100\"},on:{\"input\":_vm.lockChanged},model:{value:(_vm.locked),callback:function ($$v) {_vm.locked=$$v},expression:\"locked\"}})],1),_c('cytoscape',{ref:\"cy\",attrs:{\"id\":\"diagram\",\"config\":_vm.config,\"preConfig\":_vm.preConfig,\"afterCreated\":_vm.afterCreated}},[_vm._l((_vm.nodes),function(node){return _c('cy-element',{key:(\"\" + (node.data.id)),attrs:{\"definition\":node,\"sync\":true},on:{\"click\":function($event){return _vm.elementSelected($event, node)}}})}),_vm._l((_vm.edges),function(edge){return _c('cy-element',{key:(\"\" + (edge.data.id)),attrs:{\"definition\":edge},on:{\"click\":function($event){return _vm.elementSelected($event, edge)}}})})],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.legendItems\",modifiers:{\"legendItems\":true}}],staticClass:\"card text-secondary shadow\",staticStyle:{\"{ cursor\":\"'pointer' }\"},attrs:{\"no-body\":\"\"}},[_c('div',{staticClass:\"card-header px-3 py-1\"},[_c('b-icon-key',{staticClass:\"mr-2\"}),_vm._v(\"Key\")],1),_c('b-collapse',{staticClass:\"card-body m-0 px-3 py-1\",attrs:{\"id\":\"legendItems\"}},[_c('b-list-group',{staticClass:\"bg-light\",attrs:{\"flush\":\"\"}},_vm._l((_vm.items),function(item,index){return _c('b-list-group-item',{key:index,staticClass:\"m-0 p-0 border-0\"},[_c('svg',{attrs:{\"height\":\"15\",\"width\":\"30\"}},[_c('rect',{attrs:{\"x\":\"1\",\"y\":\"1\",\"width\":\"28\",\"height\":\"11\",\"stroke-width\":\"1\",\"fill\":item.fillColor,\"stroke\":item.borderColor,\"stroke-dasharray\":item.dashed ? '2 2' : ''}})]),_c('span',{staticClass:\"ml-1\"},[_vm._v(_vm._s(item.label))])])}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-card no-body \r\n        v-b-toggle.legendItems             \r\n        class=\"card text-secondary shadow\" \r\n        style=\"{ cursor: 'pointer' }\">\r\n        <div class=\"card-header px-3 py-1\">\r\n            <b-icon-key class=\"mr-2\"/>Key</div>\r\n            <b-collapse id=\"legendItems\" class=\"card-body m-0 px-3 py-1\">               \r\n            <b-list-group flush class=\"bg-light\">\r\n                <b-list-group-item v-for=\"(item, index) in items\" :key=\"index\" class=\"m-0 p-0 border-0\">\r\n                    <svg height=\"15\" width=\"30\">\r\n                        <rect x=\"1\" y=\"1\" \r\n                            width=\"28\" height=\"11\" \r\n                            stroke-width=\"1\" \r\n                            :fill=\"item.fillColor\" \r\n                            :stroke=\"item.borderColor\"\r\n                            :stroke-dasharray=\"item.dashed ? '2 2' : ''\"/>                                \r\n                    </svg>\r\n                    <span class=\"ml-1\">{{item.label}}</span>\r\n                </b-list-group-item>                        \r\n                <!--\r\n                <b-list-group-item class=\"m-0 p-0 border-0\">\r\n                    <svg height=\"15\" width=\"25\">\r\n                         <circle cx=\"12\" cy=\"7.5\" r=\"7\" stroke=\"red\" stroke-width=\"1\" fill=\"pink\" />                               \r\n                    </svg>\r\n                    <span class=\"ml-1\">Find</span>\r\n                </b-list-group-item>\r\n                <b-list-group-item class=\"m-0 p-0 border-0\">\r\n                    <svg height=\"15\" width=\"25\">\r\n                        <polygon points=\"4,15 12,0 20,15\" stroke=\"purple\" stroke-width=\"1\" fill=\"plum\" />                               \r\n                    </svg>\r\n                    <span class=\"ml-1\">Sample</span>\r\n                </b-list-group-item>\r\n                -->\r\n            </b-list-group>                    \r\n        </b-collapse>\r\n    </b-card>    \r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\tname: 'Legend',\r\n\tcomponents: {},\r\n\tmixins: [],\r\n\tprops: {},\r\n\tdata() {\r\n        return {\r\n            items: [\r\n                { label: \"Phase\", fillColor: \"transparent\", borderColor: \"red\", dashed: true },\r\n                { label: \"Group\", fillColor: \"honeydew\", borderColor: \"green\" },\r\n                { label: \"Sub-Group\", fillColor: \"aliceblue\", borderColor: \"blue\" },\r\n                { label: \"Context\", fillColor: \"white\", borderColor: \"black\" },\r\n                { label: \"Selected\", fillColor: \"gold\", borderColor: \"black\" },\r\n            ],\r\n        }\r\n    },\r\n\tcomputed: {},\r\n\tmethods: {},\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Legend.vue?vue&type=template&id=e33cd346&scoped=true&\"\nimport script from \"./Legend.vue?vue&type=script&lang=js&\"\nexport * from \"./Legend.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e33cd346\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"lock\",\"title\":_vm.locked ? 'locked' : 'unlocked',\"alt\":_vm.locked ? 'locked' : 'unlocked'}},[_c('b-form-checkbox',{staticClass:\"shadow\",staticStyle:{\"{ cursor\":\"'pointer' }\"},attrs:{\"button\":\"\",\"checked\":_vm.value,\"disabled\":_vm.disabled,\"button-variant\":_vm.locked ? 'success' : 'danger'},on:{\"input\":_vm.changed}},[(_vm.locked)?_c('b-icon-lock-fill'):_c('b-icon-unlock-fill')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div id=\"lock\" \r\n        :title=\"locked ? 'locked' : 'unlocked'\"\r\n        :alt=\"locked ? 'locked' : 'unlocked'\">\r\n        <b-form-checkbox button             \r\n\t\t\t:checked=\"value\" \r\n            @input=\"changed\"\r\n\t\t\t:disabled=\"disabled\"\r\n            :button-variant=\"locked ? 'success' : 'danger'\"\r\n            class=\"shadow\" \r\n            style=\"{ cursor: 'pointer' }\">\r\n            <b-icon-lock-fill v-if=\"locked\"/>\r\n            <b-icon-unlock-fill v-else/> \r\n        </b-form-checkbox>        \r\n    </div><!--v-model=\"locked\" @change=\"changed\" -->\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\tname: 'Lock',\r\n\tcomponents: { },\r\n\tmixins: [ ],\r\n\tprops: {\r\n\t\tdisabled: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: false\r\n        },  \r\n\t\tvalue: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: true\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {}\r\n\t},\r\n\tcomputed: {\r\n\t\tlocked: {\r\n\t\t\tget() { return this.value },\r\n\t\t\tset(value) { this.$emit('input', value) }\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tchanged(value) { this.locked = value }\r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lock.vue?vue&type=template&id=b70527b0&scoped=true&\"\nimport script from \"./Lock.vue?vue&type=script&lang=js&\"\nexport * from \"./Lock.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b70527b0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<b-overlay :show=\"busy\" rounded=\"sm\">\t\r\n\t<!--cytoscape graph-->\r\n    <div id=\"holder\" class=\"overflow-auto\"> \r\n        <div class=\"position-relative\">       \r\n            <Legend \r\n                class=\"position-absolute m-2\" \r\n                style=\"{ top: 0; right: 0; z-index: 100; }\"/>\r\n        </div>\r\n        <div class=\"position-relative\"> \r\n            <Lock \r\n                class=\"position-absolute m-2\" \r\n                style=\"{ top: 0; left: 0; z-index: 100; }\"\r\n                v-model=\"locked\"  \r\n                @input=\"lockChanged\"/><!--:value=\"locked\"\r\n                @change=\"lockChanged\"-->\r\n        </div>\r\n        \r\n        <cytoscape id=\"diagram\" \r\n            ref=\"cy\" \r\n            :config=\"config\" \r\n            :preConfig=\"preConfig\" \r\n            :afterCreated=\"afterCreated\">            \r\n           \r\n            <cy-element v-for=\"node in nodes\"\r\n                :key=\"`${node.data.id}`\"\r\n                :definition=\"node\"\r\n                v-on:click=\"elementSelected($event, node)\"\r\n                :sync=\"true\"/>\r\n            \r\n            <cy-element v-for=\"edge in edges\"\r\n                :key=\"`${edge.data.id}`\"\r\n                :definition=\"edge\"\r\n                v-on:click=\"elementSelected($event, edge)\"/>            \r\n        </cytoscape>\r\n    </div>\r\n</b-overlay>\t\r\n</template>\r\n\r\n<script>\r\n\r\nimport dagre from 'cytoscape-dagre'\r\nimport elk from 'cytoscape-elk'\r\nimport klay from 'cytoscape-klay'\r\nimport gridGuide from 'cytoscape-grid-guide'\r\nimport cyCanvas from 'cytoscape-canvas'\r\n\r\nimport moment from 'moment'\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\nimport Legend from '@/components/Legend'\r\nimport Lock from '@/components/Lock'\r\n\r\nexport default {\r\n\tname: 'MatrixDiagramCY',\r\n\tcomponents: {\r\n\t\tLegend, \r\n        Lock \r\n\t},\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: { \r\n        gridSize: {\r\n            type: Number,\r\n            required: false,\r\n            default: 40\r\n        }\r\n    },\r\n\tdata() {\r\n        return {\r\n            container: \"cy\",\r\n            busy: false,\r\n            locked: true,\r\n            config: {\r\n                layoutDagre: {\r\n                    name: 'dagre', \r\n                    // dagre options, uses default value if undefined\r\n                    nodeSep: this.gridSize - 4, // the separation between adjacent nodes in the same rank\r\n                    //edgeSep: 20, // the separation between adjacent edges in the same rank                    \r\n                    rankSep: this.gridSize - 4, // the separation between each rank in the layout\r\n                    marginx: this.gridSize / 2,\r\n                    marginy: this.gridSize / 2,                    \r\n                    rankDir: 'TB', // 'TB' for top to bottom flow, 'LR' for left to right\r\n                    ranker: 'network-simplex', // Type of algorithm to assign a rank to each node in the input graph. Possible values: 'network-simplex', 'tight-tree' or 'longest-path'\r\n                    //minLen: function( edge ){ return 1; }, // number of ranks to keep between the source and target of the edge\r\n                    //edgeWeight: function( edge ){ return 1; }, // higher weight edges are generally made shorter and straighter than lower weight edges\r\n\r\n                    // general layout options\r\n                    fit: false, // whether to fit to viewport\r\n                    padding: this.gridSize / 2, // fit padding\r\n                    spacingFactor: undefined, // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\r\n                    nodeDimensionsIncludeLabels: false, // whether labels should be included in determining the space used by a node\r\n                    animate: false, // whether to transition the node positions\r\n                    boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\r\n                    //transform: function( node, pos ){ return pos; }, // a function that applies a transform to the final node position\r\n                    //zoom: function(e){ console.log(\"zoom\"); console.log(e)},\r\n                    //viewport: function(e){ console.log(\"viewport\"); console.log(e)},\r\n                    ready: function(){}, // on layoutready\r\n                    stop: this.layoutStop // on layoutstop              \r\n                },\r\n                layoutElk: {\r\n                    name: \"elk\",\r\n                    nodeDimensionsIncludeLabels: false, // Boolean which changes whether label dimensions are included when calculating node dimensions\r\n                    fit: false, // Whether to fit\r\n                    padding: this.gridSize / 2, // Padding on fit\r\n                    animate: false, // Whether to transition the node positions\r\n                    animationDuration: 500, // Duration of animation in ms if enabled\r\n                    animationEasing: undefined, // Easing of animation if enabled\r\n                    transform: function( node, pos ){ return pos; }, // A function that applies a transform to the final node position\r\n                    ready: undefined, // Callback on layoutready\r\n                    stop: undefined, // Callback on layoutstop\r\n                    elk: {\r\n                        // All options are available at http://www.eclipse.org/elk/reference.html\r\n                        // 'org.eclipse.elk.' can be dropped from the Identifier\r\n                        // Or look at demo-demo.js for an example.\r\n                        // Enums use the name of the enum e.g.\r\n                        // 'searchOrder': 'DFS'\r\n                        //\r\n                        // The main field to set is `algorithm`, which controls which particular\r\n                        // layout algorithm is used.\r\n                        algorithm: \"stress\" // box disco force layered mrtree random stress\r\n                    }                \r\n                },\r\n                layoutKlay: {\r\n                    name: \"klay\",                    \r\n                    nodeDimensionsIncludeLabels: false, // Boolean which changes whether label dimensions are included when calculating node dimensions\r\n                    fit: false, // Whether to fit\r\n                    padding: this.gridSize / 2, // Padding on fit\r\n                    animate: false, // Whether to transition the node positions\r\n                    animateFilter: function( ){ return true; }, // Whether to animate specific nodes when animation is on; non-animated nodes immediately go to their final positions\r\n                    animationDuration: 500, // Duration of animation in ms if enabled\r\n                    animationEasing: undefined, // Easing of animation if enabled\r\n                    transform: function( node, pos ){ return pos; }, // A function that applies a transform to the final node position\r\n                    ready: undefined, // Callback on layoutready\r\n                    stop: undefined, // Callback on layoutstop\r\n                    klay: {\r\n                        // Following descriptions taken from http://layout.rtsys.informatik.uni-kiel.de:9444/Providedlayout.html?algorithm=de.cau.cs.kieler.klay.layered\r\n                        addUnnecessaryBendpoints: false, // Adds bend points even if an edge does not change direction.\r\n                        aspectRatio: 1.6, // The aimed aspect ratio of the drawing, that is the quotient of width by height\r\n                        borderSpacing: 20, // Minimal amount of space to be left to the border\r\n                        compactComponents: false, // Tries to further compact components (disconnected sub-graphs).\r\n                        crossingMinimization: 'LAYER_SWEEP', // Strategy for crossing minimization.\r\n                        /* LAYER_SWEEP The layer sweep algorithm iterates multiple times over the layers, trying to find node orderings that minimize the number of crossings. The algorithm uses randomization to increase the odds of finding a good result. To improve its results, consider increasing the Thoroughness option, which influences the number of iterations done. The Randomization seed also influences results.\r\n                        INTERACTIVE Orders the nodes of each layer by comparing their positions before the layout algorithm was started. The idea is that the relative order of nodes as it was before layout was applied is not changed. This of course requires valid positions for all nodes to have been set on the input graph before calling the layout algorithm. The interactive layer sweep algorithm uses the Interactive Reference Point option to determine which reference point of nodes are used to compare positions. */\r\n                        cycleBreaking: 'GREEDY', // Strategy for cycle breaking. Cycle breaking looks for cycles in the graph and determines which edges to reverse to break the cycles. Reversed edges will end up pointing to the opposite direction of regular edges (that is, reversed edges will point left if edges usually point right).\r\n                        /* GREEDY This algorithm reverses edges greedily. The algorithm tries to avoid edges that have the Priority property set.\r\n                        INTERACTIVE The interactive algorithm tries to reverse edges that already pointed leftwards in the input graph. This requires node and port coordinates to have been set to sensible values.*/\r\n                        direction: 'DOWN', // Overall direction of edges: horizontal (right / left) or vertical (down / up)\r\n                        /* UNDEFINED, RIGHT, LEFT, DOWN, UP */\r\n                        edgeRouting: 'ORTHOGONAL', // Defines how edges are routed (POLYLINE, ORTHOGONAL, SPLINES)\r\n                        edgeSpacingFactor: 0.5, // Factor by which the object spacing is multiplied to arrive at the minimal spacing between edges.\r\n                        feedbackEdges: false, // Whether feedback edges should be highlighted by routing around the nodes.\r\n                        fixedAlignment: 'NONE', // Tells the BK node placer to use a certain alignment instead of taking the optimal result.  This option should usually be left alone.\r\n                        /* NONE Chooses the smallest layout from the four possible candidates.\r\n                        LEFTUP Chooses the left-up candidate from the four possible candidates.\r\n                        RIGHTUP Chooses the right-up candidate from the four possible candidates.\r\n                        LEFTDOWN Chooses the left-down candidate from the four possible candidates.\r\n                        RIGHTDOWN Chooses the right-down candidate from the four possible candidates.\r\n                        BALANCED Creates a balanced layout from the four possible candidates. */\r\n                        inLayerSpacingFactor: 1.0, // Factor by which the usual spacing is multiplied to determine the in-layer spacing between objects.\r\n                        layoutHierarchy: false, // Whether the selected layouter should consider the full hierarchy\r\n                        linearSegmentsDeflectionDampening: 0.3, // Dampens the movement of nodes to keep the diagram from getting too large.\r\n                        mergeEdges: false, // Edges that have no ports are merged so they touch the connected nodes at the same points.\r\n                        mergeHierarchyCrossingEdges: true, // If hierarchical layout is active, hierarchy-crossing edges use as few hierarchical ports as possible.\r\n                        nodeLayering:'NETWORK_SIMPLEX', // Strategy for node layering.\r\n                        /* NETWORK_SIMPLEX This algorithm tries to minimize the length of edges. This is the most computationally intensive algorithm. The number of iterations after which it aborts if it hasn't found a result yet can be set with the Maximal Iterations option.\r\n                        LONGEST_PATH A very simple algorithm that distributes nodes along their longest path to a sink node.\r\n                        INTERACTIVE Distributes the nodes into layers by comparing their positions before the layout algorithm was started. The idea is that the relative horizontal order of nodes as it was before layout was applied is not changed. This of course requires valid positions for all nodes to have been set on the input graph before calling the layout algorithm. The interactive node layering algorithm uses the Interactive Reference Point option to determine which reference point of nodes are used to compare positions. */\r\n                        nodePlacement:'BRANDES_KOEPF', // Strategy for Node Placement\r\n                        /* BRANDES_KOEPF Minimizes the number of edge bends at the expense of diagram size: diagrams drawn with this algorithm are usually higher than diagrams drawn with other algorithms.\r\n                        LINEAR_SEGMENTS Computes a balanced placement.\r\n                        INTERACTIVE Tries to keep the preset y coordinates of nodes from the original layout. For dummy nodes, a guess is made to infer their coordinates. Requires the other interactive phase implementations to have run as well.\r\n                        SIMPLE Minimizes the area at the expense of... well, pretty much everything else. */\r\n                        randomizationSeed: 1, // Seed used for pseudo-random number generators to control the layout algorithm; 0 means a new seed is generated\r\n                        routeSelfLoopInside: false, // Whether a self-loop is routed around or inside its node.\r\n                        separateConnectedComponents: true, // Whether each connected component should be processed separately\r\n                        spacing: 20, // Overall setting for the minimal amount of space to be left between objects\r\n                        thoroughness: 7 // How much effort should be spent to produce a nice layout..\r\n                    },\r\n                    priority: function(  ){ return null; }, // Edges with a non-nil value are skipped when greedy edge cycle breaking is enabled\r\n                },\r\n                layoutBreadthFirst: {\r\n                    name: 'breadthfirst',\r\n                    fit: false, // whether to fit the viewport to the graph\r\n                    directed: true, // whether the tree is directed downwards (or edges can point in any direction if false)\r\n                    padding: this.gridSize / 2, // padding on fit\r\n                    circle: false, // put depths in concentric circles if true, put depths top down if false\r\n                    grid: true, // whether to create an even grid into which the DAG is placed (circle:false only)\r\n                    spacingFactor: 1, // positive spacing factor, larger => more space between nodes (N.B. n/a if causes overlap)\r\n                    boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\r\n                    avoidOverlap: true, // prevents node overlap, may overflow boundingBox if not enough space\r\n                    nodeDimensionsIncludeLabels: false, // Excludes the label when calculating node bounding boxes for the layout algorithm\r\n                    roots: undefined, // the roots of the trees\r\n                    maximal: true, // whether to shift nodes down their natural BFS depths in order to avoid upwards edges (DAGS only)\r\n                    animate: false, // whether to transition the node positions\r\n                    animationDuration: 500, // duration of animation in ms if enabled\r\n                    animationEasing: undefined, // easing of animation if enabled,\r\n                    animateFilter: function (  ){ return true; }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\r\n                    ready: undefined, // callback on layoutready\r\n                    stop: undefined, // callback on layoutstop\r\n                    transform: function (node, position ){ return position; } // transform a given node position. Useful for changing flow direction in discrete layouts\r\n                },\r\n                minZoom: 0.05,\r\n                maxZoom: 2.0,\r\n                style: [\r\n                    // see https://github.com/cytoscape/cytoscape.js/blob/master/documentation/md/style.md\r\n                    // for style settings. Note can layer and position SVG background images - to maybe use\r\n                    // images for finds and samples indicators  \r\n                    {\r\n                        selector: 'node',\r\n                        style: {\r\n                            'min-zoomed-font-size': 1,\r\n                            'font-family': 'sans-serif',\r\n                            'font-size': '1em',\r\n                            'shape': 'rectangle',\r\n                            'width': this.gridSize * 3,\r\n                            'height': this.gridSize * 1,\r\n                            'padding': 0,\r\n                            'text-opacity': 1.0,\r\n                            'text-valign': 'center',\r\n                            'text-halign': 'center',\r\n                            'color': 'black',\r\n                            'background-color': 'white',\r\n                            'background-opacity': 1.0,\r\n                            'border-color': 'black',\r\n                            'border-width': '4px',\r\n                            'border-style': 'solid',\r\n                            'border-opacity': 1.0,\r\n                            //'background-fill': 'radial-gradient',\r\n                            //'background-gradient-stop-colors': 'aliceblue blue'\r\n                        }\r\n                    },                    \r\n                    {                       \r\n                        selector: 'node[class=\"context\"]',\r\n                        style: {\r\n                            'width': this.gridSize * 3,\r\n                            'height': this.gridSize * 1,\r\n                            'label':  el => `${el.data('label') ? el.data('label') : el.data('id')}`,                             \r\n                            //'background-fill': 'radial-gradient',\r\n                            //'background-gradient-stop-colors': 'white gray'  \r\n                        }\r\n                    },\r\n                    {                       \r\n                        selector: 'node[class=\"context\"]:selected',\r\n                        style: { 'background-color': 'gold' }\r\n                    },  \r\n                    {\r\n                        selector: 'node[class=\"phase\"]',\r\n                        style: {\r\n                            //'label':  el => `${el.data('label') ? el.data('label') : el.data('id')}`,\r\n                            'width': '600px',\r\n                            'text-opacity': 0.75,\r\n                            'text-valign': 'top',\r\n                            'text-halign': 'right',\r\n                            'text-margin-x': 5,\r\n                            'text-margin-y': 15,\r\n                            'padding': this.gridSize,\r\n                            'color': 'gray',                            \r\n                            //'background-color': 'ivory',\r\n                            'border-color': 'lightgray',\r\n                            'border-width': '1px'                            \r\n                        }\r\n                    }, \r\n                    {                       \r\n                        selector: 'node[class=\"phase\"]:selected',\r\n                        style: { 'background-color': 'gold' }\r\n                    },                                     \r\n                    {\r\n                        selector: 'node[class=\"group\"]',\r\n                        style: {\r\n                            //'padding': 15, \r\n                            'label':  el => `${el.data('label') ? el.data('label') : el.data('id')}`, \r\n                            'text-opacity': 0.75,\r\n                            'text-valign': 'top',\r\n                            'text-halign': 'right',\r\n                            'text-margin-x': 5,\r\n                            'text-margin-y': 15,\r\n                            'color': 'green',                            \r\n                            'background-color': 'honeydew',\r\n                            'border-color': 'green'                            \r\n                        }\r\n                    }, \r\n                    {                       \r\n                        selector: 'node[class=\"group\"]:selected',\r\n                        style: { 'background-color': 'gold' }\r\n                    },                  \r\n                    {\r\n                        selector: 'node[class=\"subgroup\"]',\r\n                        style: {\r\n                            'label':  el => `${el.data('label') ? el.data('label') : el.data('id')}`, \r\n                            'text-opacity': 0.75,\r\n                            'text-valign': 'center',\r\n                            'text-halign': 'right',\r\n                            'text-margin-x': 5,\r\n                            //'text-margin-y': 0,\r\n                            'text-justification': 'auto',\r\n                            \r\n                            'color': 'blue',                            \r\n                            'background-color': 'aliceblue',\r\n                            'border-color': 'blue',                           \r\n                        }\r\n                    },\t \r\n                    {                       \r\n                        selector: 'node[class=\"subgroup\"]:selected',\r\n                        style: { 'background-color': 'gold' }\r\n                    },                    \t\r\n                    {\r\n                        selector: 'edge',\r\n                        style: {\r\n                            'curve-style': 'taxi',\r\n                            'taxi-direction': 'downward',\r\n                            'taxi-turn': 15,\r\n                            'edge-distances': 'intersection',\r\n                            'taxi-turn-min-distance': 15,\r\n                            'source-endpoint': 'outside-to-node',\r\n                            'target-endpoint': 'outside-to-node',\r\n                            'width': 3,\r\n                            'target-arrow-shape': 'none',\r\n                            'line-color': 'gray',\r\n                            'line-style': 'solid',\r\n                            'target-arrow-color': '#9dbaea'\r\n                        }\r\n                    },\r\n                    {                       \r\n                        selector: 'edge:selected',\r\n                        style: { 'line-color': 'gold' }\r\n                    },\r\n                ]                \r\n            }\r\n\t\t}\r\n\t},\r\n    watch: {\r\n        // show visual indicator of currently selected node if selected elsewhere\r\n        selectedID(newValue) {            \r\n            const cyi = (this.$refs.cy || {}).instance || null\r\n            if(!cyi) return \r\n            cyi.elements(\":selected\").unselect()           \r\n            cyi.$id(newValue).select()            \r\n        }\r\n    },\r\n\tcomputed: { \r\n        gridSpacing(){ return this.gridSize }, \r\n        nodes() {\r\n            return []\r\n                .concat(this.$store.getters.phases)\r\n                .concat(this.$store.getters.groups)\r\n                .concat(this.$store.getters.subgroups)\r\n                .concat(this.$store.getters.contexts)\r\n                //.concat(this.$store.getters.datings)    // don't display on graph               \r\n        },\r\n        edges() {\r\n            return (this.$store.getters.edges).filter(e => e.data.type == \"above\")\r\n        }, \r\n        selectedID() {\r\n            return this.$store.getters.selectedID            \r\n        },                   \r\n    },\r\n    /*watch: {\r\n        elements: async function () {\r\n            const cyi = (this.$refs.cy || {}).instance\r\n            this.redoLayout(cyi)            \r\n        }\r\n    },*/\r\n\tmethods: {\r\n        preConfig(cytoscape) {\r\n            cytoscape.use(dagre) \r\n            cytoscape.use(elk)\r\n            cytoscape.use(klay)\r\n            cytoscape.use(gridGuide) // gridGuide(cytoscape)\r\n            cytoscape.use(cyCanvas)\r\n            //cytoscape.use(Layers)\r\n\r\n        },\r\n\r\n        // notify store that a node has been selected in the diagram\r\n        elementSelected(event, element){\r\n            const cyi = (this.$refs.cy || {}).instance || null\r\n            if(!cyi) return \r\n            cyi.elements(\":selected\").unselect()           \r\n            cyi.$id(element.data.id).select()     \r\n            this.$store.dispatch('setSelectedID', element.data.id)\r\n        },\r\n         \r\n        afterCreated(cytoscape) {\r\n            // set up grid, snap and guidelines\r\n            cytoscape.gridGuide({\r\n                // On/Off Modules\r\n                /* From the following four snap options, at most one should be true at a given time */\r\n                snapToGridOnRelease: false, // Snap to grid on release\r\n                snapToGridDuringDrag: true, // Snap to grid during drag\r\n                snapToAlignmentLocationOnRelease: false, // Snap to alignment location on release\r\n                snapToAlignmentLocationDuringDrag: false, // Snap to alignment location during drag\r\n                distributionGuidelines: true, // Distribution guidelines\r\n                geometricGuideline: true, // Geometric guidelines\r\n                initPosAlignment: false, // Guideline to initial mouse position\r\n                centerToEdgeAlignment: false, // Center to edge alignment\r\n                resize: false, // Adjust node sizes to cell sizes\r\n                parentPadding: false, // Adjust parent sizes to cell sizes by padding\r\n                drawGrid: true, // Draw grid background\r\n            \r\n                // General\r\n                gridSpacing: this.gridSize, // Distance between the lines of the grid.\r\n                snapToGridCenter: true, // Snaps nodes to center of gridlines. When false, snaps to gridlines themselves. Note that either snapToGridOnRelease or snapToGridDuringDrag must be true.\r\n            \r\n                // Draw Grid\r\n                zoomDash: true, // Determines whether the size of the dashes should change when the drawing is zoomed in and out if grid is drawn.\r\n                panGrid: true, // Determines whether the grid should move then the user moves the graph if grid is drawn.\r\n                gridStackOrder: 0, // Namely z-index\r\n                gridColor: '#dedede', // Color of grid lines\r\n                lineWidth: 1.0, // Width of grid lines\r\n            \r\n                // Guidelines\r\n                guidelinesStackOrder: 4, // z-index of guidelines\r\n                guidelinesTolerance: 2.00, // Tolerance distance for rendered positions of nodes' interaction.\r\n                guidelinesStyle: { // Set ctx properties of line. Properties are here:\r\n                    strokeStyle: \"#8b7d6b\", // color of geometric guidelines\r\n                    geometricGuidelineRange: 400, // range of geometric guidelines\r\n                    range: 100, // max range of distribution guidelines\r\n                    minDistRange: 10, // min range for distribution guidelines\r\n                    distGuidelineOffset: 10, // shift amount of distribution guidelines\r\n                    horizontalDistColor: \"#ff0000\", // color of horizontal distribution alignment\r\n                    verticalDistColor: \"#00ff00\", // color of vertical distribution alignment\r\n                    initPosAlignmentColor: \"#0000ff\", // color of alignment to initial mouse location\r\n                    lineDash: [0, 0], // line style of geometric guidelines\r\n                    horizontalDistLine: [0, 0], // line style of horizontal distribution guidelines\r\n                    verticalDistLine: [0, 0], // line style of vertical distribution guidelines\r\n                    initPosAlignmentLine: [0, 0], // line style of alignment to initial mouse position\r\n                },\r\n            \r\n                // Parent Padding\r\n                parentSpacing: -1 // -1 to set paddings of parents to gridSpacing\r\n            })\r\n            \r\n            //this.drawPhases(cytoscape)\r\n        },\r\n\r\n        // draw phases separately\r\n       // drawPhases(cyi) {\r\n            //const cyi = (this.$refs.cy || {}).instance || null      \r\n            //if(!cyi) return\r\n            /*const layers = cyi.layers()\r\n            layers.nodeLayer.insertAfter('html-static').node.innerHTML = 'Static Test Label'\r\n            layers.renderPerNode(layers.append('canvas'), (ctx, node, bb) => {\r\n                if(node._private.data.class == 'phase') {\r\n                    ctx.strokeStyle = 'red';\r\n                    ctx.lineWidth = 3;\r\n                    ctx.strokeRect(0, 0, 600, bb.h);\r\n                }\r\n            });  */\r\n\r\n        //},\r\n        \r\n        // export visible part of diagram to PNG file\r\n        exportPartPNG(cyi) { this.exportPNG(cyi, false) },\r\n\r\n        // export entire diagram to PNG file\r\n        exportFullPNG(cyi) { this.exportPNG(cyi, true) },\r\n\r\n        // export diagram to PNG file\r\n        exportPNG(cyi, full=false) {\r\n            if(!cyi) return\r\n            const png64 = cyi.png({full: full, output: 'blob'});            \r\n            const fileName = `phaser-${ moment().format(\"YYYYMMDDHHmmss\") }.png`\r\n            \r\n            let blob = new Blob([png64], { type: 'image/png' })\r\n            if (navigator.msSaveBlob) { // IE 10+\r\n                navigator.msSaveBlob(blob, fileName)\r\n            } else {\r\n                let link = document.createElement('a')\r\n                if (link.download !== undefined) { // feature detection\r\n                    // Browsers that support HTML5 download attribute\r\n                    let url = URL.createObjectURL(blob)\r\n                    link.setAttribute('href', url)\r\n                    link.setAttribute('download', fileName)\r\n                    link.style.visibility = 'hidden'\r\n                    document.body.appendChild(link)\r\n                    link.click()\r\n                    document.body.removeChild(link)\r\n                }\r\n            }\r\n        },\r\n\r\n        clear(cyi) {\r\n            cyi.zoom(1)\r\n            cyi.pan({x: 0, y: 0})\r\n        },\r\n\r\n        // zoom diagram to various scales\r\n        zoomFit(cyi) { if(cyi) cyi.fit() },\r\n        zoomIn(cyi) { this.zoomMe(cyi, 1.25) },\r\n        zoomOut(cyi) { this.zoomMe(cyi, 0.75) },\r\n        zoomMe(cyi, zoomBy=1) {\r\n            if(!cyi) return\r\n            cyi.zoom({\r\n                level: cyi.zoom() * zoomBy,\r\n                position: {\r\n                    x: Math.round((cyi.extent().x1 + cyi.extent().x2) / 2),\r\n                    y: Math.round((cyi.extent().y1 + cyi.extent().y2) / 2),\r\n                }\r\n            })\r\n        },        \r\n\r\n        redoLayout(cyi, name=\"dagre\") {\r\n            if(!cyi || this.locked) return      \r\n            this.busy = true     \r\n            this.clear(cyi)\r\n            let options = this.config.layoutDagre\r\n            switch(name) {\r\n                case \"elk\": options = this.config.layoutElk;break;\r\n                case \"dagre\": options = this.config.layoutDagre;break;  \r\n                case \"klay\": options = this.config.layoutKlay;break;    \r\n                case \"breadthfirst\": options = this.config.layoutBreadthFirst;break;                      \r\n            }\r\n            cyi.layout(options).run() \r\n            //this.drawPhases(cyi)\r\n        },  \r\n\r\n        layoutStop() {\r\n            // update node x,y positions within store following auto-layout\r\n            const cyi = (this.$refs.cy || {}).instance || null\r\n            if(!cyi) return\r\n            \r\n            cyi.elements(\"node\").forEach(node => { \r\n                this.$store.dispatch('updateNode', { \r\n                    data: node.data(), \r\n                    position: node.position() \r\n                })\r\n            })\r\n            this.busy = false\r\n        },\r\n\r\n        lockChanged(value) {\r\n            this.locked = value\r\n            const cyi = (this.$refs.cy || {}).instance || null\r\n            if(cyi) cyi.autolock(value)\r\n        },\r\n\r\n        drawPhases(cyi) {\r\n            if(!cyi) return\r\n            // drawing phases on supplementary layer\r\n            var layer = cyi.cyCanvas()\r\n            var canvas = layer.getCanvas()\r\n            var ctx = canvas.getContext('2d')\r\n\r\n            cyi.on(\"render cyCanvas.resize pan\", function() {\r\n                \r\n                layer.resetTransform(ctx)\r\n                layer.clear(ctx)\r\n                layer.setTransform(ctx)\r\n\r\n                // Draw fixed elements\r\n                //ctx.fillRect(0, 0, 100, 100); // Top left corner\r\n                \r\n                // Draw phase elements relative to cy nodes\r\n                let extent = cyi.extent()            \r\n                cyi.nodes('[class = \"phase\"]')\r\n                    .forEach(function(n) {\r\n                        let dims = n.layoutDimensions()\r\n                        let x = extent.x1\r\n                        let y = n.position().y - (dims.h/2)\r\n                        let w = extent.w\r\n                        let h = dims.h\r\n                    \r\n                        // draw phase outline (dashed red)\r\n                        ctx.strokeStyle = \"red\"\r\n                        ctx.setLineDash([5,5])\r\n                        ctx.strokeRect(x, y, w, h) \r\n                        \r\n                        // draw phase fill\r\n                        ctx.globalAlpha = 0.2\r\n                        ctx.fillStyle = \"ivory\"\r\n                        ctx.fillRect(x,y, w,h)\r\n                        ctx.globalAlpha = 1.0\r\n                });\r\n            });\r\n        },\r\n\r\n        // draw phase lines midway between each phase instead??\r\n        drawPhases2(cyi) {\r\n            if(!cyi) return\r\n            // drawing phases on supplementary layer\r\n            var layer = cyi.cyCanvas()\r\n            var canvas = layer.getCanvas()\r\n            var ctx = canvas.getContext('2d')\r\n\r\n            cyi.on(\"render cyCanvas.resize pan\", function() {\r\n                // prepare layer for drawing\r\n                layer.resetTransform(ctx)\r\n                layer.clear(ctx)\r\n                layer.setTransform(ctx)\r\n                \r\n                let prevNode = null\r\n                let extent = cyi.extent()  \r\n\r\n                // Draw phase elements relative to cy nodes                    \r\n                cyi.nodes('[class = \"phase\"]')\r\n                    .sort((a,b) => a.data().dating?.maxYear - b.data().dating?.maxYear)\r\n                    .forEach(function(thisNode) {\r\n                        let dims = thisNode.layoutDimensions()\r\n                        let x = extent.x1\r\n                        let y = thisNode.position().y - (dims.h/2)                         \r\n\r\n                        // line style for drawing (dashed red)\r\n                        ctx.strokeStyle = \"red\"\r\n                        ctx.strokeWidth = \"2\"\r\n                        ctx.setLineDash([4,4])\r\n\r\n                        // draw phase line directly above this node                       \r\n                        ctx.beginPath()\r\n                        ctx.moveTo(x, y)\r\n                        ctx.lineTo(extent.w, y)\r\n                        ctx.stroke()                           \r\n                       \r\n                        if(!prevNode) {\r\n                            // first/lowest - draw extra phase line below this node\r\n                            let y = thisNode.position().y + (dims.h/2)\r\n                            ctx.beginPath()\r\n                            ctx.moveTo(x, y)\r\n                            ctx.lineTo(extent.w, y)\r\n                            ctx.stroke()                            \r\n                        }  \r\n\r\n                        // draw phase fill\r\n                        //ctx.globalAlpha = 0.1\r\n                        //ctx.fillStyle = \"ivory\"\r\n                        //ctx.fillRect(x,y, w,h)\r\n                        //ctx.globalAlpha = 1.0\r\n                    \r\n                        // draw phase line (dashed red)\r\n                        /*ctx.strokeStyle = \"red\"\r\n                        ctx.setLineDash([5,5])\r\n                        ctx.beginPath()\r\n                        ctx.moveTo(x1, y)\r\n                        ctx.lineTo(x2, y)\r\n                        ctx.stroke()    */\r\n                        \r\n                        // draw phase label\r\n                        ctx.font = \"20px Arial\"\r\n                        ctx.textAlign = \"left\"\r\n                        ctx.textBaseline = \"top\"\r\n                        ctx.fillStyle = \"red\"\r\n                        ctx.fillText(thisNode.data().label, extent.x1 + 10, y + 10)\r\n\r\n                        // store prev for next iteration\r\n                        prevNode = thisNode\r\n                    })\r\n            })\r\n        }\r\n    },\r\n\r\n\t// lifecycle hooks\r\n    beforeCreate() {},\r\n    created() {},   \r\n    afterCreated() {\r\n        // if(this.cyi) this.cyi.layout.run()\r\n    }, \r\n\tbeforeMount() {},\r\n\tmounted() {\r\n        let self = this  \r\n        const cyi = (this.$refs.cy || {}).instance || null      \r\n        if(!cyi) return\r\n\r\n        // diagram locked by default\r\n        cyi.autolock(this.locked)\r\n                \r\n        // cytoscape diagram event handlers\r\n        cyi.on('click tap', 'node', function(evt) {\r\n            self.selectedElementID = evt.target.id() \r\n        })\r\n        // 'position' event causes endless loop here, so using vmouseup/tapend\r\n        // notify store of new node position after being dragged on screen\r\n        cyi.on('vmouseup tapend', 'node', function(evt) {\r\n            let payload = {\r\n               data: evt.target.data(),\r\n               position: evt.target.position()\r\n            }\r\n            self.$store.dispatch('updateNode', payload)\r\n        })\r\n        \r\n        // drawing phases on supplementary layer\r\n       // self.drawPhases(cyi)\r\n        self.drawPhases2(cyi)\r\n        // override height setting on cytoscape-vue div, else always 600px!\r\n        // see https://github.com/rcarcasses/vue-cytoscape/issues/47\r\n        document.getElementById(\"cytoscape-div\").style.minHeight=\"900px\" \r\n                \r\n        // event bus message handlers (for events fired from menu bar)\r\n        self.$root.$on(\"diagramClear\", () => self.clear(cyi))\r\n        self.$root.$on(\"diagramZoomIn\", () => self.zoomIn(cyi))\r\n        self.$root.$on(\"diagramZoomOut\", () => self.zoomOut(cyi))\r\n        self.$root.$on(\"diagramZoomFit\", () => self.zoomFit(cyi))\r\n        self.$root.$on(\"diagramExportPartPNG\", () => self.exportPartPNG(cyi))\r\n        self.$root.$on(\"diagramExportFullPNG\", () => self.exportFullPNG(cyi))\r\n        self.$root.$on(\"diagramRedoLayout\", name => self.redoLayout(cyi, name))      \r\n        // this one fired from ItemEditor - just re-layout contents of this node\r\n        self.$root.$on(\"redoCompoundNodeLayout\", node => {\r\n            let cyNode = cyi.$(`#${node.data.id}`)\r\n            // get TL position of compound node prior to redoing layout\r\n            let bbox1 = cyNode.boundingBox()\r\n            let tlPos = { x: bbox1.x1, y: bbox1.y1 }\r\n            \r\n            // only redoing layout for descendant\r\n            // nodes and their associated edges\r\n            let nodes = cyNode.descendants()\r\n            let edges = nodes.edgesWith(nodes)\r\n            nodes.merge(edges).layout(this.config.layoutDagre).run() \r\n\r\n            // compound node may have moved - restore to previous position   \r\n            let bbox2 = cyNode.boundingBox() \r\n            let newPos = {\r\n                x: (tlPos.x + (bbox2.w / 2)) - 5, // not sure why -5 but it works??\r\n                y: (tlPos.y + (bbox2.h / 2))\r\n            }        \r\n            cyNode.position(newPos)\r\n            // inform the store about the new position\r\n            self.$store.dispatch('updateNode', { data: node.data, position: newPos })\r\n        }), \r\n\r\n        // ensure parent change in data is reflected on diagram, \r\n        // cytoscape data.parent is immutable so must call 'move'\r\n        self.$root.$on(\"nodeParentChanged\", (node) => {\r\n            let cyNode = cyi.$(`#${node.data.id}`)\r\n            if(cyNode && node.data.parent !== \"\")\r\n                cyNode.move({ parent: node.data.parent }) \r\n            else    // removing from group\r\n                cyNode.move({ parent: null })\r\n        })\r\n    },\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {\r\n        // clear event listeners to avoid memory leaks. See:\r\n        // https://blog.usejournal.com/vue-js-best-practices-c5da8d7af48d\r\n        //self.$root.$off()\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  /* #diagram2 { position: absolute; } */\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixDiagramCY.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixDiagramCY.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MatrixDiagramCY.vue?vue&type=template&id=6a250094&scoped=true&\"\nimport script from \"./MatrixDiagramCY.vue?vue&type=script&lang=js&\"\nexport * from \"./MatrixDiagramCY.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MatrixDiagramCY.vue?vue&type=style&index=0&id=6a250094&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a250094\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <!--<MatrixDiagramJointJS/>-->\r\n    <MatrixDiagramCY/>    \r\n</template>\r\n\r\n<script>\r\n\r\n//import MatrixDiagramJointJS from '@/components/MatrixDiagramJointJS.vue' \r\nimport MatrixDiagramCY from '@/components/MatrixDiagramCY.vue' \r\n\r\nexport default { \r\n    name: 'LayoutContent',\r\n    components: { \r\n        //MatrixDiagramJointJS, \r\n        MatrixDiagramCY\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayoutContent.vue?vue&type=template&id=13111654&scoped=true&\"\nimport script from \"./LayoutContent.vue?vue&type=script&lang=js&\"\nexport * from \"./LayoutContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13111654\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ItemEditors')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-tabs',{staticClass:\"my-1\",model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},[_vm._l((_vm.nodeClasses),function(nc){return _c('b-tab',{key:nc,staticClass:\"my-2\",scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.capitalize(nc))+_vm._s(nc !== \"dating\" ? \"s\" : \"\"))]),_c('b-badge',{staticClass:\"border secondary pb-1 m-0 ml-2\",attrs:{\"pill\":\"\",\"variant\":\"outline\"}},[_c('span',[_vm._v(_vm._s(_vm.itemCount(nc)))])])]},proxy:true}],null,true)},[_c('ItemEditor',{attrs:{\"itemClass\":nc}})],1)}),_c('b-tab',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',[_vm._v(\"Edges\")]),_c('b-badge',{staticClass:\"border secondary pb-1 m-0 ml-2\",attrs:{\"variant\":\"outline\"}},[_c('span',[_vm._v(_vm._s(_vm.$store.getters.edges.length))])])]},proxy:true}])},[_c('ItemEditor',{attrs:{\"itemClass\":\"edge\"}})],1),_c('b-tab',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',[_vm._v(\"Validation\")])]},proxy:true}])},[_c('Validation')],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-2\"},[_c('ItemTable',{staticClass:\"mb-2\",attrs:{\"itemClass\":_vm.itemClass},on:{\"itemSelected\":_vm.itemSelected,\"itemDeleted\":_vm.itemDeleted}}),(_vm.fields.includes('redolayout'))?_c('b-form-row',[_c('b-col',{staticStyle:{\"text-align\":\"right\"}},[_c('b-button',{staticClass:\"text-left shadow\",attrs:{\"pill\":\"\",\"size\":\"sm\",\"disabled\":_vm.disabled,\"variant\":\"outline-primary\",\"title\":\"redo layout\",\"alt\":\"redo layout\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.redoCompoundNodeLayout($event)}}},[_c('b-icon-diagram-3',{staticClass:\"mr-2\"}),_c('span',[_vm._v(_vm._s((\"Redo layout for this \" + _vm.itemClass)))])],1)],1)],1):_vm._e(),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('label'))?_c('ItemLabel',{attrs:{\"disabled\":_vm.disabled,\"placeholder\":(\"\" + _vm.itemClass)},on:{\"input\":_vm.labelChanged},model:{value:(((_vm.selectedItem || {}).data || {}).label),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"label\", $$v)},expression:\"((selectedItem || {}).data || {}).label\"}}):_vm._e(),(_vm.fields.includes('uri'))?_c('ItemLabel',{attrs:{\"disabled\":_vm.disabled,\"label\":\"URI\",\"placeholder\":(\"\" + _vm.itemClass)},on:{\"input\":_vm.uriChanged},model:{value:(((_vm.selectedItem || {}).data || {}).uri),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"uri\", $$v)},expression:\"((selectedItem || {}).data || {}).uri\"}}):_vm._e(),(_vm.fields.includes('period'))?_c('ItemLookup',{attrs:{\"label\":\"Period\",\"disabled\":_vm.disabled,\"options\":_vm.$store.getters.periodOptions},on:{\"change\":_vm.periodChanged},model:{value:(((_vm.selectedItem || {}).data || {}).period),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"period\", $$v)},expression:\"((selectedItem || {}).data || {}).period\"}}):_vm._e(),(_vm.fields.includes('type'))?_c('ItemLookup',{attrs:{\"label\":\"Type\",\"mode\":\"input\",\"disabled\":_vm.disabled,\"placeholder\":(_vm.itemClass + \" type\"),\"options\":_vm.typeLookupOptions},on:{\"change\":_vm.typeChanged},model:{value:(((_vm.selectedItem || {}).data || {}).type),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"type\", $$v)},expression:\"((selectedItem || {}).data || {}).type\"}}):_vm._e(),(_vm.fields.includes('cud'))?_c('ItemLookup',{attrs:{\"label\":\"Construction/Use/Disuse\",\"disabled\":_vm.disabled,\"options\":[\n\t\t\t\t\t\t{ value: 'C', text: 'construction' }, \n\t\t\t\t\t\t{ value: 'U', text: 'use' }, \n\t\t\t\t\t\t{ value: 'D', text: 'disuse' },\n\t\t\t\t\t\t{ value: 'CU', text: 'construction & use' }, \n\t\t\t\t\t\t{ value: 'CD', text: 'construction & disuse' },\n\t\t\t\t\t\t{ value: 'UD', text: 'use & disuse' },\n\t\t\t\t\t\t{ value: 'CUD', text: 'construction & use & disuse' }\n\t\t\t\t\t]},on:{\"change\":_vm.cudChanged},model:{value:(((_vm.selectedItem || {}).data || {}).cud),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"cud\", $$v)},expression:\"((selectedItem || {}).data || {}).cud\"}}):_vm._e()],1),_c('b-col',[(_vm.fields.includes('parent'))?_c('ItemLookup',{staticClass:\"shadow-sm\",attrs:{\"label\":\"Within\",\"disabled\":_vm.disabled,\"placeholder\":(_vm.itemClass + \" parent\"),\"options\":_vm.parentLookupOptions},on:{\"change\":_vm.parentChanged},model:{value:(((_vm.selectedItem || {}).data || {}).parent),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"parent\", $$v)},expression:\"((selectedItem || {}).data || {}).parent\"}}):_vm._e(),(_vm.fields.includes('contains'))?_c('ItemList',{attrs:{\"label\":\"Contains\",\"disabled\":true,\"items\":_vm.itemContains}}):_vm._e(),(_vm.fields.includes('periodContains'))?_c('ItemList',{attrs:{\"label\":\"Contains\",\"disabled\":true,\"items\":_vm.periodContains}}):_vm._e()],1)],1),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('description'))?_c('b-form-group',{attrs:{\"label\":\"Description\",\"label-for\":\"itemDescription\"}},[_c('b-form-textarea',{staticClass:\"shadow-sm\",attrs:{\"disabled\":_vm.disabled,\"placeholder\":(_vm.itemClass + \" description\"),\"rows\":\"2\",\"max-rows\":\"2\",\"name\":\"itemDescription\"},on:{\"change\":_vm.descriptionChanged},model:{value:(((_vm.selectedItem || {}).data || {}).description),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"description\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"((selectedItem || {}).data || {}).description\"}})],1):_vm._e()],1)],1),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('dating'))?_c('Dating',{attrs:{\"disabled\":_vm.disabled,\"dating\":((_vm.selectedItem || {}).data || {}).dating},on:{\"change\":_vm.datingChanged}}):_vm._e()],1)],1),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('included'))?_c('b-form-checkbox',{attrs:{\"disabled\":_vm.disabled,\"value\":true,\"unchecked-value\":false,\"name\":\"check-button\",\"switch\":\"\"},on:{\"change\":_vm.includeChanged},model:{value:(((_vm.selectedItem || {}).data || {}).included),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"included\", $$v)},expression:\"((selectedItem || {}).data || {}).included\"}},[_vm._v(\"Included in calculations\")]):_vm._e()],1),_c('b-col',[(_vm.fields.includes('association'))?_c('b-form-group',{attrs:{\"label\":\"Association\",\"label-for\":\"itemAssociation\"}},[_c('b-form-select',{staticClass:\"shadow-sm\",attrs:{\"disabled\":this.disabled,\"name\":\"itemAssociation\",\"options\":[\n\t\t\t\t\t\t\t{ value: 'direct', text: 'direct' }, \n\t\t\t\t\t\t\t{ value: 'residual', text: 'residual' }, \n\t\t\t\t\t\t\t{ value: 'intrusive', text: 'intrusive' }, \n\t\t\t\t\t\t\t{ value: 'other', text: 'other' }\n\t\t\t\t\t\t]},on:{\"change\":_vm.associationChanged},model:{value:(((_vm.selectedItem || {}).data || {}).association),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"association\", $$v)},expression:\"((selectedItem || {}).data || {}).association\"}})],1):_vm._e()],1)],1),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('stratigraphy'))?_c('Stratigraphy',{attrs:{\"sourceID\":((_vm.selectedItem || {}).data || {}).id,\"disabled\":_vm.disabled}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const NodeClass = Object.freeze({\r\n    PHASE: \"phase\",\t\r\n    GROUP: \"group\",\r\n    SUBGROUP: \"subgroup\",\r\n    CONTEXT: \"context\",\r\n    //FIND: \"find\",\r\n    //SAMPLE: \"sample\",\r\n    DATING: \"dating\",\r\n    PERIOD: \"period\"\r\n})\r\n//export default NodeClass","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"p-0\",attrs:{\"fluid\":\"\"}},[_c('b-row',{attrs:{\"align-h\":\"between\"}},[_c('b-col',[(_vm.itemClass !== 'edge')?_c('b-button',{staticClass:\"text-left shadow\",attrs:{\"pill\":\"\",\"size\":\"sm\",\"variant\":\"outline-primary\",\"title\":(\"add \" + _vm.itemClass),\"alt\":(\"add \" + _vm.itemClass)},on:{\"click\":function($event){$event.stopPropagation();return _vm.insertItem()}}},[_c('b-icon-plus'),_vm._v(\"Add \"+_vm._s(_vm.itemClass))],1):_vm._e()],1),_c('b-col',[_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"Filter\",\"label-for\":\"filter-input\",\"label-cols-sm\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('b-icon-search')]},proxy:true}])},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"size\":\"md\",\"id\":\"filter-input\",\"type\":\"search\",\"autocomplete\":\"off\",\"placeholder\":(\"filter \" + _vm.itemClass + \" records\")},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-table',{staticClass:\"overflow-auto shadow-sm\",staticStyle:{\"height\":\"250px\"},attrs:{\"show-empty\":\"\",\"id\":\"datatable\",\"sort-icon-left\":\"\",\"hover\":\"\",\"outlined\":\"\",\"selectable\":\"\",\"small\":\"\",\"no-border-collapse\":true,\"sticky-header\":\"300px\",\"select-mode\":\"single\",\"primary-key\":\"id\",\"items\":_vm.items,\"fields\":_vm.fields,\"filter\":_vm.filter},on:{\"row-selected\":_vm.rowSelected},scopedSlots:_vm._u([{key:\"cell(actions)\",fn:function(row){return [_c('div',{staticClass:\"text-right\"},[_c('b-icon-x-circle',{staticClass:\"action mr-2\",attrs:{\"width\":\"15\",\"height\":\"15\",\"title\":(\"delete \" + _vm.itemClass + \" \" + (row.item.data.label)),\"alt\":(\"delete \" + _vm.itemClass)},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteItem(row.item)}}})],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-container fluid class=\"p-0\">\r\n\t\t<b-row align-h=\"between\">\t\t\t\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-button pill\r\n\t\t\t\t\tv-if=\"itemClass !== 'edge'\"\r\n\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\tvariant=\"outline-primary\"\r\n\t\t\t\t\tclass=\"text-left shadow\" \r\n\t\t\t\t\t:title=\"`add ${itemClass}`\" \r\n\t\t\t\t\t:alt=\"`add ${itemClass}`\"\t\t\t\r\n\t\t\t\t\t@click.stop=\"insertItem()\">\r\n\t\t\t\t\t<b-icon-plus />Add {{ itemClass }}</b-button>\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-group\r\n\t\t\t\t\tlabel=\"Filter\"\r\n\t\t\t\t\tlabel-for=\"filter-input\"\r\n\t\t\t\t\tlabel-cols-sm=\"3\"\r\n\t\t\t\t\tlabel-align-sm=\"right\"\r\n\t\t\t\t\tlabel-size=\"sm\"\r\n\t\t\t\t\tclass=\"mb-2\">\r\n\t\t\t\t\t<template v-slot:label>\r\n\t\t\t\t\t\t<b-icon-search />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<b-form-input \r\n\t\t\t\t\t\tsize=\"md\"\r\n\t\t\t\t\t\tid=\"filter-input\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t\tv-model=\"filter\"\r\n\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\t:placeholder=\"`filter ${itemClass} records`\"/>\t\t\t\t\t\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\r\n\t\t</b-row>\r\n\t\t<b-row>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-table show-empty style=\"height: 250px;\"\r\n\t\t\t\t\tid=\"datatable\"\r\n\t\t\t\t\tsort-icon-left\r\n\t\t\t\t\thover outlined selectable small \r\n\t\t\t\t\t:no-border-collapse=\"true\"\r\n\t\t\t\t\tsticky-header=\"300px\" \r\n\t\t\t\t\tselect-mode=\"single\"\r\n\t\t\t\t\tprimary-key=\"id\"\r\n\t\t\t\t\t:items=\"items\" \r\n\t\t\t\t\t:fields=\"fields\"\r\n\t\t\t\t\t:filter=\"filter\"\r\n\t\t\t\t\tclass=\"overflow-auto shadow-sm\"\r\n\t\t\t\t\t@row-selected=\"rowSelected\">\r\n\t\t\t\t\t<template #cell(actions)=\"row\">\r\n\t\t\t\t\t\t<div class=\"text-right\">\r\n\t\t\t\t\t\t\t<b-icon-x-circle width=\"15\" height=\"15\"\r\n\t\t\t\t\t\t\t\tclass=\"action mr-2\" \r\n\t\t\t\t\t\t\t\t:title=\"`delete ${itemClass} ${row.item.data.label}`\" \r\n\t\t\t\t\t\t\t\t:alt=\"`delete ${itemClass}`\"\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t@click.stop=\"deleteItem(row.item)\"/>\t\t\r\n\t\t\t\t\t\t</div>\t\t\t\t\r\n\t\t\t\t\t</template>\t\t\t\t\t\r\n\t\t\t\t</b-table>\r\n\t\t\t\t<!--<div class=\"text-right\">\r\n\t\t\t\t\t<b-icon-plus-circle\r\n\t\t\t\t\t\tclass=\"action mr-2\" \r\n\t\t\t\t\t\t:title=\"`add ${itemClass}`\" \r\n\t\t\t\t\t\t:alt=\"`add ${itemClass}`\"\t\t\t\r\n\t\t\t\t\t\t@click.stop=\"createItem()\"/>\t\t\t\r\n\t\t\t\t</div>-->\r\n\t\t\t</b-col>\r\n\t\t</b-row>\r\n\t</b-container>\r\n\t\r\n</template>\r\n\r\n<script>\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\nimport {NodeClass} from '@/mixins/constants.js'\r\n\r\nexport default {\r\n\tname: 'ItemTable',\r\n\tcomponents: { },\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: {\t\t\r\n\t\titemClass: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: NodeClass.PHASE,\r\n\t\t\tvalidator: value => [...Object.values(NodeClass), \"edge\"].includes(value)\r\n\t\t}\r\n\t},\r\n\tdata() { \r\n\t\treturn {\t\t\t\r\n\t\t\tfilter: \"\",\r\n\t\t\tselectedID: \"\",\r\n\t\t\tsortBy: \"data.label\",\r\n\t\t\tsortDesc: false\t\t\t\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\titems() {\r\n\t\t\tswitch(this.itemClass) {\r\n\t\t\t\tcase NodeClass.PHASE:\r\n\t\t\t\t\treturn this.$store.getters.phases\r\n\t\t\t\tcase NodeClass.GROUP:\r\n\t\t\t\t\treturn this.$store.getters.groups\r\n\t\t\t\tcase NodeClass.SUBGROUP:\r\n\t\t\t\t\treturn this.$store.getters.subgroups\r\n\t\t\t\tcase NodeClass.CONTEXT:\r\n\t\t\t\t\treturn this.$store.getters.contexts\r\n\t\t\t\tcase NodeClass.FIND:\r\n\t\t\t\t\treturn this.$store.getters.finds\r\n\t\t\t\tcase NodeClass.SAMPLE:\r\n\t\t\t\t\treturn this.$store.getters.samples\r\n\t\t\t\tcase NodeClass.DATING:\r\n\t\t\t\t\treturn this.$store.getters.datings\r\n\t\t\t\tcase NodeClass.PERIOD:\r\n\t\t\t\t\treturn this.$store.getters.periods\r\n\t\t\t\tcase \"edge\":\r\n\t\t\t\t\treturn this.$store.getters.edges\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t},\t\t\t\r\n\t\tcolumns() { \r\n\t\t\tswitch(this.itemClass) {\r\n\t\t\t\tcase NodeClass.PHASE: return [\"label\", \"enteredMinYear\", \"enteredMaxYear\", \"enteredDiff\", \"derivedMinYear\", \"derivedMaxYear\", \"duration\", \"period\"]\r\n\t\t\t\tcase NodeClass.GROUP: return [\"label\", \"type\", \"parent\", \"derivedMinYear\", \"derivedMaxYear\", \"duration\", \"period\"]\r\n\t\t\t\tcase NodeClass.SUBGROUP: return [\"label\", \"type\", \"parent\", \"derivedMinYear\", \"derivedMaxYear\", \"duration\", \"period\"]\r\n\t\t\t\tcase NodeClass.CONTEXT: return [\"label\", \"type\", \"parent\", \"derivedMinYear\", \"derivedMaxYear\", \"duration\", \"period\"]\t\r\n\t\t\t\tcase NodeClass.DATING: return [\"label\", \"type\", \"parent\", \"enteredMinYear\", \"enteredMaxYear\", \"enteredDiff\", \"included\", \"period\"]\r\n\t\t\t\tcase NodeClass.PERIOD: return [\"label\", \"enteredMinYear\", \"enteredMaxYear\", \"enteredDiff\"]\r\n\t\t\t\tcase \"edge\": return [\"source\", \"type\", \"target\", \"derivedMinYear\", \"derivedMaxYear\", \"duration\"]\r\n\t\t\t\tdefault: return []\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t},\r\n\t\tfields() {\r\n\t\t\treturn [\t\t\t\t\r\n\t\t\t\t/*{\r\n\t\t\t\t\tkey: \"data.id\",\r\n\t\t\t\t\tlabel: \"id\",\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n\t\t\t\t},*/\r\n\t\t\t\t// displaying label as if identifier\r\n\t\t\t\t... (this.columns.includes('label')) ? [{\r\n\t\t\t\t\tkey: \"data.label\",\r\n\t\t\t\t\tlabel: \"id\",\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n\t\t\t\t}] : [],\r\n\t\t\t\t... (this.columns.includes('period')) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'period',\r\n\t\t\t\t\tlabel: 'period',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.tablePeriodFormatter,\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n\t\t\t\t}] : [],\r\n\t\t\t\t... (this.columns.includes('source')) ? [{\r\n\t\t\t\t\tkey: \"data.source\",\r\n\t\t\t\t\tlabel: \"source\",\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.tableSourceIdFormatter,\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n\t\t\t\t}] : [],  \r\n\t\t\t\t... (this.columns.includes('type')) ? [{\r\n\t\t\t\t\tkey: \"data.type\",\r\n\t\t\t\t\tlabel: \"type\",\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n\t\t\t\t}] : [],  \r\n\t\t\t\t... (this.columns.includes('target')) ? [{\r\n\t\t\t\t\tkey: \"data.target\",\r\n\t\t\t\t\tlabel: \"target\",\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.tableTargetIdFormatter,\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n\t\t\t\t}] : [],   \r\n\t\t\t\t... (this.columns.includes('parent')) ? [{\r\n\t\t\t\t\tkey: \"data.parent\",\r\n\t\t\t\t\tlabel: \"within\",\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.tableParentFormatter,\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n                }] : [],                \r\n\t\t\t\t... (this.columns.includes('enteredMinYear')) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'minyear',\r\n\t\t\t\t\tlabel: 'entered min year',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.tableMinYearFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\r\n\t\t\t\t}] : [],\r\n\t\t\t\t... (this.columns.includes('enteredMaxYear')) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'maxyear',\r\n\t\t\t\t\tlabel: 'entered max year',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.tableMaxYearFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\r\n\t\t\t\t\t}] : [],\r\n\t\t\t\t... (this.columns.includes('enteredDiff')) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'entereddiff',\r\n\t\t\t\t\tlabel: 'duration',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.enteredDiffFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\r\n\t\t\t\t}] : [],\t\t\t\t\r\n\t\t\t\t... (this.columns.includes('derivedMinYear')) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'derivedminyear',\r\n\t\t\t\t\tlabel: 'derived min year',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.derivedMinYearFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\r\n\t\t\t\t}] : [],\r\n\t\t\t\t\r\n\t\t\t\t... (this.columns.includes('derivedMaxYear')) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'derivedmaxyear',\r\n\t\t\t\t\tlabel: 'derived max year',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.derivedMaxYearFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\r\n\t\t\t\t}] : [],\r\n\t\t\t\t... (this.columns.includes('duration')) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'duration',\r\n\t\t\t\t\tlabel: 'duration',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.durationFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\r\n\t\t\t\t}] : [],\t\t\t\t\r\n\t\t\t\t... (this.columns.includes('included')) ? [{\r\n\t\t\t\t\t\tkey: \"data.included\",\r\n\t\t\t\t\t\tlabel: \"included\",\t\r\n\t\t\t\t\t\tformatter: value => value ? \"✓\" : \"✗\",\t\t\t\t\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\tclass: \"text-center\"\t\t\t\t\r\n\t\t\t\t}] : [],     \r\n\t\t\t\t/*{\r\n\t\t\t\t\tkey: \"data.dating.minYear\",\r\n\t\t\t\t\tlabel: \"min year\",\r\n\t\t\t\t\tsortable: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"data.dating.maxYear\",\r\n\t\t\t\t\tlabel: \"max year\",\r\n\t\t\t\t\tsortable: true\r\n\t\t\t\t},*/\r\n\t\t\t\t{ \t\r\n\t\t\t\t\tkey: \"actions\", \r\n\t\t\t\t\tlabel: \"\"\r\n\t\t\t\t}\r\n\t\t\t]\t\t\r\n\t\t}\r\n\t},\r\n\tmounted() {},\r\n\tmethods: {\t\t\t\t\r\n\t\tinsertItem() {\r\n\t\t\tlet self = this\r\n\t\t\tswitch(self.itemClass) {\r\n\t\t\t\tcase NodeClass.PHASE: \r\n\t\t\t\t\tself.$store.dispatch('insertPhase'); break;\r\n\t\t\t\tcase NodeClass.GROUP: \r\n\t\t\t\t\tself.$store.dispatch('insertGroup'); break;\r\n\t\t\t\tcase NodeClass.SUBGROUP: \r\n\t\t\t\t\tself.$store.dispatch('insertSubGroup'); break;\r\n\t\t\t\tcase NodeClass.CONTEXT: \r\n\t\t\t\t\tself.$store.dispatch('insertContext'); break;\r\n\t\t\t\tcase NodeClass.DATING: \r\n\t\t\t\t\tself.$store.dispatch('insertDating'); break;\t\r\n\t\t\t\tcase NodeClass.PERIOD: \r\n\t\t\t\t\tself.$store.dispatch('insertPeriod'); break;\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tupdateItem(item) {\r\n\t\t\tif(item) {\r\n\t\t\t\tif(this.itemClass == \"edge\")\r\n\t\t\t\t\tthis.$store.dispatch('updateEdge', item)\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.$store.dispatch('updateNode', item)\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t\t\r\n\t\tdeleteItem(item) {\r\n\t\t\tlet self = this\r\n\t\t\tself.$bvModal.msgBoxConfirm(`Delete ${ this.itemClass } \"${item.data.label}\" - are you sure?`)\r\n\t\t\t\t.then(value => { \r\n\t\t\t\t\tif(value) { \r\n\t\t\t\t\t\tthis.$emit('itemDeleted', item.data.id)\r\n\t\t\t\t\t\tif(this.itemClass == \"edge\")\r\n\t\t\t\t\t\t\tthis.$store.dispatch('deleteEdge', item)\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tthis.$store.dispatch('deleteNode', item)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/*selectItem(item) {\r\n\t\t\tthis.selectedID = item.data.id\r\n\t\t},*/\r\n\t\t\r\n\t\trowSelected(items) {\r\n\t\t\tif(items.length > 0) {\r\n\t\t\t\tthis.$emit('itemSelected', items[0])\t\t\t\t\r\n\t\t\t}\t\r\n\t\t},\r\n\t\ttableSourceIdFormatter(value, key, item) {\r\n\t\t\treturn(this.$store.getters.nodeLabel(item.data.source, true))\r\n\t\t},\r\n\t\ttableTargetIdFormatter(value, key, item) {\r\n\t\t\treturn(this.$store.getters.nodeLabel(item.data.target, true))\r\n\t\t},\r\n\t\t// display node parent as label not id\r\n\t\ttableParentFormatter(value, key, item) {\r\n\t\t\treturn(this.$store.getters.nodeLabel(item.data.parent, true))\r\n\t\t},\t\r\n\t\ttablePeriodFormatter(value, key, item) {\r\n\t\t\treturn(this.$store.getters.nodeLabel(item.data.period, false))\r\n\t\t},\r\n\t\ttableMinYearFormatter(value, key, item) {\r\n\t\t\tlet dating = item.data.dating\r\n            let year = dating.minYear\r\n            let tolv = dating.minYearTolValue \t\t\t\t\t\t\r\n            let tolu = dating.minYearTolUnit\r\n            return this.tableYearFormat(year, tolv, tolu)\r\n        },\r\n        tableMaxYearFormatter(value, key, item) {\r\n\t\t\tlet dating = item.data.dating\r\n            let year = dating.maxYear\r\n            let tolv = dating.maxYearTolValue \t\t\t\t\t\t\r\n            let tolu = dating.maxYearTolUnit\r\n            return this.tableYearFormat(year, tolv, tolu)\r\n        },\r\n        tableYearFormat(year, tolv, tolu) {\r\n            if(year == null || year == \"\")\r\n\t\t\t\treturn \"\"\r\n\t\t\telse if(tolv == 0)\r\n\t\t\t\treturn Number(year) //`${year}`\r\n\t\t\telse\r\n\t\t\t\treturn `${year}±${tolv}${tolu == \"years\" ? \"y\" : \"%\"}`\r\n        },\r\n\t\tderivedMinYearFormatter(value, key, item) { \r\n\t\t\treturn this.$store.getters.derivedDates(item.data.id).minYear \r\n\t\t},\r\n\t\tderivedMaxYearFormatter(value, key, item) { \r\n\t\t\treturn this.$store.getters.derivedDates(item.data.id).maxYear \r\n\t\t},\r\n\t\tdurationFormatter(value, key, item) {\r\n\t\t\treturn this.$store.getters.derivedDuration(item.data.id) \r\n\t\t},\r\n\t\tenteredDiffFormatter(value, key, item) {\r\n\t\t\treturn this.$store.getters.enteredDuration(item.data.id) \r\n\t\t\t//let dating = this.$store.getters.enteredNodeDates(item.data.id)\r\n\t\t\t//let dating = item.data.dating\r\n            //return (dating.maxYear !== null && dating.minYear !== null) ? (dating.maxYear - dating.minYear) + 1 : null\r\n\t\t},\r\n\t}\r\n} \r\n</script>\r\n<style scoped>\r\n.action { \r\n\tcursor: pointer;\r\n\tcolor:dodgerblue;\r\n}\r\n.action:hover {\r\n\tcolor:red;\r\n}\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemTable.vue?vue&type=template&id=88061c50&scoped=true&\"\nimport script from \"./ItemTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemTable.vue?vue&type=style&index=0&id=88061c50&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"88061c50\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.mode == 'select')?_c('b-form-group',{attrs:{\"label\":this.label,\"label-for\":\"itemSelector\"}},[_c('b-form-select',{staticClass:\"shadow-sm\",attrs:{\"disabled\":this.disabled,\"name\":\"itemSelector\",\"placeholder\":_vm.placeholder,\"value\":_vm.value,\"options\":_vm.optionsForSelect},on:{\"change\":function($event){return _vm.changed($event)}}})],1):_c('b-form-group',{attrs:{\"label\":this.label,\"label-for\":\"itemInput\"}},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"text\":\"\",\"disabled\":this.disabled,\"name\":\"itemInput\",\"placeholder\":_vm.placeholder,\"value\":_vm.value,\"type\":\"text\",\"list\":_vm.optionsId,\"autocomplete\":\"off\"},on:{\"change\":function($event){return _vm.changed($event)}}}),_c('b-form-datalist',{attrs:{\"id\":_vm.optionsId,\"options\":_vm.optionsForInput}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <b-form-group v-if=\"mode == 'select'\"\r\n            :label=\"this.label\"\r\n            label-for=\"itemSelector\">\r\n            <b-form-select \r\n                :disabled=\"this.disabled\"\r\n                name=\"itemSelector\" \r\n                class=\"shadow-sm\"\r\n                :placeholder=\"placeholder\"\r\n                :value=\"value\"\r\n                :options=\"optionsForSelect\" \r\n                @change=\"changed($event)\"/>\r\n        </b-form-group>\t\r\n        <b-form-group v-else  \r\n            :label=\"this.label\"\r\n            label-for=\"itemInput\">\r\n            <b-form-input text\r\n                :disabled=\"this.disabled\"\r\n\t\t\t\tname=\"itemInput\" \r\n                class=\"shadow-sm\" \r\n                :placeholder=\"placeholder\"\r\n                :value=\"value\"\r\n\t\t\t\ttype=\"text\" \r\n\t\t\t\t:list=\"optionsId\" \r\n\t\t\t\tautocomplete=\"off\"\r\n                @change=\"changed($event)\"/>\r\n\t\t\t<b-form-datalist :id=\"optionsId\" :options=\"optionsForInput\"/>\r\n\t\t\t<!--\t<option v-for=\"(value, index) in optionsForInput\" :key=\"index\">{{ value }}</option>\r\n\t\t\t</b-form-datalist>-->\r\n\t\t</b-form-group>       \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport _uniqueId  from 'lodash/uniqueId'\r\n\r\nexport default {\r\n\tname: 'ItemLookup',\r\n\tcomponents: { },\r\n\tmixins: [ ],\r\n\tprops: {\r\n        // enables/disables the composite control\r\n        disabled: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: false\r\n        },  \r\n        // label for the composite control      \r\n        label: {\r\n            type: String, \r\n            required: false,\r\n            default: \"Select item\"\r\n        },\r\n        // text to display if nothing is input\r\n        placeholder: {\r\n            type: String, \r\n            required: false,\r\n            default: \"\"\r\n        },\r\n        value: {\r\n            type: String\r\n        },\r\n        // Adds option '(none)' to the lookup options if true\r\n        optionNone: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: true\r\n        },\r\n        // whether to display as select with options or input with suggestions\r\n        mode: {\r\n            type: String, // \"select | \"input\"\r\n            required: false,\r\n            default: \"select\",\r\n            validator: value => [\"select\", \"input\"].includes(value)   \r\n        },\r\n        // options to display\r\n\t\toptions: { \r\n\t\t\ttype: Array, // expected format: [{id: \"x\", label: \"xx\"}, {id: \"y\", label: \"yy\"}]\r\n\t\t\trequired: false,\r\n\t\t\tdefault: () => []\r\n\t\t}\t\t\r\n\t},\r\n\tdata() {\r\n\t\treturn {}\r\n\t},\r\n\tcomputed: {\t\r\n        // unique id for datalist to allow component reuse\r\n        optionsId() {\r\n            return _uniqueId(\"datalist-\")\r\n        },        \r\n        optionsForSelect() {\r\n            return this.options\r\n                .concat(this.optionNone ? [{ value: \"\", text: \"(none)\", selected: true }] : [])                \r\n                .sort((a, b) => (a.text || a.value || \"\") > (b.text || b.value || \"\") ? 1 : -1)\r\n        },\r\n\t\toptionsForInput() {\r\n            return this.options\r\n                .map(item => item.text || \"\")\r\n                .filter(item => item)\r\n                .sort((a,b) => a > b ? 1 : -1)              \r\n        }\r\n\t},\r\n\tmethods: {        \r\n        changed(value){\r\n            this.$emit('change', value)\r\n        }\r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemLookup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemLookup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemLookup.vue?vue&type=template&id=ff8c3764&scoped=true&\"\nimport script from \"./ItemLookup.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemLookup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ff8c3764\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-form-group',{attrs:{\"label\":\"Stratigraphy\"}},[_c('b-form-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Source context\"}},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"text\":\"\",\"disabled\":true,\"placeholder\":\"source\",\"type\":\"text\",\"name\":\"itemID\",\"value\":_vm.$store.getters.nodeLabel(_vm.sourceID)}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Relationship\"}},[_c('b-form-select',{staticClass:\"shadow-sm\",attrs:{\"disabled\":this.disabled,\"name\":\"edgeTypeSelector\",\"placeholder\":\"relationship\",\"options\":_vm.edgeTypes.map(function (t) { return { value: t, text: t } })},model:{value:(_vm.selectedEdgeType),callback:function ($$v) {_vm.selectedEdgeType=$$v},expression:\"selectedEdgeType\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Target context\"}},[_c('ItemLookup',{attrs:{\"label\":\"\",\"disabled\":_vm.disabled,\"optionNone\":false,\"options\":_vm.available,\"placeholder\":\"target\"},on:{\"change\":_vm.targetChanged},model:{value:(_vm.selectedTargetID),callback:function ($$v) {_vm.selectedTargetID=$$v},expression:\"selectedTargetID\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\".\"}},[_c('b-button',{staticClass:\"text-left shadow\",attrs:{\"pill\":\"\",\"size\":\"sm\",\"disabled\":_vm.disabled || _vm.sourceID == '',\"variant\":\"outline-primary\",\"title\":\"add\",\"alt\":\"add\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addItem($event)}}},[_c('b-icon-plus'),_c('span',[_vm._v(\"Add relationship\")])],1)],1)],1)],1),_c('b-form-row',[_vm._l((_vm.edgeTypes),function(edgeType){return _c('b-col',{key:edgeType,staticClass:\"border\"},[_c('b-form-group',{attrs:{\"label\":_vm.capitalize(edgeType)}},[_c('ul',{staticClass:\"list-inline d-inline-block m-1\",attrs:{\"name\":\"lst\"}},_vm._l((_vm.items(edgeType)),function(item){return _c('li',{key:item.id,staticClass:\"list-inline-item\"},[_c('b-badge',{staticClass:\"bg-white text-dark border border-secondary shadow-sm\",attrs:{\"title\":item.id,\"disabled\":_vm.disabled}},[_c('span',[_vm._v(_vm._s(_vm.$store.getters.nodeLabel(item.data.target)))]),_c('b-icon-x-circle',{staticClass:\"action ml-2\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeItem(item)}}})],1)],1)}),0)])],1)}),_c('b-col')],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n    <b-form-group label=\"Stratigraphy\">\t\t\r\n\t\t<b-form-row>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-group label=\"Source context\">\r\n\t\t\t\t\t<b-form-input text \r\n\t\t\t\t\t\t:disabled=\"true\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\" \r\n\t\t\t\t\t\tplaceholder=\"source\" \r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"itemID\" \r\n\t\t\t\t\t\t:value=\"$store.getters.nodeLabel(sourceID)\"/>\r\n\t\t\t\t\t\t<!--v-model.trim=\"((selectedItem || {}).data || {}).id\"/>-->\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\t\r\n\t\t\t\t<b-form-group label=\"Relationship\">\t\r\n\t\t\t\t\t<b-form-select \r\n\t\t\t\t\t\t:disabled=\"this.disabled\"\r\n\t\t\t\t\t\tname=\"edgeTypeSelector\" \r\n\t\t\t\t\t\tclass=\"shadow-sm\"                \r\n\t\t\t\t\t\tplaceholder=\"relationship\"\r\n\t\t\t\t\t\tv-model=\"selectedEdgeType\"\r\n\t\t\t\t\t\t:options=\"edgeTypes.map(t => { return { value: t, text: t } })\"/>\r\n\t\t\t\t</b-form-group>\t\t\t\t\t\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-group label=\"Target context\">\t\r\n\t\t\t\t\t<ItemLookup\r\n\t\t\t\t\t\tlabel=\"\"\r\n\t\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\t\t:optionNone=\"false\"\t\t\t\t\t\r\n\t\t\t\t\t\t:options=\"available\"\r\n\t\t\t\t\t\tplaceholder=\"target\"\r\n\t\t\t\t\t\tv-model=\"selectedTargetID\"\r\n\t\t\t\t\t\t@change=\"targetChanged\"/>\r\n\t\t\t\t</b-form-group>\t\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\t\r\n\t\t\t\t<b-form-group label=\".\">\t\t\t\r\n\t\t\t\t<b-button pill\r\n\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t:disabled=\"disabled || sourceID == ''\" \r\n\t\t\t\t\tvariant=\"outline-primary\"\r\n\t\t\t\t\tclass=\"text-left shadow\" \r\n\t\t\t\t\ttitle=\"add\" \r\n\t\t\t\t\talt=\"add\"\t\t\t\r\n\t\t\t\t\t@click.stop=\"addItem\">\r\n\t\t\t\t\t<b-icon-plus />\r\n\t\t\t\t\t<span>Add relationship</span>\r\n\t\t\t\t</b-button>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\r\n\t\t</b-form-row>\r\n\t\t<b-form-row>\r\n\t\t\t<b-col v-for=\"edgeType in edgeTypes\" :key=\"edgeType\"  class=\"border\">\r\n\t\t\t\t<b-form-group :label=\"capitalize(edgeType)\">\t\t\t\t\t\r\n\t\t\t\t\t<ul class=\"list-inline d-inline-block m-1\" name=\"lst\">\r\n\t\t\t\t\t\t<li v-for=\"item in items(edgeType)\" :key=\"item.id\" class=\"list-inline-item\">\r\n\t\t\t\t\t\t\t<b-badge\r\n\t\t\t\t\t\t\t\t:title=\"item.id\"\r\n\t\t\t\t\t\t\t\tclass=\"bg-white text-dark border border-secondary shadow-sm\"\r\n\t\t\t\t\t\t\t\t:disabled=\"disabled\">\r\n\t\t\t\t\t\t\t\t<!--<span>{{ $store.getters.nodeByID(item.data.target).data.label || item.data.target }}</span>-->\r\n\t\t\t\t\t\t\t\t<span>{{ $store.getters.nodeLabel(item.data.target) }}</span>\r\n\t\t\t\t\t\t\t\t<b-icon-x-circle class=\"action ml-2\" @click.stop=\"removeItem(item)\"/>\r\n\t\t\t\t\t\t\t</b-badge>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\t\t\t\t\t\r\n\t\t\t\t</b-form-group>\t\t\t\t\r\n\t\t\t</b-col>\r\n\t\t\t<b-col></b-col>\r\n\t\t</b-form-row>\t\t\r\n\t</b-form-group>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\nimport ItemLookup from '@/components/ItemLookup'\r\n\r\nexport default {\r\n\tname: 'Stratigraphy2',\r\n\tcomponents: { ItemLookup },\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: {\r\n\t\tdisabled: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tsourceID: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: \"\"\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tedgeTypes: [\"above\", \"below\", \"equal\"],\r\n\t\t\tselectedTargetID: \"\",\t\r\n\t\t\tselectedEdgeType: \"above\"\t\t\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tstrat() { return this.$store.getters.edgesBySource(this.sourceID) },\r\n\t\tabove() { return this.strat.filter(e => e.data.type == \"above\") },\r\n\t\tbelow() { return this.strat.filter(e => e.data.type == \"below\") },\r\n\t\tequal() { return this.strat.filter(e => e.data.type == \"equal\") },\r\n\t\toptions() { return this.$store.getters.contextOptionsGrouped },\t\r\n\t\tavailable() { \r\n\t\t\t// target IDs for strat relationships. Exclude existing targets or current source ID\r\n\t\t\tconst currentTargets = this.strat.map(item => item.data.target).concat([this.sourceID])\r\n\t\t\tconst currentOptions = this.options.length > 0 ? this.options[0].options || [] : []\t\t\t\r\n\t\t\treturn currentOptions.filter(option => !currentTargets.includes(option.value))\t\t\t\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\titems(edgeType){\r\n\t\t\tswitch(edgeType) {\r\n\t\t\t\tcase \"above\": return this.above\r\n\t\t\t\tcase \"below\": return this.below\r\n\t\t\t\tcase \"equal\": return this.equal\r\n\t\t\t\tdefault: return []\r\n\t\t\t}\r\n\t\t},\r\n\t\taddItem() {\t\t\t\r\n\t\t\tlet edge = { \r\n\t\t\t\tdata: { \r\n\t\t\t\t\tsource: this.sourceID, \r\n\t\t\t\t\ttarget: this.selectedTargetID, \r\n\t\t\t\t\ttype: this.selectedEdgeType \r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t\tthis.$store.dispatch('insertEdge', edge)\t\r\n\t\t},\r\n\t\tremoveItem(item) {\r\n\t\t\tthis.$store.dispatch('deleteEdge', item)\t\t\t\r\n\t\t},\r\n\t\ttargetChanged(value) {\r\n\t\t\tthis.selectedTargetID = value\t\t\t\r\n\t\t}\r\n\t},\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.action { \r\n\tcursor: pointer;\r\n\tcolor:dodgerblue;\r\n}\r\n.action:hover {\r\n\tcolor:red;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stratigraphy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stratigraphy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Stratigraphy.vue?vue&type=template&id=0b31a06c&scoped=true&\"\nimport script from \"./Stratigraphy.vue?vue&type=script&lang=js&\"\nexport * from \"./Stratigraphy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Stratigraphy.vue?vue&type=style&index=0&id=0b31a06c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b31a06c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DatingYearRange',{attrs:{\"disabled\":_vm.disabled,\"dating\":_vm.dating},on:{\"change\":_vm.datingChanged}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{staticClass:\"px-2 shadow-sm\",attrs:{\"label\":\"\"}},[_c('b-form-row',[_c('b-col',[_c('b-form-group',{attrs:{\"valid-feedback\":\"\",\"invalid-feedback\":_vm.minYearInvalid,\"state\":_vm.minYearValidation}},[_c('b-form-group',{staticClass:\"my-2\",attrs:{\"label\":\"Minimum year\",\"label-for\":\"minYearInput\"}},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"number\":\"\",\"disabled\":_vm.disabled,\"placeholder\":\"Minimum year\",\"name\":\"minYearInput\",\"type\":\"number\",\"value\":_vm.local.minYear},on:{\"change\":function($event){return _vm.changed('minYear', $event)}}})],1),(_vm.showTolerances)?_c('b-input-group',{staticClass:\"shadow-sm\",attrs:{\"prepend\":\"±\"}},[_c('b-form-input',{attrs:{\"number\":\"\",\"min\":\"0\",\"disabled\":_vm.disabled,\"placeholder\":\"tolerance\",\"type\":\"number\",\"value\":_vm.local.minYearTolValue},on:{\"change\":function($event){return _vm.changed('minYearTolValue', $event)}}}),_c('b-input-group-append',[_c('b-form-select',{attrs:{\"value\":_vm.local.minYearTolUnit,\"options\":_vm.tolTypes,\"disabled\":_vm.disabled},on:{\"change\":function($event){return _vm.changed('minYearTolUnit', $event)}}})],1)],1):_vm._e()],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"valid-feedback\":\"\",\"invalid-feedback\":_vm.maxYearInvalid,\"state\":_vm.maxYearValidation}},[_c('b-form-group',{staticClass:\"my-2\",attrs:{\"label\":\"Maximum year\",\"label-for\":\"maxYearInput\"}},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"number\":\"\",\"disabled\":_vm.disabled,\"placeholder\":\"Maximum year\",\"name\":\"maxYearInput\",\"type\":\"number\",\"value\":_vm.local.maxYear},on:{\"change\":function($event){return _vm.changed('maxYear', $event)}}})],1),(_vm.showTolerances)?_c('b-input-group',{staticClass:\"shadow-sm\",attrs:{\"prepend\":\"±\"}},[_c('b-form-input',{attrs:{\"number\":\"\",\"min\":\"0\",\"disabled\":_vm.disabled,\"placeholder\":\"tolerance\",\"type\":\"number\",\"value\":_vm.local.maxYearTolValue},on:{\"change\":function($event){return _vm.changed('maxYearTolValue', $event)}}}),_c('b-input-group-append',[_c('b-form-select',{attrs:{\"value\":_vm.local.maxYearTolUnit,\"options\":_vm.tolTypes,\"disabled\":_vm.disabled},on:{\"change\":function($event){return _vm.changed('maxYearTolUnit', $event)}}})],1)],1):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-form-group class=\"px-2 shadow-sm\"  label=\"\">\r\n        <b-form-row>             \r\n            <b-col> \r\n                <b-form-group \r\n                    valid-feedback=\"\"\r\n                    :invalid-feedback=\"minYearInvalid\"\r\n                    :state=\"minYearValidation\">            \r\n                    <b-form-group class=\"my-2\"\r\n                        label=\"Minimum year\"\r\n                        label-for=\"minYearInput\">\r\n                        <b-form-input number \r\n                            :disabled=\"disabled\" \r\n                            placeholder=\"Minimum year\"\r\n                            name=\"minYearInput\" \r\n                            class=\"shadow-sm\"\r\n                            type=\"number\" \r\n                            :value=\"local.minYear\" \r\n                            @change=\"changed('minYear', $event)\"/>\r\n                    </b-form-group>\r\n                    <b-input-group v-if=\"showTolerances\" prepend=\"±\" class=\"shadow-sm\">\r\n                        <b-form-input number  \r\n                            min=\"0\"                            \r\n                            :disabled=\"disabled\"\r\n                            placeholder=\"tolerance\"\r\n                            type=\"number\" \r\n                            :value=\"local.minYearTolValue\"\r\n                            @change=\"changed('minYearTolValue', $event)\"/>\r\n                        <b-input-group-append>\r\n                            <b-form-select \r\n                                :value=\"local.minYearTolUnit\"\r\n                                :options=\"tolTypes\" \r\n                                :disabled=\"disabled\" \r\n                                @change=\"changed('minYearTolUnit', $event)\"/>\r\n                        </b-input-group-append>\r\n                    </b-input-group>                \r\n                </b-form-group>\r\n            </b-col> \r\n            <b-col>\r\n                <b-form-group  \r\n                    valid-feedback=\"\"\r\n                    :invalid-feedback=\"maxYearInvalid\"\r\n                    :state=\"maxYearValidation\">\r\n                    <b-form-group class=\"my-2\"\r\n                        label=\"Maximum year\"\r\n                        label-for=\"maxYearInput\">\r\n                        <b-form-input number \r\n                            :disabled=\"disabled\"\r\n                            placeholder=\"Maximum year\" \r\n                            class=\"shadow-sm\"\r\n                            name=\"maxYearInput\" \r\n                            type=\"number\" \r\n                            :value=\"local.maxYear\"\r\n                            @change=\"changed('maxYear', $event)\"/>\r\n                    </b-form-group>\r\n                    <b-input-group v-if=\"showTolerances\" prepend=\"±\" class=\"shadow-sm\" >\r\n                        <b-form-input number \r\n                            min=\"0\"\r\n                            :disabled=\"disabled\"\r\n                            placeholder=\"tolerance\"\r\n                            type=\"number\" \r\n                            :value=\"local.maxYearTolValue\"\r\n                            @change=\"changed('maxYearTolValue', $event)\"/>\r\n                        <b-input-group-append>\r\n                            <b-form-select \r\n                                :value=\"local.maxYearTolUnit\"\r\n                                :options=\"tolTypes\" \r\n                                :disabled=\"disabled\" \r\n                                @change=\"changed('maxYearTolUnit', $event)\"/>\r\n                        </b-input-group-append>\r\n                    </b-input-group>\r\n                </b-form-group>\r\n            </b-col>       \r\n       </b-form-row>         \r\n    </b-form-group>\r\n</template>\r\n\r\n<script>\r\n//import PhaserCommon from '@/mixins/PhaserCommon.js'\r\n//import DatingYearTolerance from '@/components/YearTolerance.vue'\r\n\r\nexport default {\r\n\tname: 'DatingYearRange',\r\n\tcomponents: {\r\n        //DatingYearTolerance\r\n\t},\r\n\tmixins: [ ],\r\n\tprops: { \r\n        disabled: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: false\r\n        },       \r\n        dating: {\r\n            type: Object,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: null\r\n        },\r\n        showTolerances: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: true\r\n        }\t\t\r\n    },    \r\n\tdata() {\r\n\t\treturn {\r\n            tolTypes: [{ value: 'percent', text: '%' }, { value: 'years', text: 'years' }]            \r\n\t\t}\r\n\t},\r\n\tcomputed: { \r\n        local() {\r\n            return {\r\n                minYear: Number((this.dating || {}).minYear),  \r\n                maxYear: Number((this.dating || {}).maxYear),  \r\n                minYearTolValue: Number((this.dating || {}).minYearTolValue),  \r\n                maxYearTolValue: Number((this.dating || {}).maxYearTolValue),  \r\n                minYearTolUnit: (this.dating || {}).minYearTolUnit || \"years\",\r\n                maxYearTolUnit: (this.dating || {}).maxYearTolUnit || \"years\"\r\n            }\r\n        },               \r\n        currentYear() {\r\n            return new Date().getFullYear()\r\n        },\r\n        minYearValidation() {\r\n            return (!Number.isNaN(Number(this.local.minYear)))\r\n                && this.local.minYear <= this.local.maxYear\r\n                && this.local.minYear <= this.currentYear\r\n        },\r\n        maxYearValidation() {\r\n            return (!Number.isNaN(Number(this.local.maxYear)))\r\n                && this.local.minYear <= this.local.maxYear\r\n                && this.local.maxYear <= this.currentYear\r\n        },\r\n        minYearInvalid() {  \r\n            if(Number.isNaN(Number(this.local.minYear)))\r\n                return \"Please enter a valid year\"\r\n            else if(this.local.minYear > this.local.maxYear) \r\n                return \"Min year cannot exceed max year\"\r\n            else if(this.local.minYear > this.currentYear)\r\n                return \"Min year cannot exceed current year\"\r\n            else\r\n                return \"something else wrong\"\r\n        },\r\n        maxYearInvalid() {  \r\n            if(Number.isNaN(Number(this.local.maxYear)))\r\n                return \"Please enter a valid year\"\r\n            else if(this.local.minYear > this.local.maxYear) \r\n                return \"Min year cannot exceed max year\"\r\n            else if(this.local.maxYear > this.currentYear)\r\n                return \"Max year cannot exceed current year\"\r\n            else\r\n                return \"something else wrong\"\r\n        }     \r\n\t},\r\n\tmethods: {  \r\n        changed(key, value) {\r\n        //changed() {\r\n            /*let newDating = {\r\n                minYear: Number.parseInt((this.dating || {}).minYear) || 0,  \r\n                maxYear: Number.parseInt((this.dating || {}).maxYear) || 0,  \r\n                minYearTolValue: Number.parseInt((this.dating || {}).minYearTolValue) || 0,  \r\n                maxYearTolValue: Number.parseInt((this.dating || {}).maxYearTolValue) || 0,  \r\n                minYearTolUnit: ((this.dating || {}).minYearTolUnit || \"years\").toString().trim(),\r\n                maxYearTolUnit: ((this.dating || {}).maxYearTolUnit || \"years\").toString().trim(),                                \r\n            } */\r\n            this.$emit('change', { ...this.dating, [key]: value })\r\n            //this.$emit('change', newDating);\t\r\n        },\r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatingYearRange.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatingYearRange.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DatingYearRange.vue?vue&type=template&id=7b0d773b&scoped=true&\"\nimport script from \"./DatingYearRange.vue?vue&type=script&lang=js&\"\nexport * from \"./DatingYearRange.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b0d773b\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<!--<b-tabs>        \r\n        <b-tab title=\"Year range\">\r\n            <DatingYearRange\r\n                :disabled=\"disabled\"\r\n                :dating=\"dating\"\r\n                :showTolerances=\"false\"\r\n                @change=\"datingChanged\"/>\t\r\n\t\t</b-tab>\r\n        <b-tab title=\"Period\">\r\n            <DatingPeriod\r\n                :disabled=\"disabled\"\r\n                :dating=\"dating\"                \r\n                @change=\"datingChanged\"/>\r\n            <DatingYearRange\r\n                :disabled=\"true\"\r\n                :dating=\"dating\"\r\n                :showTolerances=\"false\"/>\r\n        </b-tab>\r\n        <b-tab title=\"Probability range\">\r\n            <DatingYearRange\r\n                :disabled=\"disabled\"\r\n                :dating=\"dating\"\r\n                @change=\"datingChanged\"/>\r\n        </b-tab>\r\n\t</b-tabs>-->\r\n\t<DatingYearRange\r\n        :disabled=\"disabled\"\r\n        :dating=\"dating\"\r\n        @change=\"datingChanged\"/>\r\n</template>\r\n\r\n<script>\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\nimport DatingYearRange from '@/components/DatingYearRange.vue'\r\n//import DatingPeriod from '@/components/DatingPeriod.vue'\r\n\r\nexport default {\r\n\tname: 'Dating',\r\n\tcomponents: {\r\n\t\tDatingYearRange,\r\n        //DatingPeriod\r\n\t},\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: {\r\n\t\tdisabled: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: false\t\t\t\r\n\t\t},\r\n\t\tdating: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: null\r\n\t\t},\t\t\r\n\t},\r\n\tdata() {\r\n\t\treturn {}\r\n\t},\r\n\tcomputed: {},\r\n\tmethods: {\r\n        datingChanged(newValue){\r\n\t\t\tthis.$emit('change', newValue)\t\t\t\t\t\r\n\t\t}\r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dating.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dating.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dating.vue?vue&type=template&id=05d8db16&scoped=true&\"\nimport script from \"./Dating.vue?vue&type=script&lang=js&\"\nexport * from \"./Dating.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05d8db16\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{attrs:{\"label\":_vm.label,\"label-for\":\"itemLabel\"}},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"text\":\"\",\"id\":_vm.uniqueId,\"disabled\":_vm.disabled,\"placeholder\":_vm.placeholder,\"value\":_vm.value,\"type\":\"text\",\"name\":\"itemLabel\",\"autocomplete\":\"off\"},on:{\"input\":_vm.changed}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<b-form-group\r\n\t\t:label=\"label\" \r\n\t\tlabel-for=\"itemLabel\">\t\r\n\t\t<b-form-input text \r\n            :id=\"uniqueId\"\r\n\t\t\t:disabled=\"disabled\"\r\n            :placeholder=\"placeholder\"\r\n            :value=\"value\"\r\n            class=\"shadow-sm\"\t\t\r\n\t\t\ttype=\"text\"\r\n\t\t\tname=\"itemLabel\"            \r\n\t\t\tautocomplete=\"off\"  \r\n            @input=\"changed\"/>\r\n\t</b-form-group>\r\n</template>\r\n\r\n<script>\r\nimport _uniqueId  from 'lodash/uniqueId'\r\n\r\nexport default {\r\n\tname: 'ItemLabel',\r\n\tcomponents: { },\r\n\tmixins: [ ],\r\n\tprops: {\r\n        id: {\r\n            type: String,\r\n            required: false,\r\n\t\t\tdefault: null\r\n        },\r\n\t\tdisabled: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: false \r\n\t\t},\r\n        placeholder: {\r\n            type: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: \"\"\r\n        },\r\n        value: {\r\n            type: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: \"\"\r\n        },\r\n\t\tlabel: {\r\n            type: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: \"Identifier\"\r\n        }\r\n\t},\r\n\tdata() {\r\n\t\treturn { }\r\n\t},\r\n\tcomputed: { \r\n        uniqueId() {\r\n            return this.id || _uniqueId(\"itemlabel-\")\r\n        },   \r\n    },\r\n\tmethods: {\r\n        changed(value) {\r\n            this.$emit('input', value)\r\n        }\r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemLabel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemLabel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemLabel.vue?vue&type=template&id=4ec7b423&scoped=true&\"\nimport script from \"./ItemLabel.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemLabel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ec7b423\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{attrs:{\"label\":_vm.label,\"label-for\":\"itemContains\"}},[_c('b-list-group',{staticClass:\"shadow-sm overflow-auto m-1\",staticStyle:{\"height\":\"175px\"},attrs:{\"disabled\":_vm.disabled}},_vm._l((_vm.itemsSorted),function(item,index){return _c('b-list-group-item',{key:index},[_vm._v(_vm._s(item))])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<b-form-group \r\n\t\t:label=\"label\"\t\t\t\t\r\n\t\tlabel-for=\"itemContains\">\r\n\t\t<b-list-group \r\n\t\t\tclass=\"shadow-sm overflow-auto m-1\" \r\n\t\t\tstyle=\"height: 175px;\"   \r\n\t\t\t:disabled=\"disabled\">\r\n\t\t\t<b-list-group-item v-for=\"(item, index) in itemsSorted\" :key=\"index\">{{item}}</b-list-group-item>\r\n\t\t</b-list-group>\r\n\t</b-form-group>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\tname: 'ItemList',\r\n\tcomponents: { },\r\n\tmixins: [  ],\r\n\tprops: {\r\n\t\tdisabled: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: false \r\n\t\t},\r\n        label: {\r\n            type: String,\r\n            required: false,\r\n            default: \"Contains\"\r\n        },\r\n        items: {\r\n            type: Array,\r\n            required: false,\r\n            default: () => []\r\n        }\t\r\n\t},\r\n\tdata() {\r\n\t\treturn {}\r\n\t},\r\n\tcomputed: {\r\n        itemsSorted() {\r\n            return this.items\r\n                .slice()\r\n                .sort((a,b) => a > b ? 1 : -1)\r\n        }\r\n    },\r\n\t\r\n\tmethods: {},\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemList.vue?vue&type=template&id=338a6e90&scoped=true&\"\nimport script from \"./ItemList.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"338a6e90\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"m-2\">\r\n\t\t<ItemTable :itemClass=\"itemClass\" class=\"mb-2\" @itemSelected=\"itemSelected\" @itemDeleted=\"itemDeleted\"/>\r\n\t\t\r\n\t\t<b-form-row v-if=\"fields.includes('redolayout')\">\t\t\r\n\t\t\t<b-col style=\"text-align: right\">\r\n\t\t\t\t<b-button pill\r\n\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\tvariant=\"outline-primary\"\r\n\t\t\t\t\tclass=\"text-left shadow\" \r\n\t\t\t\t\ttitle=\"redo layout\" \r\n\t\t\t\t\talt=\"redo layout\"\t\t\t\r\n\t\t\t\t\t@click.stop=\"redoCompoundNodeLayout\">\r\n\t\t\t\t\t<b-icon-diagram-3 class=\"mr-2\" />\r\n\t\t\t\t\t<span>{{`Redo layout for this ${itemClass}`}}</span>\r\n\t\t\t\t</b-button>\r\n\t\t\t</b-col>\t\t\t\r\n\t\t</b-form-row>\r\n\t\t<b-form-row>\r\n\t\t\t<!--<b-col>\r\n\t\t\t\t<b-form-group label=\"Identifier\" label-for=\"itemID\">\t\r\n\t\t\t\t\t<b-form-input text \r\n\t\t\t\t\t\t:disabled=\"true\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\" \r\n\t\t\t\t\t\t:placeholder=\"`${itemClass} identifier`\" \r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"itemID\" \r\n\t\t\t\t\t\t:value=\"((selectedItem || {}).data || {}).id\"/>\t\t\t\t\t\t\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>-->\r\n\t\t\t<b-col>\r\n\t\t\t\t<!--<b-form-group v-if=\"fields.includes('label')\" \r\n\t\t\t\t\tlabel=\"Identifier\" \r\n\t\t\t\t\tlabel-for=\"itemLabel\">\t\r\n\t\t\t\t\t<b-form-input text \r\n\t\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\" \r\n\t\t\t\t\t\t:placeholder=\"`${itemClass}`\" \r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"itemLabel\"\r\n\t\t\t\t\t\tautocomplete=\"off\" \r\n\t\t\t\t\t\tv-model.trim=\"((selectedItem || {}).data || {}).label\" \r\n\t\t\t\t\t\t@change=\"labelChanged\"/>\r\n\t\t\t\t</b-form-group>-->\r\n\r\n\t\t\t\t<ItemLabel v-if=\"fields.includes('label')\" \r\n\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\t:placeholder=\"`${itemClass}`\" \r\n\t\t\t\t\tv-model.lazy=\"((selectedItem || {}).data || {}).label\" \r\n\t\t\t\t\t@input=\"labelChanged\"/>\r\n\r\n\t\t\t\t<ItemLabel v-if=\"fields.includes('uri')\" \r\n\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\tlabel=\"URI\"\r\n\t\t\t\t\t:placeholder=\"`${itemClass}`\" \r\n\t\t\t\t\tv-model.lazy=\"((selectedItem || {}).data || {}).uri\" \r\n\t\t\t\t\t@input=\"uriChanged\"/>\r\n\r\n\t\t\t\t<ItemLookup v-if=\"fields.includes('period')\"\r\n\t\t\t\t\tlabel=\"Period\" \r\n\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\tv-model=\"((selectedItem || {}).data || {}).period\"  \r\n\t\t\t\t\t:options=\"$store.getters.periodOptions\" \r\n\t\t\t\t\t@change=\"periodChanged\"/>\r\n\t\t\t\r\n\t\t\t\t<ItemLookup v-if=\"fields.includes('type')\"\r\n\t\t\t\t\tlabel=\"Type\" \r\n\t\t\t\t\tmode=\"input\"\r\n\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\t:placeholder=\"`${itemClass} type`\" \r\n\t\t\t\t\tv-model=\"((selectedItem || {}).data || {}).type\" \r\n\t\t\t\t\t:options=\"typeLookupOptions\"\r\n\t\t\t\t\t@change=\"typeChanged\"/> \r\n\r\n\t\t\t\t<ItemLookup v-if=\"fields.includes('cud')\"\r\n\t\t\t\t\tlabel=\"Construction/Use/Disuse\" \r\n\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\tv-model=\"((selectedItem || {}).data || {}).cud\"\r\n\t\t\t\t\t:options=\"[\r\n\t\t\t\t\t\t{ value: 'C', text: 'construction' }, \r\n\t\t\t\t\t\t{ value: 'U', text: 'use' }, \r\n\t\t\t\t\t\t{ value: 'D', text: 'disuse' },\r\n\t\t\t\t\t\t{ value: 'CU', text: 'construction &amp; use' }, \r\n\t\t\t\t\t\t{ value: 'CD', text: 'construction &amp; disuse' },\r\n\t\t\t\t\t\t{ value: 'UD', text: 'use &amp; disuse' },\r\n\t\t\t\t\t\t{ value: 'CUD', text: 'construction &amp; use &amp; disuse' }\r\n\t\t\t\t\t]\" \r\n\t\t\t\t\t@change=\"cudChanged\"/>\t\t\t\t\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\r\n\t\t\t\t<ItemLookup v-if=\"fields.includes('parent')\"\r\n\t\t\t\t\tlabel=\"Within\" \r\n\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t:placeholder=\"`${itemClass} parent`\" \r\n\t\t\t\t\tv-model=\"((selectedItem || {}).data || {}).parent\"  \r\n\t\t\t\t\t:options=\"parentLookupOptions\" \r\n\t\t\t\t\t@change=\"parentChanged\"/>\t\r\n\r\n\t\t\t\t<ItemList v-if=\"fields.includes('contains')\"\t \t\t\t\r\n\t\t\t\t\tlabel=\"Contains\" \r\n\t\t\t\t\t:disabled=\"true\" \r\n\t\t\t\t\t:items=\"itemContains\"/>\r\n\r\n\t\t\t\t<!--<b-form-group v-if=\"fields.includes('contains')\" \r\n\t\t\t\t\tlabel=\"Contains\"\t\t\t\t\r\n\t\t\t\t\tlabel-for=\"itemContains\" size=\"sm\">\r\n\t\t\t\t\t<b-list-group \r\n\t\t\t\t\t\tclass=\"shadow-sm overflow-auto m-1\" \r\n\t\t\t\t\t\tstyle=\"height: 175px;\"   \r\n\t\t\t\t\t\t:disabled=\"true\">\r\n\t\t\t\t\t\t<b-list-group-item v-for=\"(item, index) in itemContains\" :key=\"index\">{{item}}</b-list-group-item>\r\n\t\t\t\t\t</b-list-group>\r\n\t\t\t\t</b-form-group>\t-->\r\n\r\n\t\t\t\t<!--<b-form-group v-if=\"fields.includes('containsGroups')\" \r\n\t\t\t\t\tlabel=\"Contains groups\"\t\t\t\t\r\n\t\t\t\t\tlabel-for=\"containsGroups\">\r\n\t\t\t\t\t<b-form-input\r\n\t\t\t\t\t\t:disabled=\"true\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t\t:value=\"containsGroups\"/>\r\n\t\t\t\t</b-form-group>\r\n\r\n\t\t\t\t<b-form-group v-if=\"fields.includes('containsSubGroups')\" \r\n\t\t\t\t\tlabel=\"Contains subgroups\"\t\t\t\t\r\n\t\t\t\t\tlabel-for=\"containsSubGroups\">\r\n\t\t\t\t\t<b-form-input\r\n\t\t\t\t\t\t:disabled=\"true\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t\t:value=\"containsSubGroups\"/>\r\n\t\t\t\t</b-form-group>\r\n\r\n\t\t\t\t<b-form-group v-if=\"fields.includes('containsContexts')\" \r\n\t\t\t\t\tlabel=\"Contains contexts\"\t\t\t\t\r\n\t\t\t\t\tlabel-for=\"containsContexts\">\r\n\t\t\t\t\t<b-form-input\r\n\t\t\t\t\t\t:disabled=\"true\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t\t:value=\"containsContexts\"/>\r\n\t\t\t\t</b-form-group>\t\r\n\r\n\t\t\t\t<b-form-group v-if=\"fields.includes('containsDatings')\" \r\n\t\t\t\t\tlabel=\"Contains datings\"\t\t\t\t\r\n\t\t\t\t\tlabel-for=\"containsDatings\">\r\n\t\t\t\t\t<b-form-input\r\n\t\t\t\t\t\t:disabled=\"true\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t\t:value=\"containsDatings\"/>\r\n\t\t\t\t</b-form-group>\t-->\r\n\t\t\t\t<ItemList v-if=\"fields.includes('periodContains')\"\t \t\t\t\r\n\t\t\t\t\tlabel=\"Contains\" \r\n\t\t\t\t\t:disabled=\"true\" \r\n\t\t\t\t\t:items=\"periodContains\"/>\r\n\r\n\t\t\t\t<!--<b-form-group v-if=\"fields.includes('periodContains')\" \r\n\t\t\t\t\tlabel=\"Period contains\"\t\t\t\t\r\n\t\t\t\t\tlabel-for=\"periodContains\">\r\n\t\t\t\t\t<b-form-input\r\n\t\t\t\t\t\t:disabled=\"true\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t\t:value=\"nodesForPeriod\"/>\r\n\t\t\t\t</b-form-group>-->\t\r\n\t\t\t</b-col>\r\n\t\t</b-form-row> \r\n\r\n\t\t<b-form-row>\t\r\n\t\t\t<b-col>\t\r\n\t\t\t\t<b-form-group v-if=\"fields.includes('description')\" \r\n\t\t\t\t\tlabel=\"Description\"\t\t\t\t\r\n\t\t\t\t\tlabel-for=\"itemDescription\">\t\r\n\t\t\t\t\t<b-form-textarea \r\n\t\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\" \r\n\t\t\t\t\t\t:placeholder=\"`${itemClass} description`\" \r\n\t\t\t\t\t\trows=\"2\"\r\n\t\t\t\t\t\tmax-rows=\"2\"\r\n\t\t\t\t\t\tname=\"itemDescription\" \r\n\t\t\t\t\t\tv-model.trim=\"((selectedItem || {}).data || {}).description\" \r\n\t\t\t\t\t\t@change=\"descriptionChanged\"/>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\r\n\t\t</b-form-row>  \r\n\r\n\t\t<b-form-row>\t\r\n\t\t\t<b-col>\t\t\r\n\t\t\t\t<Dating v-if=\"fields.includes('dating')\"  \r\n\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\t:dating=\"((selectedItem || {}).data || {}).dating\"\r\n\t\t\t\t\t@change=\"datingChanged\"/>\r\n\t\t\t</b-col>\r\n\t\t</b-form-row> \r\n\r\n\t\t<b-form-row>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-checkbox v-if=\"fields.includes('included')\" \r\n\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\tv-model=\"((selectedItem || {}).data || {}).included\" \r\n\t\t\t\t\t:value=\"true\"\r\n\t\t\t\t\t:unchecked-value=\"false\" \r\n\t\t\t\t\tname=\"check-button\" \r\n\t\t\t\t\tswitch \r\n\t\t\t\t\t@change=\"includeChanged\">Included in calculations</b-form-checkbox>\t\t\t\t\t\t\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-group v-if=\"fields.includes('association')\"\r\n\t\t\t\t\tlabel=\"Association\"\t\t\t\t\r\n\t\t\t\t\tlabel-for=\"itemAssociation\">\r\n\t\t\t\t\t<b-form-select \r\n\t\t\t\t\t\t:disabled=\"this.disabled\"\r\n\t\t\t\t\t\tv-model=\"((selectedItem || {}).data || {}).association\"\r\n\t\t\t\t\t\tname=\"itemAssociation\" \r\n\t\t\t\t\t\tclass=\"shadow-sm\"                \r\n\t\t\t\t\t\t:options=\"[\r\n\t\t\t\t\t\t\t{ value: 'direct', text: 'direct' }, \r\n\t\t\t\t\t\t\t{ value: 'residual', text: 'residual' }, \r\n\t\t\t\t\t\t\t{ value: 'intrusive', text: 'intrusive' }, \r\n\t\t\t\t\t\t\t{ value: 'other', text: 'other' }\r\n\t\t\t\t\t\t]\" \r\n\t\t\t\t\t\t@change=\"associationChanged\"/>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\t\r\n\t\t</b-form-row>\r\n\t\t\t\r\n\t\t<b-form-row>\t\r\n\t\t\t<b-col>\r\n\t\t\t\t<Stratigraphy v-if=\"fields.includes('stratigraphy')\" \r\n\t\t\t\t\t:sourceID=\"((selectedItem || {}).data || {}).id\"\r\n\t\t\t\t\t:disabled=\"disabled\"/>\r\n\t\t\t</b-col>\r\n\t\t</b-form-row>\r\n\r\n\t\t<!--<div>{{ `[x: ${(position || {}).x}, y: ${(position || {}).y}]`}}</div>-->\r\n\t</div>\t\t\r\n</template>\r\n\r\n<script>\r\nimport {NodeClass} from '@/mixins/constants.js'\r\nimport ItemTable from '@/components/ItemTable'\r\nimport ItemLookup from '@/components/ItemLookup'\r\n//import DatingYearRange from '@/components/DatingYearRange'\r\nimport Stratigraphy from '@/components/Stratigraphy'\r\nimport Dating from '@/components/Dating'\r\nimport ItemLabel from '@/components/ItemLabel'\r\nimport ItemList from '@/components/ItemList'\r\n\r\nexport default {\r\n\tname: 'ItemEditor',\r\n\tcomponents: {\r\n\t\tItemTable,\r\n\t\tItemLookup,\r\n\t\t//DatingYearRange,\r\n\t\tStratigraphy,\r\n\t\tDating,\r\n\t\tItemLabel,\r\n\t\tItemList\r\n\t\t\r\n\t},\r\n\tmixins: [ ],\r\n\tprops: {\r\n\t\titemClass: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: NodeClass.PHASE,\r\n\t\t\tvalidator: value => [...Object.values(NodeClass), \"edge\"].includes(value) \r\n\t\t}\r\n\t},\r\n\tdata() { \r\n        return { \r\n            selectedItem: null\r\n        } \r\n    },\r\n\tcomputed: {\r\n\t\tdisabled() { return this.selectedItem == null },\r\n\t\tposition() { return this.selectedItem?.position },\r\n\t\tfields() { \r\n\t\t\tswitch(this.itemClass) {\r\n\t\t\t\tcase NodeClass.PHASE: return [\"label\", \"description\", \"contains\", \"containsGroups\", \"containsSubGroups\", \"containsContexts\", \"dating\", \"redolayout\", \"period\"]\r\n\t\t\t\tcase NodeClass.GROUP: return [\"label\", \"type\", \"parent\", \"contains\", \"containsSubGroups\", \"containsContexts\", \"description\", \"redolayout\", \"cud\", \"period\"]\r\n\t\t\t\tcase NodeClass.SUBGROUP: return [\"label\", \"type\", \"parent\", \"contains\", \"containsContexts\", \"description\", \"redolayout\", \"cud\", \"period\"]\r\n\t\t\t\tcase NodeClass.CONTEXT: return [\"label\", \"type\", \"parent\", \"contains\", \"containsDatings\", \"description\", \"stratigraphy\", \"cud\", \"period\"]\t\t\r\n\t\t\t\tcase NodeClass.DATING: return [\"label\", \"type\", \"parent\", \"description\", \"dating\", \"included\", \"association\", \"period\"]\r\n\t\t\t\tcase NodeClass.PERIOD: return [\"label\", \"uri\", \"description\", \"periodContains\", \"dating\"]\r\n\t\t\t\tdefault: return []\r\n\t\t\t}\t\t\t\r\n\t\t},\r\n\t\tparentLookupOptions() { \r\n\t\t\tswitch(this.itemClass) {\r\n\t\t\t\tcase NodeClass.GROUP: return this.$store.getters.phaseOptionsGrouped\r\n\t\t\t\tcase NodeClass.SUBGROUP: return this.$store.getters.groupOptionsGrouped\r\n\t\t\t\tcase NodeClass.CONTEXT: return this.$store.getters.contextParentOptions\t\t\t\r\n\t\t\t\tcase NodeClass.DATING: return this.$store.getters.contextOptionsGrouped\t\r\n\t\t\t\tdefault: return []\r\n\t\t\t}\t\t\t\r\n\t\t}, \r\n\t\ttypeLookupOptions() { \r\n\t\t\tswitch(this.itemClass) {\r\n\t\t\t\tcase NodeClass.PHASE: return this.$store.getters.phaseTypeOptions\r\n\t\t\t\tcase NodeClass.GROUP: return this.$store.getters.groupTypeOptions\r\n\t\t\t\tcase NodeClass.SUBGROUP: return this.$store.getters.groupTypeOptions\r\n\t\t\t\tcase NodeClass.CONTEXT: return this.$store.getters.contextTypeOptions\r\n\t\t\t\tcase NodeClass.DATING: return this.$store.getters.datingTypeOptions\r\n\t\t\t\tdefault: return []\r\n\t\t\t}\r\n\t\t},\r\n\t\titemContains() { \r\n\t\t\tlet id = this.selectedItem?.data?.id || \"\"\r\n\t\t\tif(id !== \"\")\r\n\t\t\t\treturn this.$store.getters.descendantsOfID(id)\r\n\t\t\t\t\t.map(n => `(${n.data.class}) ${n.data.label}`)\t\t\t\t\t\r\n\t\t\telse\r\n\t\t\t\treturn [] \r\n\t\t},\r\n\t\tperiodContains(){\r\n\t\t\tlet id = this.selectedItem?.data?.id\r\n\t\t\tif(id) {\r\n\t\t\t\treturn this.$store.getters.nodes\r\n\t\t\t\t\t.filter(n => n.data.period == id)\r\n\t\t\t\t\t.map(n => `(${n.data.class}) ${n.data.label}`)\r\n\t\t\t\t\t//.sort((a,b) => a - b) // ensures numeric values still sorted correctly\r\n\t\t\t\t\t//.join(\", \")\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\treturn []\r\n\t\t},\r\n\t\t/*containsGroups() { \r\n\t\t\tlet id = this.selectedItem?.data?.id\r\n\t\t\tif(id) {\r\n\t\t\t\treturn this.$store.getters.descendantsOfID(id)\r\n\t\t\t\t\t.filter(n => n.data.class == NodeClass.GROUP)\r\n\t\t\t\t\t.map(n => n.data.label)\r\n\t\t\t\t\t.sort((a,b) => a - b) // ensures numeric values still sorted correctly\r\n\t\t\t\t\t.join(\", \")\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\treturn \"\" \r\n\t\t},\r\n\t\tcontainsSubGroups() { \r\n\t\t\tlet id = this.selectedItem?.data?.id\r\n\t\t\tif(id) {\r\n\t\t\t\treturn this.$store.getters.descendantsOfID(id)\r\n\t\t\t\t\t.filter(n => n.data.class == NodeClass.SUBGROUP)\r\n\t\t\t\t\t.map(n => n.data.label)\r\n\t\t\t\t\t.sort((a,b) => a - b) // ensures numeric values still sorted correctly\r\n\t\t\t\t\t.join(\", \")\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\treturn \"\" \r\n\t\t},\r\n\t\tcontainsContexts() { \r\n\t\t\tlet id = this.selectedItem?.data?.id\r\n\t\t\tif(id) {\r\n\t\t\t\treturn this.$store.getters.descendantsOfID(id)\r\n\t\t\t\t\t.filter(n => n.data.class == NodeClass.CONTEXT)\r\n\t\t\t\t\t.map(n => n.data.label)\r\n\t\t\t\t\t.sort((a,b) => a - b) // ensures numeric values still sorted correctly\r\n\t\t\t\t\t.join(\", \")\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\treturn \"\" \r\n\t\t},\r\n\t\tcontainsDatings() { \r\n\t\t\tlet id = this.selectedItem?.data?.id\r\n\t\t\tif(id) {\r\n\t\t\t\treturn this.$store.getters.descendantsOfID(id)\r\n\t\t\t\t\t.filter(n => n.data.class == NodeClass.DATING)\r\n\t\t\t\t\t.map(n => n.data.label)\r\n\t\t\t\t\t.sort((a,b) => a - b) // ensures numeric values still sorted correctly\r\n\t\t\t\t\t.join(\", \")\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\treturn \"\" \r\n\t\t}*/\r\n\t},\r\n\tmethods: {\r\n        itemSelected(item) {\r\n            this.selectedItem = item\r\n\t\t\t//this.$store.dispatch('setSelectedID', ((this.selectedItem || {}).data || {}).id)\r\n\t\t\tthis.$store.dispatch('setSelectedID', this.selectedItem?.data?.id)\r\n\r\n        },\r\n\t\titemDeleted(id) {\r\n\t\t\t//if(((this.selectedItem || {}).data || {}).id == id)\r\n\t\t\tif(this.selectedItem?.data?.id == id)\r\n\t\t\t\tthis.selectedItem = null\r\n\t\t},\r\n\t\tlabelChanged() {\r\n\t\t\tthis.itemChanged()\r\n\t\t},\r\n\t\turiChanged() {\r\n\t\t\tthis.itemChanged()\r\n\t\t},\r\n\t\tdescriptionChanged() {\r\n\t\t\tthis.itemChanged()\r\n\t\t},\r\n\t\t/*phaseChanged(value) {\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.inphase = value\r\n\t\t\t\tthis.changed()\r\n\t\t\t}\r\n\t\t},*/\r\n\t\tredoCompoundNodeLayout() {\r\n\t\t\t// comunicate this to cytoscape diagram via event bus\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.$root.$emit('redoCompoundNodeLayout', this.selectedItem)\r\n\t\t\t}\r\n\t\t},\r\n\t\tparentChanged(value) {\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\t// new parent group for context chosen\r\n\t\t\t\tif(this.selectedItem.data.parent != value) {\r\n\t\t\t\t\tthis.selectedItem.data.parent = value\r\n\t\t\t\t\t// comunicate this change to cytoscape diagram via event bus\r\n\t\t\t\t\tthis.$root.$emit('nodeParentChanged', this.selectedItem) \r\n\t\t\t\t\t// also flag the change to parent control\r\n\t\t\t\t\tthis.itemChanged()\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t},\t\t\r\n\t\ttypeChanged(value) {\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.type = value\r\n\t\t\t\tthis.itemChanged()\r\n\t\t\t}\r\n\t\t},\r\n\t\tdatingChanged(dating) {\t\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.dating = dating\r\n\t\t\t\tthis.itemChanged()\r\n\t\t\t}\r\n\t\t},\r\n\t\tincludeChanged(value) {\t\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.included = value\r\n\t\t\t\tthis.itemChanged()\r\n\t\t\t}\r\n\t\t},\r\n\t\tassociationChanged(value) {\t\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.association = value\r\n\t\t\t\tthis.itemChanged()\r\n\t\t\t}\r\n\t\t},\r\n\t\tcudChanged(value) {\t\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.cud = value\r\n\t\t\t\tthis.itemChanged()\r\n\t\t\t}\r\n\t\t},\r\n\t\tperiodChanged(value) {\t\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.period = value\r\n\t\t\t\tthis.itemChanged()\r\n\t\t\t}\r\n\t\t},\r\n\t\titemChanged() {\r\n            this.$store.dispatch('updateNode', this.selectedItem)\r\n\t\t},\t        \r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemEditor.vue?vue&type=template&id=26b8a066&scoped=true&\"\nimport script from \"./ItemEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26b8a066\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-2\"},[_c('b-container',{staticClass:\"p-0\",attrs:{\"fluid\":\"\"}},[_c('b-row',{attrs:{\"align-h\":\"between\"}},[_c('b-col',[_c('b-button',{staticClass:\"text-left shadow\",attrs:{\"pill\":\"\",\"size\":\"sm\",\"variant\":\"outline-primary\",\"title\":\"Redo validation\",\"alt\":\"Redo validation\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.refresh()}}},[_c('b-icon-arrow-clockwise'),_vm._v(\"Redo validation\")],1)],1),_c('b-col',[_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"Filter\",\"label-for\":\"filter-input\",\"label-cols-sm\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('b-icon-search')]},proxy:true}])},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"size\":\"md\",\"id\":\"filter-input\",\"type\":\"search\",\"autocomplete\":\"off\",\"placeholder\":\"filter validation records\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-table',{staticClass:\"overflow-auto shadow-sm mb-2\",staticStyle:{\"height\":\"600px\"},attrs:{\"show-empty\":\"\",\"id\":\"datatable\",\"busy\":_vm.isBusy,\"sort-icon-left\":\"\",\"hover\":\"\",\"outlined\":\"\",\"selectable\":\"\",\"small\":\"\",\"no-border-collapse\":true,\"sticky-header\":\"600px\",\"select-mode\":\"single\",\"primary-key\":\"id\",\"items\":_vm.items,\"fields\":_vm.fields,\"filter\":_vm.filter,\"tbody-tr-class\":_vm.tableRowClass},on:{\"row-selected\":_vm.tableRowSelected},scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-danger my-2\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_c('strong',[_vm._v(\"Validating...\")])],1)]},proxy:true},{key:\"cell(actions)\",fn:function(row){return [_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":row.toggleDetails}},[_vm._v(\"Details\")])]}},{key:\"row-details\",fn:function(row){return [_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-list-group',_vm._l((row.item.results),function(result,key){return _c('b-list-group-item',{key:key,attrs:{\"variant\":result.passed ? 'success': 'danger'}},[(result.passed)?_c('span',[_vm._v(\"✓\")]):_c('span',[_vm._v(\"✗\")]),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(result.description))])])}),1)],1)]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"m-2\">\r\n\t<b-container fluid class=\"p-0\">\r\n\t\t<b-row align-h=\"between\">\t\r\n            <b-col>\r\n\t\t\t\t<b-button pill\r\n\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\tvariant=\"outline-primary\"\r\n\t\t\t\t\tclass=\"text-left shadow\" \r\n\t\t\t\t\ttitle=\"Redo validation\" \r\n\t\t\t\t\talt=\"Redo validation\"\t\t\t\r\n\t\t\t\t\t@click.stop=\"refresh()\">\r\n\t\t\t\t\t<b-icon-arrow-clockwise />Redo validation</b-button>\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-group\r\n\t\t\t\t\tlabel=\"Filter\"\r\n\t\t\t\t\tlabel-for=\"filter-input\"\r\n\t\t\t\t\tlabel-cols-sm=\"3\"\r\n\t\t\t\t\tlabel-align-sm=\"right\"\r\n\t\t\t\t\tlabel-size=\"sm\"\r\n\t\t\t\t\tclass=\"mb-2\">\r\n\t\t\t\t\t<template v-slot:label>\r\n\t\t\t\t\t\t<b-icon-search />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<b-form-input \r\n\t\t\t\t\t\tsize=\"md\"\r\n\t\t\t\t\t\tid=\"filter-input\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t\tv-model=\"filter\"\r\n\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\tplaceholder=\"filter validation records\"/>\t\t\t\t\t\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\r\n\t\t</b-row>\r\n\t\t<b-row>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-table show-empty style=\"height: 600px;\"\r\n\t\t\t\t\tid=\"datatable\"\r\n\t\t\t\t\t:busy=\"isBusy\"\r\n\t\t\t\t\tsort-icon-left\r\n\t\t\t\t\thover outlined selectable small \r\n\t\t\t\t\t:no-border-collapse=\"true\"\r\n\t\t\t\t\tsticky-header=\"600px\" \r\n\t\t\t\t\tselect-mode=\"single\"\r\n\t\t\t\t\tprimary-key=\"id\"\r\n\t\t\t\t\t:items=\"items\" \r\n\t\t\t\t\t:fields=\"fields\"\r\n\t\t\t\t\t:filter=\"filter\"\t\t\t\t\t\t\r\n\t\t\t\t\tclass=\"overflow-auto shadow-sm mb-2\"\r\n\t\t\t\t\t:tbody-tr-class=\"tableRowClass\"\r\n\t\t\t\t\t@row-selected=\"tableRowSelected\">\r\n\t\t\t\t\t<template #table-busy>\r\n\t\t\t\t\t\t<div class=\"text-center text-danger my-2\">\r\n\t\t\t\t\t\t\t<b-spinner class=\"align-middle\"></b-spinner>\r\n\t\t\t\t\t\t\t<strong>Validating...</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template #cell(actions)=\"row\">\t\t\t\t\t\t\r\n\t\t\t\t\t\t<b-button size=\"sm\" @click=\"row.toggleDetails\">Details</b-button>\r\n\t\t\t\t\t</template>\t\r\n\t\t\t\t\t<template #row-details=\"row\">\r\n\t\t\t\t\t\t<b-card no-body>\r\n\t\t\t\t\t\t<b-list-group>\r\n\t\t\t\t\t\t\t<b-list-group-item v-for=\"(result, key) in row.item.results\" \r\n\t\t\t\t\t\t\t\t:key=\"key\" \r\n\t\t\t\t\t\t\t\t:variant=\"result.passed ? 'success': 'danger'\">\r\n\t\t\t\t\t\t\t\t<span v-if=\"result.passed\">✓</span>\r\n\t\t\t\t\t\t\t\t<span v-else>✗</span>\r\n\t\t\t\t\t\t\t\t<span class=\"ml-2\">{{ result.description }}</span>\r\n\t\t\t\t\t\t\t</b-list-group-item>\r\n\t\t\t\t\t\t</b-list-group>\r\n\t\t\t\t\t\t</b-card>\r\n\t\t\t\t\t</template>\t\t\t\t\t\t\t\t\r\n\t\t\t\t</b-table>\t\t\t\t\t\t\t\t\r\n\t\t\t</b-col>\r\n\t\t</b-row>\r\n\t</b-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n//import { locales } from 'moment'\r\nimport {NodeClass} from \"@/mixins/constants.js\"\r\n\r\nexport default {\r\n\tname: 'Validation',\r\n\tcomponents: { },\r\n\tmixins: [ ],\r\n\tprops: { },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisBusy: false,\r\n\t\t\tfilter: \"\",\r\n            sortBy: \"test\",\r\n\t\t\tsortDesc: false,\r\n\t\t\titems: []\r\n\t\t}\r\n\t},\r\n\tcomputed: {\t\r\n\t\tfields() {\r\n\t\t\treturn [\t\t\t\r\n\t\t\t\t{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: \"result\",\r\n\t\t\t\t\tlabel: \"result\",\r\n                    sortByFormatted: true,\r\n\t\t\t\t\tformatter: this.tableTestPassFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-center\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"testName\",\r\n\t\t\t\t\tlabel: \"description\",\r\n                    sortable: true\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"passed\",\r\n\t\t\t\t\tlabel: \"passed\",\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: (value, key, item) => item.results.filter(r => r.passed == true).length,\r\n                    sortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"failed\",\r\n\t\t\t\t\tlabel: \"failed\",\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: (value, key, item) => item.results.filter(r => r.passed == false).length,\r\n                    sortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: \"total\",\r\n\t\t\t\t\tlabel: \"total\",\r\n                    sortByFormatted: true,\r\n\t\t\t\t\tformatter: (value, key, item) => item.results.length,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{ key: 'actions', label: '' }\r\n            ]\r\n        }        \r\n\t},\r\n\tmethods: {\r\n\t\ttableTestPassFormatter(value, key, item) {\r\n\t\t\tif (item.results.length == 0) \r\n\t\t\t\treturn \"N/A\"\r\n\t\t\telse\r\n\t\t\t\treturn item.results.some(result => result.passed == false) ? \"✗\" : \"✓\" \t\t\t\r\n\t\t},\t\t\r\n\t\ttableRowSelected() {},\r\n\t\ttableRowClass(item, type) {\r\n\t\t\tif (!item || type !== 'row') \r\n\t\t\t\treturn \"\"\r\n\t\t\telse if (item.results.length == 0) \r\n\t\t\t\treturn \"table-light\"\r\n\t\t\telse if (item.results.some(result => result.passed == false)) \r\n\t\t\t\treturn 'table-danger' \r\n\t\t\telse \r\n\t\t\t\treturn 'table-success'\r\n\t\t},\r\n\r\n\t\tclear() { this.items = [] },\r\n\r\n        refresh() { \r\n\t\t\tthis.isBusy = true\r\n\t\t\tthis.clear()\r\n\r\n\t\t\t// phase tests\r\n\t\t\tthis.testPhaseContainsAtLeastOneContext()\r\n\t\t\tthis.testPhaseDefinesDateRange()\r\n\t\t\tthis.testPhaseAllocatedToPeriod()\r\n\r\n\t\t\t// group tests\r\n\t\t\tthis.testGroupContainsAtLeastOneContext()\r\n\t\t\tthis.testGroupAllocatedToPhase()\t\t\t\r\n\t\t\tthis.testGroupAllocatedToPeriod()\r\n\r\n\t\t\t// subgroup tests\r\n\t\t\tthis.testSubgroupContainsAtLeastOneContext()\t\t\t\t\t\t\r\n\t\t\tthis.testSubgroupParentMustBeGroup()\r\n\t\t\tthis.testSubgroupAllocatedToPhase()\r\n\t\t\tthis.testSubgroupAllocatedToPeriod()\r\n\r\n\t\t\t// context tests\r\n\t\t\tthis.testContextAboveContext() \t\r\n\t\t\tthis.testContextAllocatedToPhase()\t\r\n\t\t\tthis.testContextAllocatedToPeriod()\r\n\t\t\tthis.testContextHasType()\r\n\r\n\t\t\t// period tests\r\n\t\t\tthis.testPeriodDefinesDateRange()\r\n\t\t\tthis.isBusy = false\r\n\t\t},      \r\n\t\t\r\n\t\t// check for a valid dating range\r\n\t\tisValidRange(range) {\r\n\t\t\tif(!range) return false\r\n\t\t\tif(!Number.isInteger(range.minYear)) return false\r\n\t\t\tif(!Number.isInteger(range.maxYear)) return false\r\n\t\t\treturn (range.minYear <= range.maxYear)\r\n\t\t},\t\t\r\n\r\n\t\t// A before B?\r\n\t\tnodeBefore(idA, idB) {\r\n\t\t\tlet rangeA = this.$store.getters.derivedDates(idA)\r\n\t\t\tlet rangeB = this.$store.getters.derivedDates(idB)\r\n\t\t\tif(this.isValidRange(rangeA) && this.isValidRange(rangeB)) \r\n\t\t\t\treturn (rangeA.maxYear < rangeB.minYear)\r\n\t\t\telse\r\n\t\t\t\treturn false\t\r\n\t\t},\r\n\t\tnodeAfter(idA, idB) {\r\n\t\t\treturn this.nodeBefore(idB, idA)\r\n\t\t},\r\n\t\t\r\n\t\ttestNodeDescendantIsContext(node) {\r\n\t\t\tlet descendants = this.$store.getters.descendantsOfID(node?.data?.id)\r\n\t\t\treturn descendants.some(node => node.data?.class == NodeClass.CONTEXT)\t\t\t\r\n\t\t},\r\n\t\ttestNodeAllocatedToPhase(node) {\r\n\t\t\tlet ancestors = this.$store.getters.ancestorsOfNode(node)\t\t\t\r\n\t\t\treturn ancestors.some(item => item.data.class == NodeClass.PHASE)\t\t\r\n\t\t},\r\n\t\ttestNodeAllocatedToPeriod(node) {\r\n\t\t\treturn  node?.data?.period ? true : false\t\t\r\n\t\t},\r\n\t\t\r\n\t\ttestPhaseContainsAtLeastOneContext() {\r\n\t\t\tlet test = { results: [], testName: \"Phases must contain at least one context\" }\r\n\t\t\tthis.$store.getters.phases.forEach(phase => {\r\n\t\t\t\tlet passed = this.testNodeDescendantIsContext(phase)\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\r\n\t\t\t\t\tdescription: `Phase \"${phase.data.label}\" ${passed ? \"contains\" : \"does not contain\"} contexts`\t\r\n\t\t\t\t})\t\t\t\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\t\t\t\r\n\t\t},\r\n\r\n\t\ttestPhaseDefinesDateRange() {\r\n\t\t\tlet test = { results: [], testName: \"Phases should define a date range\" }\r\n\t\t\tthis.$store.getters.phases.forEach(phase => {\r\n\t\t\t\tlet passed = phase.data.dating.minYear && phase.data.dating.maxYear\t\t\t\t\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Phase \"${phase.data.label}\" ${passed ? \"defines\" : \"does not define\"} a date range`\t\r\n\t\t\t\t})\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\r\n\t\t},\r\n\r\n\t\ttestPhaseAllocatedToPeriod() {\r\n\t\t\tlet test = { results: [], testName: \"Phases should be allocated to a period\" }\r\n\t\t\tthis.$store.getters.phases.forEach(phase => {\t\r\n\t\t\t\tlet passed = this.testNodeAllocatedToPeriod(phase)\t\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Phase \"${phase.data.label}\" is ${passed ? \"\" : \"not\"} allocated to a period`\t\t\r\n\t\t\t\t})\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\t\t\t\r\n\t\t},\r\n\r\n\t\ttestGroupContainsAtLeastOneContext() {\r\n\t\t\tlet test = { results: [], testName: \"Groups must contain at least one context\" }\r\n\t\t\tthis.$store.getters.groups.forEach(group => {\r\n\t\t\t\tlet passed = this.testNodeDescendantIsContext(group)\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Group \"${group.data.label}\" ${passed ? \"contains\" : \"does not contain\"} contexts`\r\n\t\t\t\t})\t\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\r\n\t\t},\r\n\r\n\t\ttestGroupAllocatedToPhase() {\r\n\t\t\tlet test = { results: [], testName: \"Groups must be allocated to a phase\" }\r\n\t\t\tthis.$store.getters.groups.forEach(group => {\t\t\t\t\r\n\t\t\t\tlet passed = this.testNodeAllocatedToPhase(group)\t\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Group \"${group.data.label}\" is ${passed ? \"\" : \"not\"} allocated to a phase`\r\n\t\t\t\t})\t\t\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\r\n\t\t},\r\n\r\n\t\ttestGroupAllocatedToPeriod() {\r\n\t\t\tlet test = { results: [], testName: \"Groups must be allocated to a period\" }\r\n\t\t\tthis.$store.getters.groups.forEach(group => {\t\t\t\t\t\t\t\r\n\t\t\t\tlet passed = this.testNodeAllocatedToPeriod(group)\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Group \"${group.data.label}\" is ${passed ? \"\" : \"not\"} allocated to a period`\r\n\t\t\t\t})\t\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\r\n\t\t},\r\n\r\n\t\ttestSubgroupContainsAtLeastOneContext() {\r\n\t\t\tlet test = { results: [], testName: \"Subgroups must contain at least one context\" }\r\n\t\t\tthis.$store.getters.subgroups.forEach(subgroup => {\t\t\t\t\t\t\t\t\r\n\t\t\t\tlet passed = this.testNodeDescendantIsContext(subgroup)\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Sub-Group \"${subgroup.data.label}\" ${passed ? \"contains\" : \"does not contain\"} contexts`\r\n\t\t\t\t})\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\t\r\n\t\t},\r\n\r\n\t\ttestSubgroupParentMustBeGroup() {\r\n\t\t\tlet test = { results: [], testName: \"Subgroups must be allocated to a group\" }\r\n\t\t\tthis.$store.getters.subgroups.forEach(subgroup => {\r\n\t\t\t\tlet parent = this.$store.getters.nodeByID(subgroup.data.parent)\t\t\t\t\r\n\t\t\t\tlet passed = parent?.data?.class == NodeClass.GROUP\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Subgroup \"${subgroup.data.label}\" is ${passed ? \"\": \"not\"} allocated to a group`\r\n\t\t\t\t})\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\t\t\t\r\n\t\t},\r\n\r\n\t\ttestSubgroupAllocatedToPhase() {\r\n\t\t\tlet test = { results: [], testName: \"Subgroups must be allocated to a phase\" }\r\n\t\t\tthis.$store.getters.subgroups.forEach(subgroup => {\t\t\t\t\t\t\t\t\r\n\t\t\t\tlet passed = this.testNodeAllocatedToPhase(subgroup)\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Subgroup \"${subgroup.data.label}\" is ${passed ? \"\" : \"not\"} allocated to a phase`\r\n\t\t\t\t})\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\t\t\r\n\t\t},\r\n\r\n\t\ttestSubgroupAllocatedToPeriod() {\r\n\t\t\tlet test = { results: [], testName: \"Subgroups must be allocated to a period\" }\r\n\t\t\tthis.$store.getters.subgroups.forEach(subgroup => {\t\t\t\t\r\n\t\t\t\tlet passed = this.testNodeAllocatedToPeriod(subgroup)\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Subgroup \"${subgroup.data.label}\" is ${passed ? \"\" : \"not\"} allocated to a period`\r\n\t\t\t\t})\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\t\t\t\r\n\t\t},\r\n\r\n\t\ttestContextAboveContext() {\r\n\t\t\tlet test = { results: [], testName: \"Context stratigraphy supported by dating evidence?\" }\r\n\t\t\tthis.$store.getters.edges\r\n\t\t\t\t.filter(edge => edge.type = \"above\").forEach(edge => {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tlet sourceLabel = this.$store.getters.nodeLabel(edge.data.source)\r\n\t\t\t\t\tlet targetLabel = this.$store.getters.nodeLabel(edge.data.target)\r\n\t\t\t\t\tlet passed = this.nodeAfter(edge.data.source, edge.data.target)\t\r\n\t\t\t\t\ttest.results.push({\r\n\t\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\t\tdescription: `\"${sourceLabel}\" above \"${targetLabel}\" is ${passed ? \"\" : \"not\"} supported by dating evidence`\r\n\t\t\t\t})\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\r\n\t\t},\r\n\r\n\t\ttestContextAllocatedToPhase() {\r\n\t\t\tlet test = { results: [], testName: \"Contexts must be allocated to a phase\" }\r\n\t\t\tthis.$store.getters.contexts.forEach(context => {\t\t\t\t\r\n\t\t\t\tlet passed = this.testNodeAllocatedToPhase(context)\t\t\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Context \"${context.data.label}\" is ${passed ? \"\" :  \"not\"} allocated to a phase`\r\n\t\t\t\t})\t\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\t\r\n\t\t},\r\n\r\n\t\ttestContextAllocatedToPeriod() {\r\n\t\t\tlet test = { results: [], testName: \"Contexts must be allocated to a period\" }\r\n\t\t\tthis.$store.getters.contexts.forEach(context => {\t\t\t\t\r\n\t\t\t\tlet passed = this.testNodeAllocatedToPeriod(context)\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Context \"${context.data.label}\" is ${passed ? \"\" :  \"not\"} allocated to period`\r\n\t\t\t\t})\t\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\t\r\n\t\t},\r\n\r\n\t\ttestContextHasType() {\r\n\t\t\tlet test = { results: [], testName: \"Contexts must have a type\" }\r\n\t\t\tthis.$store.getters.contexts.forEach(context => {\t\t\t\t\r\n\t\t\t\tlet passed = (context.data?.type || \"\").trim()  !== \"\" ? true : false\t\t\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Context \"${context.data.label}\" ${passed ? \"has\" : \"does not have\"} a type`\r\n\t\t\t\t})\t\t\t\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\r\n\t\t},\r\n\r\n\t\ttestPeriodDefinesDateRange() {\r\n\t\t\tlet test = { results: [], testName: \"Periods should define a date range\" }\r\n\t\t\tthis.$store.getters.periods.forEach(period => {\t\t\t\t\r\n\t\t\t\tlet passed = period.data?.dating?.minYear !== null && period.data?.dating?.maxYear !== null\t\r\n\t\t\t\ttest.results.push({\r\n\t\t\t\t\tpassed: passed,\t\t\t\t\r\n\t\t\t\t\tdescription: `Period \"${period.data.label}\" does ${passed ? \"\" : \"not\"} define a date range`\r\n\t\t\t\t})\t\t\t\t\t\t\t\r\n\t\t\t})\r\n\t\t\tthis.items.push(test)\t\r\n\t\t},\r\n\r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Validation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Validation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Validation.vue?vue&type=template&id=0a2d2866&scoped=true&\"\nimport script from \"./Validation.vue?vue&type=script&lang=js&\"\nexport * from \"./Validation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a2d2866\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<b-tabs v-model=\"tabIndex\" class=\"my-1\">\r\n\t\t<b-tab v-for=\"nc in nodeClasses\" :key=\"nc\" class=\"my-2\">\r\n\t\t\t<template v-slot:title>\r\n\t\t\t\t<span>{{ capitalize(nc) }}{{ nc !== \"dating\" ? \"s\" : \"\" }}</span>\r\n\t\t\t\t<b-badge pill \r\n\t\t\t\t\tvariant=\"outline\" \r\n\t\t\t\t\tclass=\"border secondary pb-1 m-0 ml-2\">\r\n\t\t\t\t\t<span>{{ itemCount(nc) }}</span>\t\t\t\t\t\r\n\t\t\t\t</b-badge>\r\n\t\t\t</template>\r\n\t\t\t<ItemEditor :itemClass=\"nc\"/>\r\n\t\t</b-tab> \r\n\r\n\t\t<!--\r\n\t\t<b-tab>\r\n\t\t\t<template v-slot:title>\r\n\t\t\t\t<span>Problems</span>\r\n\t\t\t\t<b-badge pill variant=\"outline\" class=\"border secondary pb-1 m-0 ml-2\">\r\n\t\t\t\t\t<span>0</span>\r\n\t\t\t\t</b-badge>\r\n\t\t\t</template>\r\n\t\t</b-tab>\r\n\t\t-->\r\n\t\t<b-tab>\r\n\t\t\t<template v-slot:title>\r\n\t\t\t\t<span>Edges</span>\r\n\t\t\t\t<b-badge variant=\"outline\" class=\"border secondary pb-1 m-0 ml-2\">\r\n\t\t\t\t\t<span>{{ $store.getters.edges.length }}</span>\r\n\t\t\t\t</b-badge>\r\n\t\t\t</template>\r\n\t\t\t<ItemEditor itemClass=\"edge\"/>\r\n\t\t</b-tab>\r\n\r\n\t\t<b-tab>\r\n\t\t\t<template v-slot:title>\r\n\t\t\t\t<span>Validation</span>\r\n\t\t\t\t<!--<b-badge variant=\"outline\" class=\"border secondary pb-1 m-0 ml-2\">\r\n\t\t\t\t\t<span>{{ 0 }}</span>\r\n\t\t\t\t</b-badge>-->\r\n\t\t\t</template>\r\n\t\t\t<Validation/>\r\n\t\t</b-tab>\r\n\t\t\r\n    </b-tabs>\r\n</template>\r\n\r\n<script>\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\nimport ItemEditor from '@/components/ItemEditor'\r\nimport Validation from '@/components/Validation'\r\nimport {NodeClass} from '@/mixins/constants.js'\r\n\r\nexport default {\r\n\tname: 'ItemEditors',\r\n\tcomponents: {\r\n\t\tItemEditor,\r\n\t\tValidation\r\n\t},\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: {},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttabIndex: 0\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tselectedID() {\r\n\t\t\treturn this.$store.getters.selectedID\r\n\t\t},\r\n\t\tnodeClasses() {\r\n\t\t\treturn Object.values(NodeClass)\r\n\t\t\t//.filter(nc => nc !== NodeClass.FIND && nc !== NodeClass.SAMPLE) //deprecated these\r\n\t\t}\t\t\r\n\t},\r\n\twatch: {\r\n\t\tselectedID(newValue) {\t\t\t\r\n\t\t\t// display the tab containing the selected item\r\n\t\t\tlet node = this.$store.getters.nodeByID(newValue)\r\n\t\t\tif(node) {\r\n\t\t\t\tlet nc = node.data?.class || NodeClass.PHASE\r\n\t\t\t\tswitch(nc) {\r\n\t\t\t\t\tcase NodeClass.PHASE: this.tabIndex = 0;break;\r\n\t\t\t\t\tcase NodeClass.GROUP: this.tabIndex = 1;break;\r\n\t\t\t\t\tcase NodeClass.SUBGROUP: this.tabIndex = 2;break;\r\n\t\t\t\t\tcase NodeClass.CONTEXT: this.tabIndex = 3;break;\r\n\t\t\t\t\tcase NodeClass.DATING: this.tabIndex = 4;break;\r\n\t\t\t\t\tcase NodeClass.PERIOD: this.tabIndex = 5;break;\t\t\t\t\t\r\n\t\t\t\t\tdefault: break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthis.tabIndex = 5\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\titemCount(nc) {\r\n\t\t\tswitch(nc) {\r\n\t\t\t\tcase NodeClass.PHASE: return this.$store.getters.phases.length\r\n\t\t\t\tcase NodeClass.GROUP: return this.$store.getters.groups.length\r\n\t\t\t\tcase NodeClass.SUBGROUP: return this.$store.getters.subgroups.length\r\n\t\t\t\tcase NodeClass.CONTEXT: return this.$store.getters.contexts.length\r\n\t\t\t\tcase NodeClass.DATING: return this.$store.getters.datings.length\r\n\t\t\t\tcase NodeClass.PERIOD: return this.$store.getters.periods.length\r\n\t\t\t\tdefault: return 0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemEditors.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemEditors.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemEditors.vue?vue&type=template&id=2d537236&scoped=true&\"\nimport script from \"./ItemEditors.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemEditors.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d537236\",\n  null\n  \n)\n\nexport default component.exports","<template>\t\r\n    <ItemEditors/>   \r\n</template>\r\n\r\n<script>\r\nimport ItemEditors from '@/components/ItemEditors'\r\n\r\nexport default { \r\n    name: 'LayoutSidebar',\r\n    components: { \r\n        ItemEditors\r\n    },\r\n    computed: {}\r\n}\r\n</script>\r\n\r\n<style scoped>    \r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayoutSidebar.vue?vue&type=template&id=41d9bf52&scoped=true&\"\nimport script from \"./LayoutSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./LayoutSidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41d9bf52\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n   <b-container class=\"border p-0 bg-light\" fluid id=\"container\">\r\n        <b-row no-gutters id=\"header\">\r\n            <b-col>\r\n                <LayoutHeader/>\r\n            </b-col>\r\n        </b-row>\r\n        <vue-splitter :margin=\"10\" :defaultPercent=\"60\">\r\n            <div slot=\"left-pane\">\r\n                <b-col>\r\n                <LayoutContent/>\r\n                </b-col>\r\n            </div>\r\n            <div slot=\"right-pane\">\r\n                <LayoutSidebar/>\r\n            </div>\r\n        </vue-splitter>    \r\n    </b-container>\r\n</template>\r\n\r\n<script>\r\nimport LayoutHeader from \"@/components/LayoutHeader.vue\"\r\nimport LayoutContent from \"@/components/LayoutContent.vue\" \r\nimport LayoutSidebar from \"@/components/LayoutSidebar.vue\" \r\n//import LayoutFooter from '@/components/LayoutFooter.vue' \r\nimport VueSplitter from \"@rmp135/vue-splitter\"\r\n\r\nexport default { \r\n    name: 'Layout',\r\n    components: { \r\n        LayoutHeader,\r\n        LayoutContent,\r\n        LayoutSidebar,\r\n        VueSplitter\r\n        //LayoutFooter        \r\n    },\r\n    data: function(){ return{ item: null }}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layout.vue?vue&type=template&id=10ec120b&scoped=true&\"\nimport script from \"./Layout.vue?vue&type=script&lang=js&\"\nexport * from \"./Layout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10ec120b\",\n  null\n  \n)\n\nexport default component.exports","<template>    \r\n    <Layout/>    \r\n</template>\r\n\r\n<script>\r\nimport Layout from '@/components/Layout.vue'\r\n\r\nexport default { \r\n    name: 'App',\r\n    components: { \r\n        Layout          \r\n    },\r\n    data: function() {\r\n        return {}\r\n    },\r\n    computed: {},\r\n    mounted() {\r\n\t\tdocument.title = `${this.$store.getters.appName} v${this.$store.getters.appVersion}`\r\n\t},\r\n}\r\n</script>\r\n\r\n<style>\r\nhtml,body {\r\n\tmargin:0;\r\n\tpadding:0;\r\n\theight:100%; /* needed for container min-height */\r\n\t/*background:gray;*/\r\n\t\r\n\tfont-family:arial,sans-serif;\r\n\tfont-size:small;\r\n\t/*color:#666;*/\r\n}\r\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=69a84878&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\"\r\nimport Vuex from \"vuex\"\r\n// import VuexPersist from 'vuex-persist'\r\nimport createPersistedState from \"vuex-persistedstate\"\r\nimport _merge from \"lodash/merge\"\r\nimport {NodeClass} from \"@/mixins/constants.js\"\r\n\r\nVue.use(Vuex)\r\n\r\n/*\r\nconst vuexLocalStorage = new VuexPersist({\r\n    key: 'vuex', // The key to store the state on in the storage provider.\r\n    storage: window.localStorage // or window.sessionStorage or localForage\r\n})\r\n*/\r\n\r\nexport default new Vuex.Store({\r\n\t// strict: true,\r\n    // plugins: [vuexLocalStorage.plugin],\r\n    plugins: [ createPersistedState({ storage: window.localStorage, paths: [\"graph\"] }) ],\r\n\tstate: {\r\n        appName: \"Phaser\",  // application name\r\n        appVersion: \"1.4\",  // application version\r\n        selectedID: \"\",     // ID of currently selected node        \r\n        about: {            // dataset metadata - not used yet..\r\n            title: \"My example project\",\r\n            description: \"VUEX data for Cytoscape graph elements structure\",\r\n            creator: \"Ceri Binding, University of South Wales\",\r\n            contact: \"ceri.binding@southwales.ac.uk\",\r\n            created: \"2021-01-07\",\r\n            modified: \"2021-03-19\", \r\n            license: \"https://creativecommons.org/licenses/by/4.0/\",\r\n            version: \"20210319\",           \r\n        },  \r\n        graph: {\r\n            nodes: [],\r\n            edges: []\r\n        }, \r\n        types: {            \r\n            groupTypes: [\r\n                \"Building\", \r\n                \"Corn-drying oven\", \r\n                \"Ditch overall\", \r\n                \"Drain\", \r\n                \"Four-post structure\", \r\n                \"Hearth\", \r\n                \"Kiln\", \r\n                \"Oven\", \r\n                \"Post-hole: group\", \r\n                \"Road\", \r\n                \"Structure\", \r\n                \"Well\"  \r\n            ],\r\n            contextTypes: [ // TODO: load from external JSON. Part of config?\r\n                \"Animal disturbance\",\r\n                \"Animal disturbance: fill\",\r\n                \"Ard mark\",\r\n                \"Ard mark: fill\",\r\n                \"Bank\",\r\n                \"Beam slot\",\r\n                \"Beam slot: fill\",\r\n                \"Beam\",\r\n                \"Coffin\",\r\n                \"Coffin: fill\",\r\n                \"Coffin: stain\",\r\n                \"Corn-drying oven: cut\",\r\n                \"Corn-drying oven: fill\",\r\n                \"Corn-drying oven: wall\",\r\n                \"Cremation pit\",\r\n                \"Cremation pit: fill\",\r\n                \"Cremation vessel\",\r\n                \"Cremation vessel: fill\",\r\n                \"Cremation\",\r\n                \"Ditch segment\",\r\n                \"Ditch segment: fill\",\r\n                \"Ditch\",\r\n                \"Ditch: fill\",\r\n                \"Drain: capping\",\r\n                \"Drain: construction trench fill\",\r\n                \"Drain: construction trench\",\r\n                \"Drain: fill\",\r\n                \"Drain: lining\",\r\n                \"Drain: packing\",\r\n                \"Drain: pipe\",\r\n                \"Drove way\",\r\n                \"Enclosure\",\r\n                \"Feature\",\r\n                \"Feature: fill\",\r\n                \"Floor\",\r\n                \"Floor: tessellated\",\r\n                \"Flue\",\r\n                \"Flue: fill\",\r\n                \"Foundation: cut\",\r\n                \"Foundation: layer\",\r\n                \"Furnace\",\r\n                \"Grave\",\r\n                \"Grave: fill\",\r\n                \"Gully\",\r\n                \"Gully: fill\",\r\n                \"Hearth pit\",\r\n                \"Hearth pit: fill\",\r\n                \"Hearth: debris\",\r\n                \"Hoof print\",\r\n                \"Hoof print: fill\",\r\n                \"Interface\",\r\n                \"Kiln: debris\",\r\n                \"Kiln: fill\",\r\n                \"Kiln: lining\",\r\n                \"Layer\",\r\n                \"Layer: accumulation\",\r\n                \"Layer: buried soil\",\r\n                \"Layer: levelling\",\r\n                \"Layer: natural\",\r\n                \"Layer: occupation\",\r\n                \"Layer: plough soil\",\r\n                \"Layer: redeposited natural\",\r\n                \"Layer: rubble\",\r\n                \"Layer: subsoil\",\r\n                \"Layer: topsoil\",\r\n                \"Lens\",\r\n                \"Linear feature\",\r\n                \"Linear feature: fill\",\r\n                \"Modern intrusion\",\r\n                \"Modern intrusion: fill\",\r\n                \"Natural feature\",\r\n                \"Natural feature: fill\",\r\n                \"Palaeochannel\",\r\n                \"Palaeochannel: fill\",\r\n                \"Pit\",\r\n                \"Pit, cess\",\r\n                \"Pit, cess: fill\",\r\n                \"Pit: fill\",\r\n                \"Pit: lining\",\r\n                \"Plough furrow\",\r\n                \"Plough furrow: fill\",\r\n                \"Plough mark\",\r\n                \"Plough mark: fill\",\r\n                \"Post-hole\",\r\n                \"Post-hole: fill\",\r\n                \"Post-hole: packing\",\r\n                \"Post-pad\",\r\n                \"Post-pipe\",\r\n                \"Post-pipe: fill\",\r\n                \"Pottery: spread\",\r\n                \"Quarry pit\",\r\n                \"Quarry pit: fill\",\r\n                \"Ring ditch\",\r\n                \"Robbing trench\",\r\n                \"Robbing trench: fill\",\r\n                \"Stake\",\r\n                \"Stake-hole\",\r\n                \"Stake-hole: fill\",\r\n                \"Stoke hole\",\r\n                \"Stoke hole: fill\",\r\n                \"Surface\",\r\n                \"Surface: earth/clay\",\r\n                \"Surface: metalled\",\r\n                \"Surface: mortar\",\r\n                \"Surface: paved\",\r\n                \"Threshold\",\r\n                \"Tree hollow\",\r\n                \"Tree hollow: fill\",\r\n                \"Trial trench\",\r\n                \"Trial trench: fill\",\r\n                \"Vessel\",\r\n                \"Vessel: fill\",\r\n                \"Wall\",\r\n                \"Wall: construction trench fill\",\r\n                \"Wall: construction trench\",\r\n                \"Well: construction pit fill\",\r\n                \"Well: construction pit\",\r\n                \"Well: fill\",\r\n                \"Well: lining\",\r\n                \"Wheel rut\",\r\n                \"Wheel rut: fill\"\r\n            ],\r\n            datingTypes: [\r\n                \"find\",\r\n                \"sample\",\r\n                \"manual\"\r\n            ]            \r\n        }     \r\n    },\t\r\n    \r\n\tgetters: { \r\n        appName: state => state.appName,        // application name\r\n        appVersion: state => state.appVersion,  // application version\r\n        about: state => state.about,            // metadata about this graph (not used yet)        \r\n        \r\n        // basic elements of graph structure \r\n        elements: state => state.graph,      \r\n        nodes: (state, getters) => getters.elements.nodes,\r\n        edges: (state, getters) => getters.elements.edges,    \r\n        isNode: (state, getters) => id => getters.nodes.some(n => n.data.id === id),     \r\n        isEdge: (state, getters) => id => getters.edges.some(n => n.data.id === id),\r\n        nodeByID: (state, getters) => id => getters.nodes.find(n => n.data.id === id), // make this faster once Map is supported in VUEX?\r\n        edgeByID: (state, getters) => id => getters.edges.find(e => e.data.id === id), // otherwise use object properties as map structure?\r\n\r\n        nodeLabel: (state, getters) => (id, includeClass=false) => {\r\n            let node = getters.nodeByID(id)\r\n            if(node) {\r\n                let nodeLabel = node.data?.label || id \r\n                let nodeClass = node.data?.class || \"node\"\r\n                return includeClass ? `(${nodeClass}) ${nodeLabel}` : nodeLabel\r\n            }\r\n            else return \"\"\r\n        },\r\n        edgesBySource: (state, getters) => source => getters.edges.filter(e => e.data.source === source),\r\n        edgesByTarget: (state, getters) => target => getters.edges.filter(e => e.data.target === target),\r\n\r\n        // specialized elements of graph structure\r\n        phases: (state, getters) => getters.nodes.filter(node => node.data?.class === NodeClass.PHASE),\r\n\t\tgroups: (state, getters) => getters.nodes.filter(node => node.data?.class === NodeClass.GROUP),\r\n        subgroups: (state, getters) => getters.nodes.filter(node => node.data?.class === NodeClass.SUBGROUP),\r\n        contexts: (state, getters) => getters.nodes.filter(node => node.data?.class === NodeClass.CONTEXT),\r\n        datings: (state, getters) => getters.nodes.filter(node => node.data?.class === NodeClass.DATING),\r\n        periods: (state, getters) => getters.nodes.filter(node => node.data?.class === NodeClass.PERIOD),\r\n        \r\n        // ID of currently selected node - for UI\r\n        selectedID: state => state.selectedID,\r\n\r\n        // options for lookup controls        \r\n        //phaseTypes: state => state.types.phaseTypes,\r\n        //groupTypes: state => state.types.groupTypes,\r\n        //contextTypes: state => state.types.contextTypes,        \r\n        //findTypes: state => state.types.findTypes,\r\n        //sampleTypes: state => state.types.sampleTypes,\r\n        groupTypeOptions: state => state.types.groupTypes.map(s => { return { value: s, text: s }}),\r\n        contextTypeOptions: state => state.types.contextTypes.map(s => { return { value: s, text: s }}),\r\n        datingTypeOptions: state => state.types.datingTypes.map(s => { return { value: s, text: s }}),\r\n        \r\n        // option lists for element selectors\r\n        phaseOptions: (state, getters) => getters.phases\r\n            .map(n => { return { value: n.data.id, text: `(phase) ${n.data.label}` }})\r\n            .sort((a, b) => a.text > b.text ? 1 : -1),\r\n        groupOptions: (state, getters) => getters.groups\r\n            .map(n => { return { value: n.data.id, text: `(group) ${n.data.label}` }})\r\n            .sort((a, b) => a.text > b.text ? 1 : -1),\r\n        subgroupOptions: (state, getters) => getters.subgroups\r\n            .map(n => { return { value: n.data.id, text: `(subgroup) ${n.data.label}` }})\r\n            .sort((a, b) => a.text > b.text ? 1 : -1),\r\n        contextOptions: (state, getters) => getters.contexts\r\n            .map(n => { return { value: n.data.id, text: `(context) ${n.data.label}` }})\r\n            .sort((a, b) => a.text > b.text ? 1 : -1),\r\n        periodOptions: (state, getters) => getters.periods\r\n            .map(n => { return { value: n.data.id, text: `${n.data.label}` }})\r\n            .sort((a, b) => a.text > b.text ? 1 : -1),                    \r\n        \r\n            // grouped option lists for element selectors\r\n        phaseOptionsGrouped: (state, getters) => (getters.phaseOptions.length == 0) ? \r\n            [] : [{ label: \"Phases\", options: getters.phaseOptions }],           \r\n        groupOptionsGrouped: (state, getters) => (getters.groupOptions.length == 0) ? \r\n            [] : [{ label: \"Groups\", options: getters.groupOptions }],            \r\n        subgroupOptionsGrouped: (state, getters) => (getters.subgroupOptions.length == 0) ? \r\n            [] : [{ label: \"Subgroups\", options: getters.subgroupOptions }],            \r\n        contextOptionsGrouped: (state, getters) => (getters.contextOptions.length == 0) ? \r\n            [] : [{ label: \"Contexts\", options: getters.contextOptions }],\r\n        periodOptionsGrouped: (state, getters) => (getters.periodOptions.length == 0) ? \r\n            [] : [{ label: \"Periods\", options: getters.periodOptions }],\r\n            \r\n        // context parent could be subgroup, group or phase. May have same label, so grouping options to disambiguate\r\n        contextParentOptions: (state, getters) => [\r\n            ...getters.phaseOptionsGrouped,\r\n            ...getters.groupOptionsGrouped,\r\n            ...getters.subgroupOptionsGrouped\r\n        ],         \r\n\r\n        // hierarchical querying functionality\r\n        childrenOfIDs: (state, getters) => ids => getters.nodes.filter(n => ids.includes(n.data.parent)),\r\n        childrenOfID: (state, getters) => id => getters.childrenOfIDs([id]),    \r\n        \r\n        descendantsOfIDs: (state, getters) => ids => {\r\n            let descendants = []\r\n            let childNodes = getters.childrenOfIDs(ids)\r\n            let iteration = 0 // to break possible self referential loops\r\n            while(childNodes.length > 0 && iteration < 5) {\r\n                descendants = descendants.concat(childNodes)\r\n                childNodes = getters.childrenOfIDs(childNodes.map(n => n.data.id))\r\n                iteration++                \r\n            }           \r\n            return descendants\r\n        },\r\n        descendantsOfID: (state, getters) => id => getters.descendantsOfIDs([id]),\r\n\r\n        ancestorsOfNode: (state, getters) => node => {\r\n            let ancestors = []\r\n            let iteration = 0 // to break possible self referential loops\r\n            \r\n            if(!node) return []\r\n            let parent = getters.nodeByID(node.data?.parent)\r\n\r\n            while(parent && iteration < 5) { \r\n                ancestors.push(parent)\r\n                parent = getters.nodeByID(parent.data?.parent)                 \r\n                iteration++   \r\n            }\r\n            return ancestors\r\n        },\r\n        ancestorsOfID: (state, getters) => id => {\r\n            let node = getters.nodeByID(id)\r\n            return getters.ancestorsOfNode(node)\r\n        },\r\n        \r\n        //datingsForID: (state, getters) => id => getters.descendantsOfID(id)\r\n            //.filter(n => n.data.class == NodeClass.DATING && n.data.included), \r\n            \r\n        // get actual min/max years accounting for any tolerance set\r\n        enteredDates: (state, getters) => id => {            \r\n            let node = getters.nodeByID(id)\r\n            \r\n            // get clean dating values\r\n            let dating = node?.data?.dating || {}\r\n            let cleaned = {\r\n                minYear: Number(dating.minYear || Number.POSITIVE_INFINITY),\r\n                maxYear: Number(dating.maxYear || Number.NEGATIVE_INFINITY),\r\n                minYearTolValue: Number(dating.minYearTolValue || 0),\r\n                maxYearTolValue: Number(dating.maxYearTolValue || 0),\r\n                minYearTolUnit: (dating.minYearTolUnit || \"years\").trim().toLowerCase(),\r\n                maxYearTolUnit: (dating.maxYearTolUnit || \"years\").trim().toLowerCase()\r\n            }\r\n            // apply minYear tolerance (if present)\r\n            if(cleaned.minYear < Number.POSITIVE_INFINITY && cleaned.minYearTolValue !== 0) {\r\n                if(cleaned.minYearTolUnit == \"percent\") \r\n                    cleaned.minYear -= (cleaned.minYear * (cleaned.minYearTolValue / 100))\r\n                else\r\n                    cleaned.minYear -= cleaned.minYearTolValue\r\n            }\r\n\t\r\n            // apply maxYear tolerance (if present)\r\n            if(cleaned.maxYear > Number.NEGATIVE_INFINITY && cleaned.maxYearTolValue !== 0) {\r\n                if(cleaned.maxYearTolUnit == \"percent\") \r\n                    cleaned.maxYear += (cleaned.maxYear * (cleaned.maxYearTolValue / 100)) \r\n                else\r\n                    cleaned.maxYear += cleaned.maxYearTolValue\r\n            }\r\n\t\r\n            // return overall rounded minYear/maxYear values after tolerances applied\r\n            return { \r\n                minYear: cleaned.minYear < Number.POSITIVE_INFINITY ? Math.round(cleaned.minYear) : null, \r\n                maxYear: cleaned.maxYear > Number.NEGATIVE_INFINITY ? Math.round(cleaned.maxYear) : null\r\n            }  \r\n        },\r\n\r\n        // derive min/max years from hierarchical descendant datings\r\n        derivedDates: (state, getters) => id => {\r\n            if(getters.isNode(id))\r\n                return getters.derivedNodeDates(id)\r\n            else if(getters.isEdge(id))\r\n                return getters.derivedEdgeDates(id)\r\n            else \r\n                return { minYear: null, maxYear: null }\r\n        },\r\n\r\n        derivedEdgeDates: (state, getters) => id => {\r\n            let edge = getters.edgeByID(id)\r\n            let sourceDates = getters.derivedDates(edge.data.source)\r\n            let targetDates = getters.derivedDates(edge.data.target)      \r\n            \r\n            return { \r\n                minYear: targetDates.maxYear ? targetDates.maxYear + 1: null, \r\n                maxYear: sourceDates.minYear ? sourceDates.minYear - 1: null\r\n            }\r\n        },\r\n\r\n        derivedNodeDates: (state, getters) => id => {\r\n            let minYear = Number.POSITIVE_INFINITY\r\n            let maxYear = Number.NEGATIVE_INFINITY\r\n            \r\n            getters.descendantsOfID(id)\r\n                .filter(n => n.data.class == NodeClass.DATING && n.data.included && n.data.dating)\r\n                //.map(n => ((n || {}).data || {}).dating)\r\n                //.filter(dating => dating) \r\n                .forEach(n => {\r\n                    // extents of date range, accounting for any tolerance set\r\n                    let dating = getters.enteredDates(n.data.id)                    \r\n                    // less than the current minimum?\r\n                    if(dating.minYear < minYear) minYear = dating.minYear\r\n                    // more than the current maximum?\r\n                    if(dating.maxYear > maxYear) maxYear = dating.maxYear\r\n                })\r\n            // return overall rounded min/max year after tolerances applied\r\n            return { \r\n                minYear: minYear < Number.POSITIVE_INFINITY ? Math.round(minYear) : null, \r\n                maxYear: maxYear > Number.NEGATIVE_INFINITY ? Math.round(maxYear) : null\r\n            }\r\n        },        \r\n\r\n        // duration for derived dates (accounting for any tolerance set)\r\n        derivedDuration: (state, getters) => id => { \r\n            let dates = getters.derivedDates(id)\r\n            return (dates.maxYear !== null && dates.minYear !== null) ? (dates.maxYear - dates.minYear) + 1 : null\r\n        },\r\n        \r\n        // duration for entered dates (accounting for any tolerance set)\r\n        enteredDuration: (state, getters) => id => { \r\n            let dates = getters.enteredDates(id)\r\n            return (dates.maxYear !== null && dates.minYear !== null) ? (dates.maxYear - dates.minYear) + 1 : null\r\n        }, \r\n        \r\n        newPhase: (state, getters) => { \r\n            const nc = NodeClass.PHASE\r\n            // get next available phase ID to use\r\n            let nextID = 1\r\n            while(getters.isNode(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            // structure of a new phase\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    label: nextID.toString(), \r\n                    description: \"\",\r\n                    dating: {\r\n                        label: \"\",\r\n                        minYear: null,\r\n                        maxYear: null,\r\n                        minYearTolValue: 0,\r\n                        maxYearTolValue: 0,\r\n                        minYearTolUnit: \"years\",\r\n                        maxYearTolUnit: \"years\"                        \r\n                    } \r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                } \r\n            }\r\n        },\r\n\r\n        newGroup: (state, getters) => { \r\n            const nc = NodeClass.GROUP\r\n            // get next available group ID to use\r\n            let nextID = 1\r\n            while(getters.isNode(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            // structure of a new group\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    parent: \"\", \r\n                    type: \"\", \r\n                    cud: \"\",                   \r\n                    label: nextID.toString(), \r\n                    description: \"\"\r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                } \r\n            }\r\n        },\r\n\r\n        newSubGroup: (state, getters) => { \r\n            const nc = NodeClass.SUBGROUP\r\n            // get next available subgroup ID to use\r\n            let nextID = 1\r\n            while(getters.isNode(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            // structure of a new subgroup\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    parent: \"\", \r\n                    type: \"\",\r\n                    cud: \"\",  \r\n                    label: nextID.toString(), \r\n                    description: \"\"                    \r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                } \r\n            }\r\n        },\r\n\r\n        newContext: (state, getters) => { \r\n            const nc = NodeClass.CONTEXT\r\n            // get next available context ID to use \r\n            let nextID = 1\r\n            while(getters.isNode(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            // structure of a new context\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    parent: \"\", \r\n                    type: \"\",\r\n                    cud: \"\",  \r\n                    label: nextID.toString(),\r\n                    description: \"\"                    \r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                } \r\n            }\r\n        },\r\n        \r\n        newDating: (state, getters) => { \r\n            const nc = NodeClass.DATING\r\n            // get next available context ID to use \r\n            let nextID = 1\r\n            while(getters.isNode(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            // structure of a new dating\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    parent: \"\",\r\n                    type: \"\",                    \r\n                    label: nextID.toString(), \r\n                    description: \"\",\r\n                    included: true,\r\n                    association: \"direct\",\r\n                    dating: {\r\n                        label: \"\",\r\n                        minYear: null,\r\n                        maxYear: null,\r\n                        minYearTolValue: 0,\r\n                        maxYearTolValue: 0,\r\n                        minYearTolUnit: \"years\",\r\n                        maxYearTolUnit: \"years\"\r\n                    }  \r\n                }\r\n            } \r\n        },\r\n\r\n        newPeriod: (state, getters) => { \r\n            const nc = NodeClass.PERIOD\r\n            // get next available context ID to use \r\n            let nextID = 1\r\n            while(getters.isNode(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            // structure of a new dating\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    label: \"\", \r\n                    uri: \"\",\r\n                    description: \"\",\r\n                    dating: {\r\n                        label: \"\",\r\n                        minYear: null,\r\n                        maxYear: null,\r\n                        minYearTolValue: 0,\r\n                        maxYearTolValue: 0,\r\n                        minYearTolUnit: \"years\",\r\n                        maxYearTolUnit: \"years\"\r\n                    }  \r\n                }\r\n            } \r\n        },\r\n\r\n        newEdge: (state, getters) => {\r\n            // get next available edge ID to use \r\n            let nextID = 1            \r\n            while(getters.isEdge(`edge-${nextID}`)) nextID++ \r\n            const id = `edge-${nextID}` \r\n            // structure of a new edge\r\n            return { data: { id: id, source: \"source\", target: \"target\", type: \"above\" } }\r\n        }\r\n    },\r\n    \r\n    // mutations are synchronous, keep them as short and simple as possible\r\n\tmutations: { \r\n        // performs an insert if the node doesn't exist       \r\n        UPDATE_NODE(state, node) {\r\n            const nodes = state.graph.nodes\r\n            const index = nodes.findIndex(n => n.data?.id === node?.data?.id)  // check if id exists     \r\n            if(index === -1)            // id doesn't exist - add new node\r\n                nodes.push(node)          \r\n            else                        // id exists - update existing node\r\n                nodes.splice(index, 1, node)  // replace the node \r\n                //Vue.set(nodes, index, node) // think set is deprecated from Vue3?\r\n                 \r\n        },\r\n\r\n        // currently selected node ID - for visual indication\r\n        SELECT_ID(state, id) {\r\n            state.selectedID = id || \"\"\r\n        },\r\n\r\n        DELETE_NODE(state, node) {\r\n            const nodes = state.graph.nodes\r\n            const index = nodes.findIndex(n => n.data.id === node?.data?.id)\r\n            if(index !== -1)                    // id exists\r\n                nodes.splice(index, 1)          // remove \r\n        },\r\n\r\n        DELETE_NODES(state) {\r\n            state.graph.nodes = []\r\n        }, \r\n\r\n        UPDATE_EDGE(state, edge) {\r\n            const edges = state.graph.edges\r\n            const index = edges.findIndex(e => e.data.id === edge?.data?.id)\r\n            if(index === -1)        // id doesn't exist - add new edge\r\n                edges.push(edge)               \r\n            else                    // id exists - update existing edge\r\n                edges.splice(index, 1, edge)    // replace the edge  \r\n                //Vue.set(edges, index, edge) // think set is deprecated in Vue3?\r\n                          \r\n        },\r\n\r\n        DELETE_EDGE(state, edge) {\r\n            const edges = state.graph.edges\r\n            const index = edges.findIndex(e => e.data.id === edge?.data?.id)\r\n            if(index !== -1)            // exists\r\n                edges.splice(index, 1)  // remove \r\n        },\r\n\r\n        DELETE_EDGES(state) {\r\n            state.graph.edges = []\r\n        }\t\t\r\n\t},\r\n\tactions: {\r\n        // loadContextTypes(){}, // [part of config?]\r\n        // loadGroupTypes(){},   // [part of config?] \r\n\t\r\n        async loadMatrixData({commit, dispatch}, data){\r\n            // actions are asynchronous so ensure order of actions\r\n            await dispatch('clearAll', commit)\r\n\r\n            // NEW: cytoscape format - {elements: {nodes:[],edges:[]}}\r\n            let elements = data.elements ? data.elements : data\r\n\r\n            let phases = (elements.nodes || []).filter(n => n.data.class == NodeClass.PHASE)\r\n            let groups = (elements.nodes || []).filter(n => n.data.class == NodeClass.GROUP)\r\n            let subgroups = (elements.nodes || []).filter(n => n.data.class == NodeClass.SUBGROUP)\r\n            let contexts = (elements.nodes || []).filter(n => n.data.class == NodeClass.CONTEXT)\r\n            let datings = (elements.nodes || []).filter(n => n.data.class == NodeClass.DATING)\r\n            let periods = (elements.nodes || []).filter(n => n.data.class == NodeClass.PERIOD)\r\n\r\n            // not just insertNode, need to ensure each object has all required properties\r\n            phases.forEach(item => dispatch('insertPhase', item, commit))\r\n            groups.forEach(item => dispatch('insertGroup', item, commit))\r\n            subgroups.forEach(item => dispatch('insertSubGroup', item, commit))\r\n            contexts.forEach(item => dispatch('insertContext', item, commit))  \r\n            datings.forEach(item => dispatch('insertDating', item, commit))    \r\n            periods.forEach(item => dispatch('insertPeriod', item, commit))   \r\n            //await dispatch('insertNodes', data.nodes || [], commit)\r\n            await dispatch('insertEdges', elements.edges || [], commit)\r\n        },\r\n        //saveMatrixData(){},\r\n\r\n        clearAll({commit}) {\r\n            // mutations are synchronous so this is OK\r\n            commit('DELETE_NODES')\r\n            commit('DELETE_EDGES')\r\n            Promise.resolve() // See https://blog.usejournal.com/vue-js-best-practices-c5da8d7af48d\r\n        },\r\n        // update mutation will insert if node doesn't exist        \r\n        insertNode({commit}, node) { \r\n            commit('UPDATE_NODE', node)            \r\n        },\r\n        insertNodes({commit}, nodes) {\r\n            nodes.forEach(node => commit('UPDATE_NODE', node))\r\n            Promise.resolve() \r\n        },\r\n\t\tupdateNode({commit}, node) {\r\n\t\t\tcommit('UPDATE_NODE', node)\r\n\t\t},\r\n        setSelectedID({commit}, id) {\r\n            commit('SELECT_ID', id)\r\n        },\r\n\t\tdeleteNode({commit, getters}, node) {\r\n            // delete any incoming or outgoing edges\r\n            let outgoing = getters.edgesBySource(node.data.id)\r\n            let incoming = getters.edgesByTarget(node.data.id)\r\n            outgoing.concat(incoming).forEach(edge => commit('DELETE_EDGE', edge))\r\n            // now delete the node itself\r\n\t\t\tcommit('DELETE_NODE', node)\r\n        },\r\n        \r\n        createEdge({commit, dispatch, getters}) {\r\n            let edge = getters.newEdge\r\n             dispatch('insertEdge', edge, commit)  \r\n        },\r\n        insertEdge({commit, getters}, edge={}) {\r\n            // ensure item to add has all required properties  \r\n            let newEdge = _merge({}, getters.newEdge, edge)\r\n            if(!newEdge.data.id) \r\n                newEdge.data.id = `edge-${newEdge.data.source || 'source'}-${newEdge.data.target || 'target'}`\r\n            commit('UPDATE_EDGE', newEdge)            \r\n        },\r\n        insertEdges({commit, dispatch}, edges) {\r\n            edges.forEach(edge => dispatch('insertEdge', edge, commit))\t\r\n            Promise.resolve() \r\n        },\r\n\t\tupdateEdge({commit}, edge) {\r\n\t\t\tcommit('UPDATE_EDGE', edge)\r\n\t\t},\r\n\t\tdeleteEdge({commit}, edge) {\r\n\t\t\tcommit('DELETE_EDGE', edge)\r\n        }, \r\n\r\n        insertPhase({commit, dispatch, getters}, item={}) {\r\n            // ensure item to add has all required properties  \r\n            let node = _merge({}, getters.newPhase, item)\r\n            dispatch('insertNode', node, commit)  \r\n        },\r\n        insertGroup({commit, dispatch, getters}, item={}) {\r\n            // ensure item to add has all required properties        \r\n            let node = _merge({}, getters.newGroup, item)\r\n            dispatch('insertNode', node, commit)  \r\n        },\r\n        insertSubGroup({commit, dispatch, getters}, item={}) {\r\n            // ensure item to add has all required properties        \r\n            let node = _merge({}, getters.newSubGroup, item)\r\n            dispatch('insertNode', node, commit)  \r\n        },        \r\n        insertContext({commit, dispatch, getters}, item={}) {\r\n            // ensure item to add has all required properties        \r\n            let node = _merge({}, getters.newContext, item)\r\n            dispatch('insertNode', node, commit)  \r\n        },        \r\n        insertDating({commit, dispatch, getters}, item={}) {\r\n            // ensure item to add has all required properties        \r\n            let node = _merge({}, getters.newDating, item)\r\n            dispatch('insertNode', node, commit)  \r\n        },  \r\n        insertPeriod({commit, dispatch, getters}, item={}) {\r\n            // ensure item to add has all required properties        \r\n            let node = _merge({}, getters.newPeriod, item)\r\n            dispatch('insertNode', node, commit)  \r\n        }  \r\n\t}\t\r\n})","// Base Vue Imports\nimport Vue from 'vue'\nimport { BootstrapVue, BootstrapVueIcons } from 'bootstrap-vue'\n//import Popper from 'vue-popperjs'\n\n// app imports\nimport App from '@/App.vue' \nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n//import 'vue-popperjs/dist/vue-popper.css'\n//import router from '@/router' //import router.js into main.js\nimport store from '@/store/storeCY'   // for VUEX data\n//import dagre from 'cytoscape-dagre'         // for auto-layout of matrix diagram\n// for jointjs (modified, from https://github.com/JoseGoncalves/vue-jointjs/blob/master/src/main.js)\n//import Joint from '@/plugins/joint'         // for matrix diagram (superseded)\nimport VueCytoscape from 'vue-cytoscape'    // for matrix diagram\nimport VuePapaParse from 'vue-papa-parse'   // for CSV I/O\n\nimport 'cytoscape-grid-guide'\n\n//import VueKonva from 'vue-konva'            // not used, from alt diagram library test\n//import VueSplitter from 'vue-splitter-pane' // for main layout https://github.com/venkatperi/vue-splitter-pane\n//import {Splitpanes, Pane} from 'splitpanes'          // https://github.com/antoniandre/splitpanes\n//import 'splitpanes/dist/splitpanes.css'\n// apply imported libraries\nVue.use(BootstrapVue)       // for main UI components\nVue.use(BootstrapVueIcons)  // for main UI icons\n//Vue.use(Popper)\nVue.use(VuePapaParse)       // for CSV I/O\nVue.use(VueCytoscape)       // for matrix diagram\n\n//Vue.use(VueSplitter)        // registers vue-splitter, vue-splitter-v and vue-splitter-h \n\n//Vue.use(dagre)            // for auto-layout of matrix diagram\nVue.config.productionTip = false\n\n/*\n// todo - incorporate VueRouter, to have contexts, groups, matrix etc. separate pages?\nimport VueRouter from 'vue-router'\nVue.use(VueRouter);\nimport Home from '@/Components/Home.vue'\nimport Page1 from '@/Components/Page1.vue'\nimport Page2 from '@/Components/Page2.vue'\nconst routes = [\n    { path: '/', component: Home },\n    { path: '/page1/:id?', component: Page1 },\n    { path: '/page2', component: Page2 }\n];\nconst router = new VueRouter({\n    mode: 'history',\n    routes\n});\n*/\n\nnew Vue({\n    // router: router,\n    store: store, // vuex store - see ./store/storeCY.js\n    render: h => h(App) \n}).$mount('#app')","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixDiagramCY.vue?vue&type=style&index=0&id=6a250094&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixDiagramCY.vue?vue&type=style&index=0&id=6a250094&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTable.vue?vue&type=style&index=0&id=88061c50&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTable.vue?vue&type=style&index=0&id=88061c50&scoped=true&lang=css&\""],"sourceRoot":""}