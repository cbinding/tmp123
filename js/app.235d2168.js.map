{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/MenuBar.vue?12c7","webpack:///./src/components/Stratigraphy.vue?b24b","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/App.vue?a3c2","webpack:///./src/components/Layout.vue?bf78","webpack:///./src/components/LayoutHeader.vue?f3aa","webpack:///./src/components/MenuBar.vue?5ed9","webpack:///./src/components/FileImport.vue?7e8a","webpack:///src/components/FileImport.vue","webpack:///./src/components/FileImport.vue?fafd","webpack:///./src/components/FileImport.vue","webpack:///./src/components/HelpAbout.vue?2d40","webpack:///src/components/HelpAbout.vue","webpack:///./src/components/HelpAbout.vue?2e49","webpack:///./src/components/HelpAbout.vue","webpack:///src/components/MenuBar.vue","webpack:///./src/components/MenuBar.vue?48ad","webpack:///./src/components/MenuBar.vue?6bbd","webpack:///src/components/LayoutHeader.vue","webpack:///./src/components/LayoutHeader.vue?ad85","webpack:///./src/components/LayoutHeader.vue","webpack:///./src/components/LayoutContent.vue?5ace","webpack:///./src/components/MatrixDiagramCY.vue?996e","webpack:///./src/mixins/PhaserCommon.js","webpack:///./src/components/MatrixLegend.vue?3d10","webpack:///src/components/MatrixLegend.vue","webpack:///./src/components/MatrixLegend.vue?7534","webpack:///./src/components/MatrixLegend.vue","webpack:///src/components/MatrixDiagramCY.vue","webpack:///./src/components/MatrixDiagramCY.vue?9ab5","webpack:///./src/components/MatrixDiagramCY.vue?c623","webpack:///src/components/LayoutContent.vue","webpack:///./src/components/LayoutContent.vue?7b51","webpack:///./src/components/LayoutContent.vue","webpack:///./src/components/LayoutSidebar.vue?44d3","webpack:///./src/components/ItemEditors.vue?9116","webpack:///./src/components/ItemEditor.vue?71d2","webpack:///./src/mixins/constants.js","webpack:///./src/components/ItemTable.vue?6a8f","webpack:///src/components/ItemTable.vue","webpack:///./src/components/ItemTable.vue?f8fb","webpack:///./src/components/ItemTable.vue?a297","webpack:///./src/components/ItemLookup.vue?8586","webpack:///src/components/ItemLookup.vue","webpack:///./src/components/ItemLookup.vue?e1c8","webpack:///./src/components/ItemLookup.vue","webpack:///./src/components/Stratigraphy.vue?47f0","webpack:///src/components/Stratigraphy.vue","webpack:///./src/components/Stratigraphy.vue?0965","webpack:///./src/components/Stratigraphy.vue?5d34","webpack:///./src/components/Dating.vue?a2eb","webpack:///./src/components/DatingYearRange.vue?eed1","webpack:///src/components/DatingYearRange.vue","webpack:///./src/components/DatingYearRange.vue?a596","webpack:///./src/components/DatingYearRange.vue","webpack:///src/components/Dating.vue","webpack:///./src/components/Dating.vue?6c0c","webpack:///./src/components/Dating.vue","webpack:///src/components/ItemEditor.vue","webpack:///./src/components/ItemEditor.vue?f3ff","webpack:///./src/components/ItemEditor.vue","webpack:///src/components/ItemEditors.vue","webpack:///./src/components/ItemEditors.vue?0984","webpack:///./src/components/ItemEditors.vue","webpack:///src/components/LayoutSidebar.vue","webpack:///./src/components/LayoutSidebar.vue?6863","webpack:///./src/components/LayoutSidebar.vue","webpack:///src/components/Layout.vue","webpack:///./src/components/Layout.vue?448b","webpack:///./src/components/Layout.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/store/storeCY.js","webpack:///./src/main.js","webpack:///./src/components/ItemTable.vue?a9d4","webpack:///./src/components/MatrixDiagramCY.vue?2911"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","staticRenderFns","staticClass","attrs","slot","on","clearAll","_v","openFileDialog","staticStyle","fileLoad","fileSave","directives","rawName","modifiers","exportPartPNG","exportFullPNG","zoomIn","zoomOut","zoomFit","redoLayout","handleOK","handleClose","Boolean","selectedFile","$event","loadFile","model","callback","$$v","expression","delimiterOptions","delimiter","hasHeader","parserPreview","component","scopedSlots","_u","fn","proxy","ref","config","preConfig","afterCreated","_l","node","nodeSelected","edge","PhaserCommon","methods","getJSON","uri","success","error","options","method","headers","fetch","then","response","json","catch","capitalize","str","_capitalize","item","index","fillColor","borderColor","dashed","_s","label","tabIndex","nc","itemCount","itemClass","itemSelected","itemDeleted","fields","includes","disabled","labelChanged","selectedItem","$set","trim","_e","typeLookupOptions","typeChanged","parentLookupOptions","parentChanged","descriptionChanged","dating","datingChanged","includeChanged","NodeClass","freeze","PHASE","GROUP","SUBGROUP","CONTEXT","DATING","stopPropagation","createItem","filter","items","rowSelected","row","deleteItem","placeholder","optionsForSelect","changed","optionsId","optionsForInput","$store","getters","nodeLabel","sourceID","edgeTypes","text","selectedEdgeType","available","targetChanged","selectedTargetID","addItem","edgeType","target","removeItem","minYearInvalid","minYearValidation","local","minYear","minYearTolValue","minYearTolUnit","tolTypes","maxYearInvalid","maxYearValidation","maxYear","maxYearTolValue","maxYearTolUnit","Vue","use","Vuex","Store","plugins","createPersistedState","storage","localStorage","state","selectedID","about","project","descrip","creator","contact","created","updated","version","graph","nodes","edges","types","groupTypes","contextTypes","datingTypes","periodTypes","min","max","phases","class","groups","subgroups","contexts","datings","phaseTypeOptions","phaseTypes","groupTypeOptions","contextTypeOptions","datingTypeOptions","phaseOptionsGrouped","sort","a","b","localeCompare","groupOptionsGrouped","subgroupOptionsGrouped","contextOptionsGrouped","contextParentOptions","childrenOfIDs","ids","parent","childrenOfID","descendantsOfIDs","descendants","childNodes","iteration","concat","descendantsOfID","derivedDates","Number","MAX_VALUE","MIN_VALUE","included","forEach","clean","Math","round","nodeByID","find","edgeByID","edgesBySource","source","edgesByTarget","newPhase","nextID","toString","description","position","x","y","newGroup","type","newSubGroup","newContext","newDating","newEdge","mutations","INSERT_NODE","findIndex","UPDATE_NODE","set","SELECT_ID","DELETE_NODE","DELETE_NODES","INSERT_EDGE","UPDATE_EDGE","DELETE_EDGE","DELETE_EDGES","actions","loadMatrixData","commit","dispatch","Promise","insertNode","insertNodes","updateNode","setSelectedID","deleteNode","createEdge","insertEdge","insertEdges","updateEdge","deleteEdge","insertPhase","_merge","insertGroup","insertSubGroup","insertContext","insertDating","createPhase","createGroup","createSubGroup","createContext","createDating","BootstrapVue","BootstrapVueIcons","VuePapaParse","VueCytoscape","productionTip","store","render","h","App","$mount"],"mappings":"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SACA,KAPA,WAQA,OACA,aAGA,UACA,WADA,WAEA,uCAEA,YAJA,WAKA,2BAIA,OACA,WADA,SACA,GAEA,sCACA,2BACA,UACA,oCACA,oCACA,uCACA,sCACA,qCACA,iCAIA,SACA,UADA,SACA,GACA,UACA,uDACA,uDACA,6DACA,2DACA,yDACA,oBAKA,aAjDA,aAkDA,QAlDA,aAmDA,YAnDA,aAoDA,QApDA,aAqDA,aArDA,aAsDA,QAtDA,aAuDA,cAvDA,aAwDA,UAxDA,cChCqV,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QCXf,IACE,KAAF,gBACE,WAAF,CACI,YAAJ,IAEE,SAAF,ICZuV,MCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,gCCSf,IACE,KAAF,SACE,WAAF,CACI,aAAJ,EACI,cAAJ,GACI,cAAJ,GACI,YAAJ,MAGE,KAAF,WAAI,MAAJ,cCpCgV,MCO5U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,M,QCXf,IACE,KAAF,MACE,WAAF,CACI,OAAJ,IAEE,KAAF,WACI,MAAJ,KCb8T,MCQ1T,I,UAAY,eACd,GACA,EACApF,GACA,EACA,KACA,KACA,OAIa,M,qICZf0I,aAAIC,IAAIC,SASO,WAAIA,QAAKC,MAAM,CAG1BC,QAAS,CAAEC,gBAAqB,CAAEC,QAASnK,OAAOoK,gBACrDC,MAAO,CACAC,WAAY,GACZC,MAAO,CACHC,QAAS,qBACTC,QAAS,0EACTC,QAAS,0CACTC,QAAS,gCACTC,QAAS,aACTC,QAAS,aACTC,QAAS,OAEbC,MAAO,CACHC,MAAO,GACPC,MAAO,IAEXC,MAAO,CACHC,WAAY,CACR,WACA,mBACA,gBACA,QACA,sBACA,SACA,OACA,OACA,mBACA,OACA,YACA,QAEJC,aAAc,CACV,qBACA,2BACA,WACA,iBACA,OACA,YACA,kBACA,OACA,SACA,eACA,gBACA,wBACA,yBACA,yBACA,gBACA,sBACA,mBACA,yBACA,YACA,gBACA,sBACA,QACA,cACA,iBACA,kCACA,6BACA,cACA,gBACA,iBACA,cACA,YACA,YACA,UACA,gBACA,QACA,qBACA,OACA,aACA,kBACA,oBACA,UACA,QACA,cACA,QACA,cACA,aACA,mBACA,iBACA,aACA,mBACA,YACA,eACA,aACA,eACA,QACA,sBACA,qBACA,mBACA,iBACA,oBACA,qBACA,6BACA,gBACA,iBACA,iBACA,OACA,iBACA,uBACA,mBACA,yBACA,kBACA,wBACA,gBACA,sBACA,MACA,YACA,kBACA,YACA,cACA,gBACA,sBACA,cACA,oBACA,YACA,kBACA,qBACA,WACA,YACA,kBACA,kBACA,aACA,mBACA,aACA,iBACA,uBACA,QACA,aACA,mBACA,aACA,mBACA,UACA,sBACA,oBACA,kBACA,iBACA,YACA,cACA,oBACA,eACA,qBACA,SACA,eACA,OACA,iCACA,4BACA,8BACA,yBACA,aACA,eACA,YACA,mBAYJC,YAAa,CACT,OACA,SACA,UAEJC,YAAa,CACT,CAAEhL,GAAI,IAAKmF,MAAO,QAAS8F,IAAK,GAAIC,IAAK,KACzC,CAAElL,GAAI,IAAKmF,MAAO,WAAY8F,IAAK,KAAMC,IAAK,SAK7DpD,QAAS,CAEF4C,MAAO,SAAAX,GAAK,OAAIA,EAAMU,MAAMC,OAC5BC,MAAO,SAAAZ,GAAK,OAAIA,EAAMU,MAAME,OAI5BQ,OAAQ,SAACpB,EAAOjC,GAAR,OAAoBA,EAAQ4C,MAAMvD,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,QAAU1E,GAAUE,UACvFyE,OAAQ,SAACtB,EAAOjC,GAAR,OAAoBA,EAAQ4C,MAAMvD,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,QAAU1E,GAAUG,UAC3EyE,UAAW,SAACvB,EAAOjC,GAAR,OAAoBA,EAAQ4C,MAAMvD,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,QAAU1E,GAAUI,aACpFyE,SAAU,SAACxB,EAAOjC,GAAR,OAAoBA,EAAQ4C,MAAMvD,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,QAAU1E,GAAUK,YAGnFyE,QAAS,SAACzB,EAAOjC,GAAR,OAAoBA,EAAQ4C,MAAMvD,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,QAAU1E,GAAUM,WAGlFgD,WAAY,SAAAD,GAAK,OAAIA,EAAMC,YAQ3ByB,iBAAkB,SAAA1B,GAAK,OAAIA,EAAMa,MAAMc,WAAW7L,KAAI,SAAAjC,GAAO,MAAO,CAAEiB,MAAOjB,EAAGsK,KAAMtK,OACtF+N,iBAAkB,SAAA5B,GAAK,OAAIA,EAAMa,MAAMC,WAAWhL,KAAI,SAAAjC,GAAO,MAAO,CAAEiB,MAAOjB,EAAGsK,KAAMtK,OACtFgO,mBAAoB,SAAA7B,GAAK,OAAIA,EAAMa,MAAME,aAAajL,KAAI,SAAAjC,GAAO,MAAO,CAAEiB,MAAOjB,EAAGsK,KAAMtK,OAG1FiO,kBAAmB,SAAA9B,GAAK,OAAIA,EAAMa,MAAMG,YAAYlL,KAAI,SAAAjC,GAAO,MAAO,CAAEiB,MAAOjB,EAAGsK,KAAMtK,OAexFkO,oBAAqB,SAAC/B,EAAOjC,GACzB,IAAM5D,EAAU4D,EAAQqD,OACnBtL,KAAI,SAAAR,GAAO,MAAO,CAAER,MAAOQ,EAAErD,KAAKgE,GAAIkI,KAAM7I,EAAErD,KAAKmJ,UACnD4G,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAE9D,MAAQ8D,EAAE7G,OAAS,IAAI+G,cAAcD,EAAE/D,MAAQ+D,EAAE9G,OAAS,OACjF,OAAyB,GAAlBjB,EAAQ1H,OAAc,GAAK,CAAC,CAAE2I,MAAO,QAASjB,QAASA,KAElEiI,oBAAqB,SAACpC,EAAOjC,GACzB,IAAM5D,EAAU4D,EAAQuD,OACnBxL,KAAI,SAAAR,GAAO,MAAO,CAAER,MAAOQ,EAAErD,KAAKgE,GAAIkI,KAAM7I,EAAErD,KAAKmJ,UACnD4G,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAE9D,MAAQ8D,EAAE7G,OAAS,IAAI+G,cAAcD,EAAE/D,MAAQ+D,EAAE9G,OAAS,OACjF,OAAyB,GAAlBjB,EAAQ1H,OAAc,GAAK,CAAC,CAAE2I,MAAO,QAASjB,QAASA,KAGlEkI,uBAAwB,SAACrC,EAAOjC,GAC5B,IAAM5D,EAAU4D,EAAQwD,UACnBzL,KAAI,SAAAR,GAAO,MAAO,CAAER,MAAOQ,EAAErD,KAAKgE,GAAIkI,KAAM7I,EAAErD,KAAKmJ,UACnD4G,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAE9D,MAAQ8D,EAAE7G,OAAS,IAAI+G,cAAcD,EAAE/D,MAAQ+D,EAAE9G,OAAS,OACjF,OAAyB,GAAlBjB,EAAQ1H,OAAc,GAAK,CAAC,CAAE2I,MAAO,WAAYjB,QAASA,KAGrEmI,sBAAuB,SAACtC,EAAOjC,GAC3B,IAAM5D,EAAU4D,EAAQyD,SACnB1L,KAAI,SAAAR,GAAO,MAAO,CAAER,MAAOQ,EAAErD,KAAKgE,GAAIkI,KAAM7I,EAAErD,KAAKmJ,UACnD4G,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAE9D,MAAQ8D,EAAE7G,OAAS,IAAI+G,cAAcD,EAAE/D,MAAQ+D,EAAE9G,OAAS,OACjF,OAAyB,GAAlBjB,EAAQ1H,OAAc,GAAK,CAAC,CAAE2I,MAAO,UAAWjB,QAASA,KAOpEoI,qBAAsB,SAACvC,EAAOjC,GAAR,+BACfA,EAAQgE,qBADO,eAEfhE,EAAQqE,qBAFO,eAGfrE,EAAQsE,0BAIfG,cAAe,SAACxC,EAAOjC,GAAR,OAAoB,SAAA0E,GAAG,OAAI1E,EAAQ4C,MAAMvD,QAAO,SAAA9H,GAAC,OAAImN,EAAI7G,SAAStG,EAAErD,KAAKyQ,aACxFC,aAAc,SAAC3C,EAAOjC,GAAR,OAAoB,SAAA9H,GAAE,OAAI8H,EAAQyE,cAAc,CAACvM,MAE/D2M,iBAAkB,SAAC5C,EAAOjC,GAAR,OAAoB,SAAA0E,GAClC,IAAII,EAAc,GACdC,EAAa/E,EAAQyE,cAAcC,GACnCM,EAAY,EAChB,MAAMD,EAAWrQ,OAAS,GAAKsQ,EAAY,EACvCF,EAAcA,EAAYG,OAAOF,GACjCA,EAAa/E,EAAQyE,cAAcM,EAAWhN,KAAI,SAAAR,GAAC,OAAIA,EAAErD,KAAKgE,OAC9D8M,IAEJ,OAAOF,IAEXI,gBAAiB,SAACjD,EAAOjC,GAAR,OAAoB,SAAA9H,GAAE,OAAI8H,EAAQ6E,iBAAiB,CAAC3M,MAMrEiN,aAAc,SAAClD,EAAOjC,GAAR,OAAoB,SAAA9H,GAC9B,IAAI8I,EAAUoE,OAAOC,UACjB/D,EAAU8D,OAAOE,UAmCrB,OAjCAtF,EAAQkF,gBAAgBhN,GACnBmH,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,OAAS1E,GAAUM,QAAU3H,EAAErD,KAAKqR,UAAYhO,EAAErD,KAAKuK,UAE1E1G,KAAI,SAAAR,GAAC,QAAMA,GAAK,IAAIrD,MAAQ,IAAIuK,UAEhC+G,SAAQ,SAAAnP,GACL,IAAIoP,EAAQ,CACRzE,QAASoE,OAAO/O,EAAE2K,SAClBM,QAAS8D,OAAO/O,EAAEiL,SAClBL,gBAAiBmE,OAAO/O,EAAE4K,iBAC1BM,gBAAiB6D,OAAO/O,EAAEkL,iBAC1BL,eAAgB7K,EAAE6K,eAClBM,eAAgBnL,EAAEmL,gBAIK,WAAxBiE,EAAMvE,eACLuE,EAAMzE,SAAYyE,EAAMzE,SAAWyE,EAAMxE,gBAAkB,KAE3DwE,EAAMzE,SAAWyE,EAAMxE,gBAGA,WAAxBwE,EAAMjE,eACLiE,EAAMnE,SAAYmE,EAAMnE,SAAWmE,EAAMlE,gBAAkB,KAE3DkE,EAAMnE,SAAWmE,EAAMlE,gBAGxBP,EAAUyE,EAAMzE,UAASA,EAAUyE,EAAMzE,SAEzCM,EAAUmE,EAAMnE,UAASA,EAAUmE,EAAMnE,YAG7C,CACHN,QAASA,EAAUoE,OAAOC,UAAYK,KAAKC,MAAM3E,GAAW,KAC5DM,QAASA,EAAU8D,OAAOE,UAAYI,KAAKC,MAAMrE,GAAW,QAKpEsE,SAAU,SAAC3D,EAAOjC,GAAR,OAAoB,SAAA9H,GAAE,OAAI8H,EAAQ4C,MAAMiD,MAAK,SAAAtO,GAAC,OAAIA,EAAErD,KAAKgE,KAAOA,OAC1E4N,SAAU,SAAC7D,EAAOjC,GAAR,OAAoB,SAAA9H,GAAE,OAAI8H,EAAQ6C,MAAMgD,MAAK,SAAAzN,GAAC,OAAIA,EAAElE,KAAKgE,KAAOA,OAC1E+H,UAAW,SAACgC,EAAOjC,GAAR,OAAoB,SAAA9H,GAAE,QAAM8H,EAAQ4F,SAAS1N,IAAO,IAAIhE,MAAQ,IAAImJ,OAASnF,IACxF6N,cAAe,SAAC9D,EAAOjC,GAAR,OAAoB,SAAAgG,GAAM,OAAIhG,EAAQ6C,MAAMxD,QAAO,SAAAjH,GAAC,OAAIA,EAAElE,KAAK8R,SAAWA,OACzFC,cAAe,SAAChE,EAAOjC,GAAR,OAAoB,SAAAW,GAAM,OAAIX,EAAQ6C,MAAMxD,QAAO,SAAAjH,GAAC,OAAIA,EAAElE,KAAKyM,SAAWA,OAEzFuF,SAAU,SAACjE,EAAOjC,GACd,IAAMzC,EAAKqB,GAAUE,MAEjBqH,EAAS,EACb,MAAMnG,EAAQ4F,SAAR,UAAoBrI,EAApB,YAA0B4I,IAAWA,IAC3C,IAAMjO,EAAK,GAAH,OAAMqF,EAAN,YAAY4I,GACpB,MAAO,CACHjS,KAAM,CACFgE,GAAIA,EACJoL,MAAO/F,EACPF,MAAO8I,EAAOC,WACdC,YAAa,GACb5H,OAAQ,CACJpB,MAAO,GACP2D,QAAS,KACTM,QAAS,KACTL,gBAAiB,EACjBM,gBAAiB,EACjBL,eAAgB,QAChBM,eAAgB,UAGxB8E,SAAU,CACNC,EAAG,EACHC,EAAG,KAKfC,SAAU,SAACxE,EAAOjC,GACd,IAAMzC,EAAKqB,GAAUG,MAEjBoH,EAAS,EACb,MAAMnG,EAAQ4F,SAAR,UAAoBrI,EAApB,YAA0B4I,IAAWA,IAC3C,IAAMjO,EAAK,GAAH,OAAMqF,EAAN,YAAY4I,GACpB,MAAO,CACHjS,KAAM,CACFgE,GAAIA,EACJoL,MAAO/F,EACPoH,OAAQ,GACR+B,KAAM,GACNrJ,MAAO8I,EAAOC,WACdC,YAAa,IAEjBC,SAAU,CACNC,EAAG,EACHC,EAAG,KAKfG,YAAa,SAAC1E,EAAOjC,GACjB,IAAMzC,EAAKqB,GAAUI,SAEjBmH,EAAS,EACb,MAAMnG,EAAQ4F,SAAR,UAAoBrI,EAApB,YAA0B4I,IAAWA,IAC3C,IAAMjO,EAAK,GAAH,OAAMqF,EAAN,YAAY4I,GACpB,MAAO,CACHjS,KAAM,CACFgE,GAAIA,EACJoL,MAAO/F,EACPoH,OAAQ,GACR+B,KAAM,GACNrJ,MAAO8I,EAAOC,WACdC,YAAa,IAEjBC,SAAU,CACNC,EAAG,EACHC,EAAG,KAKfI,WAAY,SAAC3E,EAAOjC,GAChB,IAAMzC,EAAKqB,GAAUK,QAEjBkH,EAAS,EACb,MAAMnG,EAAQ4F,SAAR,UAAoBrI,EAApB,YAA0B4I,IAAWA,IAC3C,IAAMjO,EAAK,GAAH,OAAMqF,EAAN,YAAY4I,GACpB,MAAO,CACHjS,KAAM,CACFgE,GAAIA,EACJoL,MAAO/F,EACPoH,OAAQ,GACR+B,KAAM,GACNrJ,MAAO8I,EAAOC,WACdC,YAAa,IAEjBC,SAAU,CACNC,EAAG,EACHC,EAAG,KAiEfK,UAAW,SAAC5E,EAAOjC,GACf,IAAMzC,EAAKqB,GAAUM,OAEjBiH,EAAS,EACb,MAAMnG,EAAQ4F,SAAR,UAAoBrI,EAApB,YAA0B4I,IAAWA,IAC3C,IAAMjO,EAAK,GAAH,OAAMqF,EAAN,YAAY4I,GACpB,MAAO,CACHjS,KAAM,CACFgE,GAAIA,EACJoL,MAAO/F,EACPoH,OAAQ,GACR+B,KAAM,GACNrJ,MAAO8I,EAAOC,WACdC,YAAa,GACbd,UAAU,EACV9G,OAAQ,CACJpB,MAAO,GACP2D,QAAS,KACTM,QAAS,KACTL,gBAAiB,EACjBM,gBAAiB,EACjBL,eAAgB,QAChBM,eAAgB,UAGxB8E,SAAU,CACNC,EAAG,EACHC,EAAG,KAKfM,QAAS,SAAC7E,EAAOjC,GAEb,IAAImG,EAAS,EACb,MAAMnG,EAAQ8F,SAAR,eAAyBK,IAAWA,IAC1C,IAAMjO,EAAK,QAAH,OAAWiO,GACnB,MAAO,CAAEjS,KAAM,CAAEgE,GAAIA,EAAI8N,OAAQ,GAAIrF,OAAQ,GAAI+F,KAAM,OAMlEK,UAAW,CACJC,YADI,SACQ/E,EAAOtG,GACf,IAAMiH,EAAQX,EAAMU,MAAMC,MACpB5F,EAAQ4F,EAAMqE,WAAU,SAAA1P,GAAC,OAAIA,EAAErD,KAAKgE,KAAOyD,EAAKzH,KAAKgE,OAC7C,IAAX8E,GACC4F,EAAM5N,KAAK2G,IAEnBuL,YAPI,SAOQjF,EAAOtG,GACf,IAAMiH,EAAQX,EAAMU,MAAMC,MACpB5F,EAAQ4F,EAAMqE,WAAU,SAAA1P,GAAC,OAAIA,EAAErD,KAAKgE,KAAOyD,EAAKzH,KAAKgE,OAC7C,IAAX8E,GACCyE,aAAI0F,IAAIvE,EAAO5F,EAAOrB,IAM9ByL,UAjBI,SAiBMnF,EAAO/J,GACb+J,EAAMC,WAAahK,GAAM,IAG7BmP,YArBI,SAqBQpF,EAAOtG,GACf,IAAMiH,EAAQX,EAAMU,MAAMC,MACpB5F,EAAQ4F,EAAMqE,WAAU,SAAA1P,GAAC,OAAIA,EAAErD,KAAKgE,KAAOyD,EAAKzH,KAAKgE,OAC7C,IAAX8E,GACC4F,EAAMhN,OAAOoH,EAAO,IAE5BsK,aA3BI,SA2BSrF,GACTA,EAAMU,MAAMC,MAAQ,IAExB2E,YA9BI,SA8BQtF,EAAOpG,GACf,IAAMgH,EAAQZ,EAAMU,MAAME,MACpB7F,EAAQ6F,EAAMoE,WAAU,SAAA7O,GAAC,OAAIA,EAAElE,KAAKgE,KAAO2D,EAAK3H,KAAKgE,OAC7C,IAAX8E,GACC6F,EAAM7N,KAAK6G,IAEnB2L,YApCI,SAoCQvF,EAAOpG,GACf,IAAMgH,EAAQZ,EAAMU,MAAME,MACpB7F,EAAQ6F,EAAMoE,WAAU,SAAA7O,GAAC,OAAIA,EAAElE,KAAKgE,KAAO2D,EAAK3H,KAAKgE,OAC7C,IAAX8E,GACCyE,aAAI0F,IAAItE,EAAO7F,EAAOnB,IAI9B4L,YA5CI,SA4CQxF,EAAOpG,GACf,IAAMgH,EAAQZ,EAAMU,MAAME,MACpB7F,EAAQ6F,EAAMoE,WAAU,SAAA7O,GAAC,OAAIA,EAAElE,KAAKgE,KAAO2D,EAAK3H,KAAKgE,OAC7C,IAAX8E,GACC6F,EAAMjN,OAAOoH,EAAO,IAE5B0K,aAlDI,SAkDSzF,GACTA,EAAMU,MAAME,MAAQ,KAG/B8E,QAAS,CAIIC,eAJJ,WAIuC1T,GAAK,uKAAxB2T,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,SAAgB,SAEpCA,EAAS,WAAYD,GAFe,cAItCxE,GAAUnP,EAAK0O,OAAS,IAAIvD,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,OAAS1E,GAAUE,SAClEyE,GAAUrP,EAAK0O,OAAS,IAAIvD,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,OAAS1E,GAAUG,SAClEyE,GAAatP,EAAK0O,OAAS,IAAIvD,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,OAAS1E,GAAUI,YACrEyE,GAAYvP,EAAK0O,OAAS,IAAIvD,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,OAAS1E,GAAUK,WAGpEyE,GAAWxP,EAAK0O,OAAS,IAAIvD,QAAO,SAAA9H,GAAC,OAAIA,EAAErD,KAAKoP,OAAS1E,GAAUM,UAGvEmE,EAAOmC,SAAQ,SAAAzI,GAAI,OAAI+K,EAAS,cAAe/K,EAAM8K,MACrDtE,EAAOiC,SAAQ,SAAAzI,GAAI,OAAI+K,EAAS,cAAe/K,EAAM8K,MACrDrE,EAAUgC,SAAQ,SAAAzI,GAAI,OAAI+K,EAAS,iBAAkB/K,EAAM8K,MAC3DpE,EAAS+B,SAAQ,SAAAzI,GAAI,OAAI+K,EAAS,gBAAiB/K,EAAM8K,MAGzDnE,EAAQ8B,SAAQ,SAAAzI,GAAI,OAAI+K,EAAS,eAAgB/K,EAAM8K,MAnBb,UAqBpCC,EAAS,cAAe5T,EAAK2O,OAAS,GAAIgF,GArBN,+CAyB9CzO,SA7BE,YA6BiB,IAATyO,EAAS,EAATA,OAENA,EAAO,gBACPA,EAAO,gBACPE,QAAQvP,WAEZwP,WAnCE,WAmCmBrM,GAAM,IAAfkM,EAAe,EAAfA,OACRA,EAAO,cAAelM,IAE1BsM,YAtCE,WAsC8BrF,GAAO,IAA1BiF,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,SACjBlF,EAAM4C,SAAQ,SAAA7J,GAAI,OAAImM,EAAS,aAAcnM,EAAMkM,MACnDE,QAAQvP,WAElB0P,WA1CQ,WA0CavM,GAAM,IAAfkM,EAAe,EAAfA,OACXA,EAAO,cAAelM,IAEjBwM,cA7CE,WA6CsBjQ,GAAI,IAAb2P,EAAa,EAAbA,OACXA,EAAO,YAAa3P,IAE9BkQ,WAhDQ,WAgDazM,GAAM,IAAfkM,EAAe,EAAfA,OACXA,EAAO,cAAelM,IAGjB0M,WApDE,YAoDsC,IAA5BR,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,SAAU9H,EAAU,EAAVA,QACtBnE,EAAOmE,EAAQ8G,QAEnBgB,EAAS,aAAcjM,EAAMgM,IAEjCS,WAzDE,WAyDmBzM,GAAM,IAAfgM,EAAe,EAAfA,OACJhM,EAAK3H,KAAKgE,KACV2D,EAAK3H,KAAKgE,GAAV,eAAuB2D,EAAK3H,KAAK8R,QAAU,SAA3C,YAAuDnK,EAAK3H,KAAKyM,QAAU,WAC/EkH,EAAO,cAAehM,IAE1B0M,YA9DE,WA8D8B1F,GAAO,IAA1BgF,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,SACjBjF,EAAM2C,SAAQ,SAAA3J,GAAI,OAAIiM,EAAS,aAAcjM,EAAMgM,MACnDE,QAAQvP,WAElBgQ,WAlEQ,WAkEa3M,GAAM,IAAfgM,EAAe,EAAfA,OACXA,EAAO,cAAehM,IAEvB4M,WArEQ,WAqEa5M,GAAM,IAAfgM,EAAe,EAAfA,OACXA,EAAO,cAAehM,IAGjB6M,YAzEE,WAyEuC3L,GAAM,IAAlC8K,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,SAAU9H,EAAgB,EAAhBA,QAEvBrE,EAAOgN,KAAO,GAAI3I,EAAQkG,SAAUnJ,GACxC+K,EAAS,aAAcnM,EAAMkM,IAEjCe,YA9EE,WA8EuC7L,GAAM,IAAlC8K,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,SAAU9H,EAAgB,EAAhBA,QAEvBrE,EAAOgN,KAAO,GAAI3I,EAAQyG,SAAU1J,GACxC+K,EAAS,aAAcnM,EAAMkM,IAEjCgB,eAnFE,WAmF0C9L,GAAM,IAAlC8K,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,SAAU9H,EAAgB,EAAhBA,QAE1BrE,EAAOgN,KAAO,GAAI3I,EAAQ2G,YAAa5J,GAC3C+K,EAAS,aAAcnM,EAAMkM,IAGjCiB,cAzFE,WAyFyC/L,GAAM,IAAlC8K,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,SAAU9H,EAAgB,EAAhBA,QAEzBrE,EAAOgN,KAAO,GAAI3I,EAAQ4G,WAAY7J,GAC1C+K,EAAS,aAAcnM,EAAMkM,IAYjCkB,aAxGE,WAwGwChM,GAAM,IAAlC8K,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,SAAU9H,EAAgB,EAAhBA,QAExBrE,EAAOgN,KAAO,GAAI3I,EAAQ6G,UAAW9J,GACzC+K,EAAS,aAAcnM,EAAMkM,IAIjCmB,YA/GE,YA+GuC,IAA5BnB,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,SAAU9H,EAAU,EAAVA,QACvBrE,EAAOqE,EAAQkG,SAEnB4B,EAAS,aAAcnM,EAAMkM,IAEjCoB,YApHE,YAoHuC,IAA5BpB,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,SAAU9H,EAAU,EAAVA,QACvBrE,EAAOqE,EAAQyG,SAEnBqB,EAAS,aAAcnM,EAAMkM,IAEjCqB,eAzHE,YAyH0C,IAA5BrB,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,SAAU9H,EAAU,EAAVA,QAC1BrE,EAAOqE,EAAQ2G,YAEnBmB,EAAS,aAAcnM,EAAMkM,IAEjCsB,cA9HE,YA8HyC,IAA5BtB,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,SAAU9H,EAAU,EAAVA,QACzBrE,EAAOqE,EAAQ4G,WAEnBkB,EAAS,aAAcnM,EAAMkM,IAUjCuB,aA3IE,YA2IwC,IAA5BvB,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,SAAU9H,EAAU,EAAVA,QACxBrE,EAAOqE,EAAQ6G,UACnBiB,EAAS,eAAgBnM,EAAMkM,O,qCC3sB3CpG,aAAIC,IAAI2H,QACR5H,aAAIC,IAAI4H,QAIR7H,aAAIC,IAAI6H,SACR9H,aAAIC,IAAI8H,MAKR/H,aAAIlG,OAAOkO,eAAgB,EAoB3B,IAAIhI,aAAI,CAEJiI,MAAOA,GACPC,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,OAChBC,OAAO,S,6DC5DV,yBAAwe,EAAG,G,6DCA3e,yBAA8e,EAAG,G","file":"js/app.235d2168.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/tmp123/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=style&index=0&id=eaaa07dc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=style&index=0&id=eaaa07dc&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stratigraphy.vue?vue&type=style&index=0&id=0b31a06c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stratigraphy.vue?vue&type=style&index=0&id=0b31a06c&scoped=true&lang=css&\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"border p-0 bg-light\",attrs:{\"fluid\":\"\",\"id\":\"container\"}},[_c('b-row',{attrs:{\"no-gutters\":\"\",\"id\":\"header\"}},[_c('b-col',[_c('LayoutHeader')],1)],1),_c('vue-splitter',{attrs:{\"margin\":10,\"defaultPercent\":60}},[_c('div',{attrs:{\"slot\":\"left-pane\"},slot:\"left-pane\"},[_c('b-col',[_c('LayoutContent')],1)],1),_c('div',{attrs:{\"slot\":\"right-pane\"},slot:\"right-pane\"},[_c('LayoutSidebar')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('MenuBar')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-navbar',{staticClass:\"border-bottom\",attrs:{\"toggleable\":\"sm\",\"id\":\"nav\"}},[_c('b-navbar-toggle',{attrs:{\"target\":\"nav-collapse\"}}),_c('b-collapse',{attrs:{\"id\":\"nav-collapse\",\"is-nav\":\"\"}},[_c('b-navbar-nav',[_c('b-nav-item-dropdown',{attrs:{\"text\":\"File\"}},[_c('b-dropdown-item-button',{on:{\"click\":_vm.clearAll}},[_c('b-icon-file-earmark-plus',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"New\")])],1),_c('b-dropdown-item-button',{on:{\"click\":_vm.openFileDialog}},[_c('b-icon-upload',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Open...\")]),_c('b-form-file',{staticStyle:{\"display\":\"none\"},attrs:{\"plain\":\"\",\"id\":\"fileOpen\",\"accept\":\".json\"},on:{\"input\":_vm.fileLoad}})],1),_c('b-dropdown-item-button',{on:{\"click\":_vm.fileSave}},[_c('b-icon-download',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Save...\")])],1),_c('b-dropdown-divider'),_c('b-dropdown-item-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modalFileImport\",modifiers:{\"modalFileImport\":true}}]},[_c('b-icon-box-arrow-in-left',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Import context stratigraphy (CSV)...\")]),_c('FileImport')],1),_c('b-dropdown-item-button',{attrs:{\"disabled\":\"\"}},[_c('b-icon-box-arrow-right',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Export context stratigraphy (CSV)...\")])],1),_c('b-dropdown-divider'),_c('b-dropdown-item-button',{on:{\"click\":_vm.exportPartPNG}},[_c('b-icon-box-arrow-right',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Export visible diagram (PNG)...\")])],1),_c('b-dropdown-item-button',{on:{\"click\":_vm.exportFullPNG}},[_c('b-icon-box-arrow-right',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Export full diagram (PNG)...\")])],1)],1),_c('b-nav-item-dropdown',{attrs:{\"text\":\"View\"}},[_c('b-dropdown-item-button',{on:{\"click\":_vm.zoomIn}},[_c('b-icon-zoom-in',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Zoom in\")])],1),_c('b-dropdown-item-button',{on:{\"click\":_vm.zoomOut}},[_c('b-icon-zoom-out',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Zoom out\")])],1),_c('b-dropdown-item-button',{on:{\"click\":_vm.zoomFit}},[_c('b-icon-arrows-fullscreen',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Zoom to fit\")])],1),_c('b-dropdown-divider'),_c('b-dropdown-item-button',{on:{\"click\":_vm.redoLayout}},[_c('b-icon-diagram-3',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"Redo Layout\")])],1)],1),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Help\"}},[_c('b-dropdown-item-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modalAbout\",modifiers:{\"modalAbout\":true}}]},[_c('b-icon-question-circle',{staticClass:\"mr-2\"}),_c('span',[_vm._v(\"About...\")]),_c('HelpAbout')],1)],1)],1)],1),_c('b-navbar-brand',{attrs:{\"href\":\"#\"}},[_c('img',{attrs:{\"src\":\"phaser-spacedout-logo.png\",\"height\":\"25\",\"alt\":\"PHASER\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"centered\":\"\",\"id\":\"modalFileImport\",\"title\":\"Import delimited file\"},on:{\"ok\":_vm.handleOK,\"cancel\":_vm.handleClose,\"close\":_vm.handleClose}},[_c('b-form',{staticClass:\"border p-1\",attrs:{\"inline\":\"\"}},[_c('b-form-file',{attrs:{\"plain\":\"\",\"placeholder\":\"Choose a file or drop it here...\",\"drop-placeholder\":\"Drop file here...\",\"accept\":\"text/csv, .csv, .tab, .txt, .tsv\",\"state\":Boolean(_vm.selectedFile)},on:{\"input\":function($event){return _vm.loadFile(_vm.selectedFile)}},model:{value:(_vm.selectedFile),callback:function ($$v) {_vm.selectedFile=$$v},expression:\"selectedFile\"}}),_c('b-input-group',{staticClass:\"py-2\",attrs:{\"prepend\":\"Delimiter\"}},[_c('b-form-radio-group',{staticClass:\"p-2 border\",attrs:{\"options\":_vm.delimiterOptions,\"name\":\"delimiter\"},model:{value:(_vm.delimiter),callback:function ($$v) {_vm.delimiter=$$v},expression:\"delimiter\"}})],1),_c('b-form-checkbox',{staticClass:\"mx-2\",attrs:{\"inline\":\"\",\"id\":\"checkbox-header\",\"name\":\"checkbox-header\",\"value\":true,\"unchecked-value\":false},model:{value:(_vm.hasHeader),callback:function ($$v) {_vm.hasHeader=$$v},expression:\"hasHeader\"}},[_c('span',[_vm._v(\"Has header row?\")])])],1),_c('div',{staticClass:\"m-2\"},[_vm._v(\"Preview:\")]),_c('div',{staticClass:\"overflow-auto\",staticStyle:{\"height\":\"200px\"}},[_c('b-table',{attrs:{\"small\":\"\",\"striped\":\"\",\"stacked\":\"\",\"items\":_vm.parserPreview}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-modal centered \r\n        id=\"modalFileImport\" \r\n        title=\"Import delimited file\"\r\n        @ok=\"handleOK\" \r\n        @cancel=\"handleClose\" \r\n        @close=\"handleClose\">\r\n        <b-form inline class=\"border p-1\">\r\n            <b-form-file plain\r\n                v-model=\"selectedFile\"\r\n                placeholder=\"Choose a file or drop it here...\"\r\n                drop-placeholder=\"Drop file here...\"\r\n                accept=\"text/csv, .csv, .tab, .txt, .tsv\"\r\n                :state=\"Boolean(selectedFile)\" \r\n                @input=\"loadFile(selectedFile)\">\r\n            </b-form-file>          \r\n                \r\n            <b-input-group prepend=\"Delimiter\" class=\"py-2\">\r\n                <b-form-radio-group\r\n                    class=\"p-2 border\"\r\n                    v-model=\"delimiter\"\r\n                    :options=\"delimiterOptions\"\r\n                    name=\"delimiter\">\r\n                </b-form-radio-group>  \r\n            </b-input-group>   \r\n            <b-form-checkbox inline \r\n                class=\"mx-2\"\r\n                id=\"checkbox-header\"\r\n                v-model=\"hasHeader\"\r\n                name=\"checkbox-header\"\r\n                :value=\"true\"\r\n                :unchecked-value=\"false\">\r\n                <span>Has header row?</span>                     \r\n            </b-form-checkbox>            \r\n        </b-form>\r\n        <!--<div>{{ selectedFile ? selectedFile.size : '' }} bytes, {{ fileData.length }} rows</div>-->\r\n        <div class=\"m-2\">Preview:</div>        \r\n        <div class=\"overflow-auto\" style=\"height: 200px\">\r\n            <b-table small striped stacked :items=\"parserPreview\"></b-table>\r\n        </div>           \r\n        \r\n        <!--<div>Errors:</div>\r\n        <ul>\r\n            <li v-for=\"(err, index) in fileErrors\" :key=\"index\">{{ err.message }}</li>            \r\n        </ul>-->\r\n        <!--<div>{{ graphData }}</div>-->\r\n    </b-modal>\t\r\n</template>\r\n\r\n<script>\r\n//import MyMixin from '@/mixins/MyMixin.js'\r\n\r\nexport default {\r\n\tname: 'FileImport',\r\n\tcomponents: {},\r\n\tmixins: [],\r\n\tprops: {\r\n        defaultDelimiter: {\r\n            type: String,\r\n            required: false,\r\n            default: \",\"\r\n        }\r\n    },\r\n\tdata() {\r\n\t\treturn {\r\n            delimiter: this.defaultDelimiter,\r\n            delimiterOptions: [\r\n                { value: '\\\\t', text: 'Tab' },                \r\n                { value: ',', text: 'Comma' },\r\n                //{ value: ':', text: 'Colon' },\r\n                { value: ';', text: 'Semicolon' },\r\n                { value: '|', text: 'Pipe' },\r\n                { value: ' ', text: 'Space' }               \r\n            ],\r\n            /*expectedColumns: {\r\n                phases: [\"siteCode\", \"phaseID\", \"phaseLabel\", \"phaseStart\", \"phaseEnd\"],\r\n                groups: [\"siteCode\", \"groupID\", \"groupLabel\", \"relationship\", \"relatedGroupID\"],\r\n                subgroups: [\"siteCode\", \"subGroupID\", \"subGrouplabel\", \"relationship\", \"relatedSubGroupID\"],\r\n                contexts: [\"siteCode\", \"contextNo\", \"contextType\", \"relationship\", \"relatedContextNo\"],                \r\n            },*/\r\n            hasHeader: true,\r\n            previewRows: 5,\r\n            selectedFile: null,\r\n            fileContents: \"\",\r\n            //parserResult: null,\r\n            //parserErrors: []\r\n\r\n\t\t}\r\n    },    \r\n\tcomputed: {\r\n        /*fileData() {\r\n            return ((this.parserResult || {}).data || [])\r\n        },\r\n        fileErrors() {\r\n            return ((this.parserResult || {}).errors || [])\r\n        },\r\n        fileMeta() {\r\n            return ((this.parserResult || {}).meta || {})\r\n        },*/  \r\n        \r\n        /* \r\n        Parse selectedFile CSV data to papaParse JSON columns format\r\n        example input: \r\n        siteCode,contextNo,contextType,stratRelationship,relatedContextNo\r\n        \"XSM10\",\"12345\",\"layer\",\"above\",\"23456\"\r\n        \"XSM10\",\"23456\",\"pit\",\"below\",\"12345\"\r\n        example output:\r\n        [\r\n            { siteCode: \"XSM10\", contextNo: \"12345\", contextType: \"layer\", stratRelationship: \"above\", relatedContextNo: \"23456\" },\r\n            { siteCode: \"XSM10\", contextNo: \"23456\", contextType: \"pit\", stratRelationship: \"below\", relatedContextNo: \"12345\" },\r\n        ]\r\n        */\r\n        parserPreview() {\r\n            const self = this\r\n            const config = {\r\n                delimiter: self.delimiter,\r\n                encoding: \"UTF-8\",\r\n                header: self.hasHeader,\r\n                preview: self.previewRows,\r\n                skipEmptyLines: \"greedy\"\r\n            }             \r\n            let parserResult = self.$papa.parse(self.fileContents, config)          \r\n            return parserResult.data\r\n        }\r\n    },\r\n\tmethods: {        \r\n        loadFile(file){\r\n            if(!file) return\r\n\r\n            const self = this\r\n            const reader = new FileReader()\r\n            reader.onload = function(e) { \r\n                self.fileContents = e.target.result\r\n                //self.$store.dispatch('loadPhaserData', data) \r\n            }\r\n            reader.readAsText(file)\r\n        },\r\n        handleOK(){\r\n            const self = this\r\n            const config = {\r\n                delimiter: self.delimiter,\r\n                encoding: \"UTF-8\",\r\n                header: self.hasHeader,\r\n                skipEmptyLines: \"greedy\"\r\n            } \r\n            let parserResult = self.$papa.parse(self.fileContents, config)\r\n            let graph = self.contextDataToGraph(parserResult.data)\r\n            this.$store.dispatch('clearAll') \r\n            this.$store.dispatch('loadMatrixData', graph) \r\n            this.selectedFile = null\r\n            this.fileContents = \"\"\r\n        },\r\n        handleClose(){\r\n            this.selectedFile = null\r\n            this.fileContents = \"\"\r\n        },     \r\n        \r\n        /* Convert pre-parsed CSV fields (as JSON columns) to graph format\r\n            input = [{\r\n                siteCode: \"XSM10\",\r\n                contextNo: \"12345\",\r\n                contextType: \"layer\",\r\n                stratRelationship: \"above\",\r\n                relatedContextNo: \"23456\"\r\n            },\r\n            {\r\n                siteCode: \"XSM10\",\r\n                contextNo: \"23456\",\r\n                contextType: \"pit\",\r\n                stratRelationship: \"below\",\r\n                relatedContextNo: \"12345\"\r\n            }]\r\n            output = {\r\n                nodes: [\r\n                    { id: \"context-12345\", class: \"context\", identifier: \"12345\", type: \"layer\", siteCode: \"XSM10\" },\r\n                    { id: \"context-23456\", class: \"context\", identifier: \"23456\", type: \"pit\", siteCode: \"XSM10\" },\r\n                ],\r\n                edges: [\r\n                    { id: \"context-12345-23456\", source: \"context-12345\", target: \"context-23456\", type: \"above\" },\r\n                    { id: \"context-23456-12345\", source: \"context-23456\", target: \"context-12345\", type: \"below\" },\r\n                ]\r\n            }\r\n        */\r\n        contextDataToGraph(data) { \r\n            const clean = s => (s || \"\").toString().trim()\r\n            \r\n            const uniqueNodes = new Map()\r\n            const uniqueEdges = new Map()\r\n\r\n            for (const item of data) {\r\n                // get clean input field values\r\n                let cleanSiteCode = clean(item.siteCode)\r\n                let cleanContextNo = clean(item.contextNo).toLowerCase()\r\n                let cleanContextType = clean(item.contextType).toLowerCase()\r\n                let cleanStratRelationship = clean(item.stratRelationship).toLowerCase()\r\n                let cleanRelatedContextNo = clean(item.relatedContextNo).toLowerCase()\r\n\r\n                if(cleanStratRelationship != \"above\") continue\r\n\r\n                // create new node for THIS context\r\n                if(cleanContextNo !== \"\") {\r\n                    // { id: \"context-12345\", class: \"context\", type: \"layer\", identifier: \"12345\", siteCode: \"XSM10\" } \r\n                    let newNode = { \r\n                        data: {\r\n                            id: `context-${cleanContextNo}`,\r\n                            class: \"context\",\r\n                            type: cleanContextType,\r\n                            label: cleanContextNo,\r\n                            siteCode: cleanSiteCode \r\n                        }                   \r\n                    }\r\n                    // If it already exists, merge new properties \r\n                    if(uniqueNodes.has(newNode.data.id)) { \r\n                        let oldNode = uniqueNodes.get(newNode.data.id)\r\n                        newNode = Object.assign({}, oldNode, newNode)\r\n                    }\r\n\r\n                    // add it or overwrite existing\r\n                    uniqueNodes.set(newNode.data.id, newNode)  \r\n                }\r\n\r\n                // create new node for the RELATED context\r\n                if(cleanRelatedContextNo !== \"\") {\r\n                    let newNode = { \r\n                        data: {\r\n                            id: `context-${cleanRelatedContextNo}`,\r\n                            class: \"context\",\r\n                            type: \"\",\r\n                            label: cleanRelatedContextNo,\r\n                            siteCode: cleanSiteCode                    \r\n                        }\r\n                    }\r\n                    // If it already exists, merge new properties \r\n                    if(uniqueNodes.has(newNode.data.id)) { \r\n                        let oldNode = uniqueNodes.get(newNode.data.id)\r\n                        newNode = Object.assign({}, oldNode, newNode)\r\n                    }\r\n                    // add it or overwrite existing\r\n                    uniqueNodes.set(newNode.data.id, newNode) \r\n                }\r\n\r\n                // create new edge  \r\n                if(cleanContextNo !== \"\" && cleanRelatedContextNo !== \"\") {             \r\n                    // { id: \"context-12345-23456\", source: \"context-12345\", target: \"context-23456\", type: \"above\" }\r\n                    let newEdge = { \r\n                        data: {\r\n                            id: `context-${cleanContextNo}-${cleanRelatedContextNo}`,\r\n                            source: `context-${cleanContextNo}`,\r\n                            target: `context-${cleanRelatedContextNo}`,\r\n                            type: cleanStratRelationship \r\n                        }                   \r\n                    }\r\n                    // If it already exists, update by merging new properties \r\n                    if(uniqueEdges.has(newEdge.data.id)) { \r\n                        let oldEdge = uniqueEdges.get(newEdge.data.id)\r\n                        newEdge = Object.assign({}, oldEdge, newEdge)\r\n                    }\r\n                    // Either add it or overwrite the one that is there\r\n                    uniqueEdges.set(newEdge.data.id, newEdge) \r\n                }\r\n            }\r\n\r\n            return {\r\n                nodes: [...uniqueNodes.values()],   // Map values as array            \r\n                edges: [...uniqueEdges.values()]    // Map values as array          \r\n            }\r\n        }        \r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileImport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileImport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileImport.vue?vue&type=template&id=df56d2c4&scoped=true&\"\nimport script from \"./FileImport.vue?vue&type=script&lang=js&\"\nexport * from \"./FileImport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df56d2c4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"centered\":\"\",\"id\":\"modalAbout\",\"title\":\"About\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div')]},proxy:true}])},[_c('div',{staticClass:\"text-center\"},[_c('img',{staticClass:\"mb-3\",attrs:{\"src\":\"phaser-spacedout-logo.png\"}}),_c('p',[_vm._v(\"A stratigraphic matrix editing tool\")]),_c('p',[_vm._v(\"Created as part of the MATRIX project\")]),_c('p',[_vm._v(\"https://stratigraphic.github.io/matrix/\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<b-modal centered id=\"modalAbout\" title=\"About\">\r\n\t\t<div class=\"text-center\">\r\n\t\t\t<img src=\"phaser-spacedout-logo.png\" class=\"mb-3\">\t\t\t\t\r\n\t\t\t<p>A stratigraphic matrix editing tool</p>\r\n\t\t\t<p>Created as part of the MATRIX project</p>\r\n\t\t\t<p>https://stratigraphic.github.io/matrix/</p>\t\t\t\r\n\t\t</div>\r\n\t\t<!--keep this - removes default buttons from modal-->\r\n\t\t<template #modal-footer><div></div></template>\r\n\t</b-modal>\t\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\tname: 'HelpAbout',\r\n\tcomponents: {},\r\n\tmixins: [],\r\n\tprops: {},\r\n\tdata() { return {} },\r\n\tcomputed: {},\t\t\r\n\tmethods: {},\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpAbout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpAbout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelpAbout.vue?vue&type=template&id=ab806938&scoped=true&\"\nimport script from \"./HelpAbout.vue?vue&type=script&lang=js&\"\nexport * from \"./HelpAbout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ab806938\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<b-navbar toggleable=\"sm\" id=\"nav\" class=\"border-bottom\">\r\n\t\t<b-navbar-toggle target=\"nav-collapse\"/>\r\n\t\t<b-collapse id=\"nav-collapse\" is-nav>\t\r\n\t\t\t<b-navbar-nav>\t\t\r\n\t\t\t\t<b-nav-item-dropdown text=\"File\">\r\n\t\t\t\t\t<b-dropdown-item-button  @click=\"clearAll\">\r\n\t\t\t\t\t\t<b-icon-file-earmark-plus class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>New</span>\t\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-item-button  @click=\"openFileDialog\">\r\n\t\t\t\t\t\t<b-icon-upload class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Open...</span>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<b-form-file plain \r\n\t\t\t\t\t\t\tid=\"fileOpen\" \r\n\t\t\t\t\t\t\tstyle=\"display: none\" \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\taccept=\".json\"                \r\n\t\t\t\t\t\t\t@input=\"fileLoad\">\r\n\t\t\t\t\t\t</b-form-file>\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"fileSave\">\r\n\t\t\t\t\t\t<b-icon-download class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Save...</span>\t\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\t\t\t\t\t\r\n\t\t\t\t\t<b-dropdown-divider/>\r\n\t\t\t\t\t<b-dropdown-item-button v-b-modal.modalFileImport>\r\n\t\t\t\t\t\t<b-icon-box-arrow-in-left class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Import context stratigraphy (CSV)...</span>\r\n\t\t\t\t\t\t<FileImport />\t\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\t\t\t\t\t\r\n\t\t\t\t\t<b-dropdown-item-button disabled>\r\n\t\t\t\t\t\t<b-icon-box-arrow-right class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Export context stratigraphy (CSV)...</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-divider/>\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"exportPartPNG\">\r\n\t\t\t\t\t\t<b-icon-box-arrow-right class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Export visible diagram (PNG)...</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\t\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"exportFullPNG\">\r\n\t\t\t\t\t\t<b-icon-box-arrow-right class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Export full diagram (PNG)...</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\t\t\t\t\r\n\t\t\t\t</b-nav-item-dropdown>\r\n\t\t\t\t<b-nav-item-dropdown text=\"View\">\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"zoomIn\">\r\n\t\t\t\t\t\t<b-icon-zoom-in class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Zoom in</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"zoomOut\">\r\n\t\t\t\t\t\t<b-icon-zoom-out class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Zoom out</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"zoomFit\">\r\n\t\t\t\t\t\t<b-icon-arrows-fullscreen class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Zoom to fit</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t\t<b-dropdown-divider/>\r\n\t\t\t\t\t<b-dropdown-item-button @click=\"redoLayout\">\r\n\t\t\t\t\t\t<b-icon-diagram-3 class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>Redo Layout</span>\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t</b-nav-item-dropdown>\r\n\t\t\t\t<b-nav-item-dropdown text=\"Help\">\r\n\t\t\t\t\t<b-dropdown-item-button v-b-modal.modalAbout>\r\n\t\t\t\t\t\t<b-icon-question-circle class=\"mr-2\" />\r\n\t\t\t\t\t\t<span>About...</span>\r\n\t\t\t\t\t\t<HelpAbout />\t\t\t\t\t\r\n\t\t\t\t\t</b-dropdown-item-button>\r\n\t\t\t\t</b-nav-item-dropdown>\r\n\t\t\t</b-navbar-nav>\r\n\t\t</b-collapse>\r\n\t\t<!--<b-navbar-brand href=\"#\" id=\"brand\" tag=\"h1\" class=\"mb-0 primary\">The Matrix</b-navbar-brand>-->\r\n\t\t<b-navbar-brand href=\"#\">\r\n\t\t\t<img src=\"phaser-spacedout-logo.png\" height=\"25\" alt=\"PHASER\"/>\r\n\t\t</b-navbar-brand>\r\n\t</b-navbar>\t\r\n</template>\r\n\r\n<script>\r\n//import ModalFileOpen from '@/components/ModalFileOpen'\r\nimport FileImport from '@/components/FileImport'\r\nimport HelpAbout from '@/components/HelpAbout'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n\tname: 'MenuBar',\r\n\tcomponents: {\r\n\t\t//ModalFileOpen,\r\n\t\tFileImport,\r\n\t\tHelpAbout\r\n\t},\r\n\tprops: { },\r\n\tdata: function() {\r\n\t\treturn { }\r\n\t},\r\n\tcomputed: {\t},\r\n\tmethods: { \r\n\t\topenFileDialog() {\r\n\t\t\t// programmatically display the file dialog\r\n\t\t\tdocument.getElementById(\"fileOpen\").click() \r\n\t\t},\t\t\r\n\r\n\t\tclearAll() {\r\n\t\t\tlet self = this\r\n\t\t\tself.$bvModal.msgBoxConfirm('Clear all current data, are you sure?')\r\n\t\t\t\t.then(value => {\r\n\t\t\t\t\tif(value) { \r\n\t\t\t\t\t\tself.$store.dispatch('clearAll') \r\n\t\t\t\t\t\tthis.$root.$emit('diagramClear')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\t\r\n\t\t},\r\n\t\t\r\n\t\tfileLoad(file) {\r\n\t\t\tconst self = this            \r\n\t\t\tif(!file) return\r\n\t\t\t\r\n            const reader = new FileReader()\r\n            reader.onload = function(e) { \r\n                const fileContents = JSON.parse(e.target.result)\r\n                self.$store.dispatch('loadMatrixData', fileContents)\t\t\t\t\r\n            }\r\n            reader.readAsText(file)\r\n\t\t},\r\n\r\n\t\tfileSave() {\r\n\t\t\tconst data = {\r\n\t\t\t\tnodes: this.$store.getters.nodes, //.map(n => n.data),\r\n\t\t\t\tedges: this.$store.getters.edges //.map(e => e.data)\r\n\t\t\t}\r\n\t\t\tconst fileName = `phaser-${ moment().format(\"YYYYMMDDHHmmss\") }.json`\r\n            this.saveToFile(JSON.stringify(data), fileName)\r\n\t\t},\r\n\r\n\t\t// this function from https://forum.vuejs.org/t/saving-form-data/38714\r\n        saveToFile(jsonData, fileName) {\r\n            let blob = new Blob([jsonData], { type: 'text/plain;charset=utf-8;' })\r\n            if (navigator.msSaveBlob) { // IE 10+\r\n                navigator.msSaveBlob(blob, fileName)\r\n            } else {\r\n                let link = document.createElement('a')\r\n                if (link.download !== undefined) { // feature detection\r\n                    // Browsers that support HTML5 download attribute\r\n                    let url = URL.createObjectURL(blob)\r\n                    link.setAttribute('href', url)\r\n                    link.setAttribute('download', fileName)\r\n                    link.style.visibility = 'hidden'\r\n                    document.body.appendChild(link)\r\n                    link.click()\r\n                    document.body.removeChild(link)\r\n                }\r\n            }\r\n        },\r\n\t\texportPartPNG() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramExportPartPNG')\t\t\t\r\n\t\t},\r\n\t\texportFullPNG() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramExportFullPNG')\t\t\t\r\n\t\t},\r\n\t\tzoomIn() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramZoomIn') \r\n\t\t},\r\n\t\tzoomOut() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramZoomOut') \r\n\t\t},\r\n\t\tzoomFit() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramZoomFit') \r\n\t\t},\r\n\t\tredoLayout() {\r\n\t\t\t// event bus - phaser diagram handles this\r\n\t\t\tthis.$root.$emit('diagramRedoLayout') \r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#nav {\r\n\tbackground:whitesmoke;\t\r\n}\r\n#brand {\r\n\tcolor: darkgray;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuBar.vue?vue&type=template&id=eaaa07dc&scoped=true&\"\nimport script from \"./MenuBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuBar.vue?vue&type=style&index=0&id=eaaa07dc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eaaa07dc\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <MenuBar/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport MenuBar from '@/components/MenuBar'\r\n\r\nexport default {  \r\n    name: 'LayoutHeader',\r\n    components: { \r\n        MenuBar\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayoutHeader.vue?vue&type=template&id=d3113ef2&scoped=true&\"\nimport script from \"./LayoutHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./LayoutHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3113ef2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('MatrixDiagramCY')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"overflow-auto\",attrs:{\"id\":\"holder\"}},[_c('MatrixLegend'),_c('cytoscape',{ref:\"cy\",attrs:{\"id\":\"diagram\",\"config\":_vm.config,\"preConfig\":_vm.preConfig,\"afterCreated\":_vm.afterCreated}},[_vm._l((_vm.nodes),function(node){return _c('cy-element',{key:(\"\" + (node.data.id)),attrs:{\"definition\":node,\"sync\":true},on:{\"click\":function($event){return _vm.nodeSelected($event, node)}}})}),_vm._l((_vm.edges),function(edge){return _c('cy-element',{key:(\"\" + (edge.data.id)),attrs:{\"definition\":edge}})})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _capitalize  from 'lodash/capitalize'\r\n\r\nconst PhaserCommon = {\r\n    data: function() {\r\n        return {}\r\n    }, \r\n    methods: {\r\n        getJSON(uri, success=()=>{}, error=()=>{}) {\r\n            let options = {\r\n                method: 'GET', \r\n                headers: { \r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json' \r\n                } \r\n            }\r\n            fetch(uri, options)\r\n                .then(response => response.json())\r\n                .then(success)\r\n                .catch(error)\r\n        },\r\n        \r\n        capitalize(str){\r\n\t\t\treturn _capitalize(str)\r\n\t\t}\r\n    }\r\n}\r\nexport default PhaserCommon\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"position-relative\"},[_c('b-card',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.legendItems\",modifiers:{\"legendItems\":true}}],staticClass:\"card text-secondary p-0 mx-2 mt-2 position-absolute shadow\",staticStyle:{\"{ top\":\"0\",\"right\":\"0\",\"z-index\":\"100\",\"cursor\":\"'pointer' }\"},attrs:{\"no-body\":\"\"}},[_c('div',{staticClass:\"card-header px-3 py-1\"},[_c('b-icon-key',{staticClass:\"mr-2\"}),_vm._v(\"Key\")],1),_c('b-collapse',{staticClass:\"card-body m-0 px-3 py-1\",attrs:{\"id\":\"legendItems\"}},[_c('b-list-group',{staticClass:\"bg-light\",attrs:{\"flush\":\"\"}},_vm._l((_vm.legendItems),function(item,index){return _c('b-list-group-item',{key:index,staticClass:\"m-0 p-0 border-0\"},[_c('svg',{attrs:{\"height\":\"15\",\"width\":\"30\"}},[_c('rect',{attrs:{\"x\":\"1\",\"y\":\"1\",\"width\":\"28\",\"height\":\"11\",\"stroke-width\":\"1\",\"fill\":item.fillColor,\"stroke\":item.borderColor,\"stroke-dasharray\":item.dashed ? '2 2' : ''}})]),_c('span',{staticClass:\"ml-1\"},[_vm._v(_vm._s(item.label))])])}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"position-relative\">\r\n        <b-card no-body v-b-toggle.legendItems \r\n            class=\"card text-secondary p-0 mx-2 mt-2 position-absolute shadow\" \r\n            style=\"{ top: 0; right: 0; z-index: 100; cursor: 'pointer' }\">\r\n            <div class=\"card-header px-3 py-1\"><b-icon-key class=\"mr-2\"/>Key</div>\r\n            <b-collapse id=\"legendItems\" class=\"card-body m-0 px-3 py-1\">               \r\n                <b-list-group flush class=\"bg-light\">\r\n                    <b-list-group-item v-for=\"(item, index) in legendItems\" :key=\"index\" class=\"m-0 p-0 border-0\">\r\n                        <svg height=\"15\" width=\"30\">\r\n                            <rect x=\"1\" y=\"1\" \r\n                                width=\"28\" height=\"11\" \r\n                                stroke-width=\"1\" \r\n                                :fill=\"item.fillColor\" \r\n                                :stroke=\"item.borderColor\"\r\n                                :stroke-dasharray=\"item.dashed ? '2 2' : ''\"/>                                \r\n                        </svg>\r\n                        <span class=\"ml-1\">{{item.label}}</span>\r\n                    </b-list-group-item>\r\n                        <!--<b-list-group-item class=\"m-0 p-0 border-0\">\r\n                            <svg height=\"15\" width=\"25\">\r\n                                <line x1=\"0\" y1=\"6\" x2=\"25\" y2=\"6\" stroke-width=\"2\" stroke=\"red\" stroke-dasharray=\"3 2\"/>                                \r\n                            </svg>\r\n                            <span class=\"ml-1\">Phase</span>\r\n                        </b-list-group-item> \r\n                        <b-list-group-item class=\"m-0 p-0 border-0\">\r\n                            <svg height=\"15\" width=\"25\">\r\n                                <rect x=\"1\" y=\"1\" width=\"20\" height=\"10\" stroke-width=\"2\" fill=\"honeydew\" stroke=\"green\"/>                                \r\n                            </svg>\r\n                            <span class=\"ml-1\">Group</span>\r\n                        </b-list-group-item>  \r\n                        <b-list-group-item class=\"m-0 p-0 border-0\">\r\n                            <svg height=\"15\" width=\"25\">\r\n                                <rect x=\"1\" y=\"1\" width=\"20\" height=\"10\" stroke-width=\"2\" fill=\"aliceblue\" stroke=\"blue\"/>                                \r\n                            </svg>\r\n                            <span class=\"ml-1\">Sub-Group</span>\r\n                        </b-list-group-item> \r\n                        <b-list-group-item class=\"m-0 p-0 border-0\">\r\n                            <svg height=\"15\" width=\"25\">\r\n                                <rect x=\"1\" y=\"1\" width=\"20\" height=\"10\" stroke-width=\"2\" fill=\"white\" stroke=\"black\"/>                                \r\n                            </svg>\r\n                            <span class=\"ml-1\">Context</span>\r\n                        </b-list-group-item> -->\r\n                        <!--<b-list-group-item class=\"m-0 p-0 border-0\">\r\n                            <svg height=\"15\" width=\"25\">\r\n                                <circle cx=\"12\" cy=\"7.5\" r=\"7\" stroke=\"red\" stroke-width=\"1\" fill=\"pink\" />                               \r\n                            </svg>\r\n                            <span class=\"ml-1\">Find</span>\r\n                        </b-list-group-item>\r\n                         <b-list-group-item class=\"m-0 p-0 border-0\">\r\n                            <svg height=\"15\" width=\"25\">\r\n                                <polygon points=\"4,15 12,0 20,15\" stroke=\"purple\" stroke-width=\"1\" fill=\"plum\" />                               \r\n                            </svg>\r\n                            <span class=\"ml-1\">Sample</span>\r\n                        </b-list-group-item>-->\r\n                </b-list-group>                    \r\n            </b-collapse>\r\n        </b-card>\r\n    </div> \t\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\tname: 'MatrixLegend',\r\n\tcomponents: {},\r\n\tmixins: [],\r\n\tprops: {},\r\n\tdata() {\r\n        return {\r\n            legendItems: [\r\n                { label: \"Phase\", fillColor: \"ivory\", borderColor: \"red\", dashed: true },\r\n                { label: \"Group\", fillColor: \"honeydew\", borderColor: \"green\" },\r\n                { label: \"Sub-Group\", fillColor: \"aliceblue\", borderColor: \"blue\" },\r\n                { label: \"Context\", fillColor: \"white\", borderColor: \"black\" },\r\n                { label: \"Selected\", fillColor: \"gold\", borderColor: \"black\" },\r\n            ],\r\n        }\r\n    },\r\n\tcomputed: {},\r\n\tmethods: {},\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixLegend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixLegend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MatrixLegend.vue?vue&type=template&id=701840de&scoped=true&\"\nimport script from \"./MatrixLegend.vue?vue&type=script&lang=js&\"\nexport * from \"./MatrixLegend.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"701840de\",\n  null\n  \n)\n\nexport default component.exports","<template>\t\r\n\t<!--cytoscape graph-->\r\n    <div id=\"holder\" class=\"overflow-auto\">        \r\n        <MatrixLegend/>\r\n\r\n        <cytoscape id=\"diagram\" \r\n            ref=\"cy\" \r\n            :config=\"config\" \r\n            :preConfig=\"preConfig\" \r\n            :afterCreated=\"afterCreated\">            \r\n            <!--<cy-element v-for=\"def in elements.edges.filter(e => e.data.type == 'above')\"\r\n                :key=\"`${def.data.id}`\"\r\n                :definition=\"def\"/>-->\r\n            <!--<cy-element v-for=\"def in elements\"\r\n                :key=\"`${def.data.id}`\"\r\n                :definition=\"def\"\r\n                :sync=\"true\"/>-->\r\n            <cy-element v-for=\"node in nodes\"\r\n                :key=\"`${node.data.id}`\"\r\n                :definition=\"node\"\r\n                v-on:click=\"nodeSelected($event, node)\"\r\n                :sync=\"true\"/>\r\n\r\n            <cy-element v-for=\"edge in edges\"\r\n                :key=\"`${edge.data.id}`\"\r\n                :definition=\"edge\"/>            \r\n        </cytoscape>\r\n    </div>\r\n\t\r\n</template>\r\n\r\n<script>\r\n//import MyComponent from '@/components/MyComponent.vue'\r\nimport dagre from 'cytoscape-dagre'\r\nimport gridGuide from 'cytoscape-grid-guide'\r\n//import Layers from 'cytoscape-layers'\r\nimport cyCanvas from 'cytoscape-canvas'\r\n\r\nimport moment from 'moment'\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\nimport MatrixLegend from '@/components/MatrixLegend'\r\n\r\nexport default {\r\n\tname: 'MatrixDiagramCY',\r\n\tcomponents: {\r\n\t\tMatrixLegend \r\n\t},\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: { \r\n        gridSize: {\r\n            type: Number,\r\n            required: false,\r\n            default: 40\r\n        }\r\n    },\r\n\tdata() {\r\n        return {\r\n            container: \"cy\",\r\n            config: {\r\n                layout: {\r\n                    name: 'dagre', \r\n                    // dagre options, uses default value if undefined\r\n                    nodeSep: this.gridSize - 4, // the separation between adjacent nodes in the same rank\r\n                    //edgeSep: 20, // the separation between adjacent edges in the same rank                    \r\n                    rankSep: this.gridSize - 4, // the separation between each rank in the layout\r\n                    marginx: this.gridSize / 2,\r\n                    marginy: this.gridSize / 2,                    \r\n                    rankDir: 'TB', // 'TB' for top to bottom flow, 'LR' for left to right\r\n                    ranker: undefined, // Type of algorithm to assign a rank to each node in the input graph. Possible values: 'network-simplex', 'tight-tree' or 'longest-path'\r\n                    //minLen: function( edge ){ return 1; }, // number of ranks to keep between the source and target of the edge\r\n                    //edgeWeight: function( edge ){ return 1; }, // higher weight edges are generally made shorter and straighter than lower weight edges\r\n\r\n                    // general layout options\r\n                    fit: true, // whether to fit to viewport\r\n                    padding: this.gridSize / 2, // fit padding\r\n                    spacingFactor: undefined, // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\r\n                    nodeDimensionsIncludeLabels: false, // whether labels should be included in determining the space used by a node\r\n                    animate: false, // whether to transition the node positions\r\n                    boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\r\n                    //transform: function( node, pos ){ return pos; }, // a function that applies a transform to the final node position\r\n                    //zoom: function(e){ console.log(\"zoom\"); console.log(e)},\r\n                    //viewport: function(e){ console.log(\"viewport\"); console.log(e)},\r\n                    ready: function(){}, // on layoutready\r\n                    stop: this.layoutStop // on layoutstop              \r\n                },\r\n                minZoom: 0.05,\r\n                maxZoom: 2.0,\r\n                style: [\r\n                    // see https://github.com/cytoscape/cytoscape.js/blob/master/documentation/md/style.md\r\n                    // for style settings. Note can layer and position SVG background images - to maybe use\r\n                    // images for finds and samples indicators  \r\n                    {\r\n                        selector: 'node',\r\n                        style: {\r\n                            'font-family': 'sans-serif',\r\n                            'font-size': '1em',\r\n                            'shape': 'rectangle',\r\n                            'width': this.gridSize * 3,\r\n                            'height': this.gridSize * 1,\r\n                            'padding': 0,\r\n                            'text-opacity': 1.0,\r\n                            'text-valign': 'center',\r\n                            'text-halign': 'center',\r\n                            'color': 'black',\r\n                            'background-color': 'white',\r\n                            'background-opacity': 1.0,\r\n                            'border-color': 'black',\r\n                            'border-width': '4px',\r\n                            'border-style': 'solid',\r\n                            'border-opacity': 1.0,\r\n                            //'background-fill': 'radial-gradient',\r\n                            //'background-gradient-stop-colors': 'aliceblue blue'\r\n                        }\r\n                    },\t\r\n                    {                       \r\n                        selector: 'node[class=\"context\"]',\r\n                        style: {\r\n                            'width': this.gridSize * 3,\r\n                            'height': this.gridSize * 1,\r\n                            'label':  el => `${el.data('label') ? el.data('label') : el.data('id')}`,                             \r\n                            //'background-fill': 'radial-gradient',\r\n                            //'background-gradient-stop-colors': 'white gray'  \r\n                        }\r\n                    },\r\n                    {                       \r\n                        selector: 'node[class=\"context\"]:selected',\r\n                        style: {\r\n                            'background-color': 'gold'\r\n                            //'background-fill': 'radial-gradient',\r\n                            //'background-gradient-stop-colors': 'white gray'  \r\n                        }\r\n                    },\r\n                    {\r\n                        selector: 'node[class=\"phase\"]',\r\n                        style: {\r\n                            'label':  el => `${el.data('label') ? el.data('label') : el.data('id')}`,\r\n                            'width': '600px',\r\n                            'text-opacity': 0.75,\r\n                            'padding': this.gridSize / 2,\r\n                            'color': 'gray',                            \r\n                            'background-color': 'ivory',\r\n                            'border-color': 'lightgray'                            \r\n                        }\r\n                    },\r\n                    {\r\n                        selector: 'node[class=\"group\"]',\r\n                        style: {\r\n                            //'padding': 15, \r\n                            'label':  el => `${el.data('label') ? el.data('label') : el.data('id')}`, \r\n                            'text-opacity': 0.75,\r\n                            'color': 'green',                            \r\n                            'background-color': 'honeydew',\r\n                            'border-color': 'green'                            \r\n                        }\r\n                    },\r\n                    {\r\n                        selector: 'node[class=\"subgroup\"]',\r\n                        style: {\r\n                            'label':  el => `${el.data('label') ? el.data('label') : el.data('id')}`, \r\n                            'text-opacity': 0.75,\r\n                            'color': 'blue',                            \r\n                            'background-color': 'aliceblue',\r\n                            'border-color': 'blue',                           \r\n                        }\r\n                    },\t\r\n                    {\r\n                        selector: 'node[class=\"find\"]',\r\n                        style: {\r\n                            'label':  el => `${el.data('label') ? el.data('label') : el.data('id')}`,                             \r\n                            'shape': 'ellipse',\r\n                            'text-opacity': 1,\r\n                            'color': 'red',                            \r\n                            'background-color': 'pink',\r\n                            'border-color': 'red', \r\n                            'border-width': '1px',\r\n                            'font-size': '0.5em',     \r\n                            'width' : 15,\r\n                            'height': 15                    \r\n                        }\r\n                    },\t\r\n                    {\r\n                        selector: 'node[class=\"sample\"]',\r\n                        style: {\r\n                            'color': 'purple',\r\n                            'shape': 'triangle',\r\n                            //'padding': 15,\r\n                            'label':  el => `${el.data('label') ? el.data('label') : el.data('id')}`, \r\n                            'text-opacity': 1,\r\n                            'background-color': 'plum',\r\n                            'border-color': 'purple', \r\n                            'border-width': '1px',\r\n                            'font-size': '0.5em',     \r\n                            'width' : 15,\r\n                            'height': 15                    \r\n                        }\r\n                    },\t\r\n                    {\r\n                        selector: 'edge',\r\n                        style: {\r\n                            'curve-style': 'taxi',\r\n                            'taxi-direction': 'downward',\r\n                            'taxi-turn': 15,\r\n                            'edge-distances': 'intersection',\r\n                            'taxi-turn-min-distance': 15,\r\n                            'source-endpoint': 'outside-to-node',\r\n                            'target-endpoint': 'outside-to-node',\r\n                            'width': 3,\r\n                            'target-arrow-shape': 'none',\r\n                            'line-color': 'gray',\r\n                            'line-style': 'solid',\r\n                            'target-arrow-color': '#9dbaea'\r\n                        }\r\n                    }\r\n                ]                \r\n            }\r\n\t\t}\r\n\t},\r\n    watch: {\r\n        // show visual indicator of currently selected node if selected elsewhere\r\n        selectedID(newValue) {            \r\n            const cyi = (this.$refs.cy || {}).instance || null\r\n            if(!cyi) return \r\n            cyi.elements(\"node:selected\").unselect()           \r\n            cyi.$id(newValue).select()            \r\n        }\r\n    },\r\n\tcomputed: { \r\n        gridSpacing(){ return this.gridSize }, \r\n        nodes() {\r\n            return []\r\n                .concat(this.$store.getters.phases)\r\n                .concat(this.$store.getters.groups)\r\n                .concat(this.$store.getters.subgroups)\r\n                .concat(this.$store.getters.contexts)\r\n                //.concat(this.$store.getters.finds)    // don't display on graph\r\n                //.concat(this.$store.getters.samples)  // don't display on graph\r\n        },\r\n        edges() {\r\n            return (this.$store.getters.edges).filter(e => e.data.type == \"above\")\r\n        }, \r\n        selectedID() {\r\n            return this.$store.getters.selectedID            \r\n        },             \r\n        /*elements() {\r\n            return []\r\n            .concat(this.$store.getters.edges).filter(e => e.data.type == \"above\")\r\n                .concat(this.$store.getters.phases)\r\n                .concat(this.$store.getters.groups)\r\n                .concat(this.$store.getters.subgroups)\r\n                .concat(this.$store.getters.contexts)\r\n                //.concat(this.$store.getters.finds)    // don't display on graph\r\n                //.concat(this.$store.getters.samples)  // don't display on graph\r\n                \r\n        }*/                   \r\n    },\r\n    /*watch: {\r\n        elements: async function () {\r\n            const cyi = (this.$refs.cy || {}).instance\r\n            this.redoLayout(cyi)            \r\n        }\r\n    },*/\r\n\tmethods: {\r\n        preConfig(cytoscape) {\r\n            cytoscape.use(dagre) \r\n            cytoscape.use(gridGuide) // gridGuide(cytoscape)\r\n            cytoscape.use(cyCanvas)\r\n            //cytoscape.use(Layers)\r\n\r\n        },\r\n\r\n        // notify store that a node has been selected in the diagram\r\n        nodeSelected(event, node){\r\n            this.$store.dispatch('setSelectedID', node.data.id)\r\n        },\r\n         \r\n        afterCreated(cytoscape) {\r\n            \r\n            cytoscape.gridGuide({\r\n                // On/Off Modules\r\n                /* From the following four snap options, at most one should be true at a given time */\r\n                snapToGridOnRelease: false, // Snap to grid on release\r\n                snapToGridDuringDrag: true, // Snap to grid during drag\r\n                snapToAlignmentLocationOnRelease: false, // Snap to alignment location on release\r\n                snapToAlignmentLocationDuringDrag: false, // Snap to alignment location during drag\r\n                distributionGuidelines: true, // Distribution guidelines\r\n                geometricGuideline: true, // Geometric guidelines\r\n                initPosAlignment: false, // Guideline to initial mouse position\r\n                centerToEdgeAlignment: false, // Center to edge alignment\r\n                resize: false, // Adjust node sizes to cell sizes\r\n                parentPadding: false, // Adjust parent sizes to cell sizes by padding\r\n                drawGrid: true, // Draw grid background\r\n            \r\n                // General\r\n                gridSpacing: this.gridSize, // Distance between the lines of the grid.\r\n                snapToGridCenter: true, // Snaps nodes to center of gridlines. When false, snaps to gridlines themselves. Note that either snapToGridOnRelease or snapToGridDuringDrag must be true.\r\n            \r\n                // Draw Grid\r\n                zoomDash: true, // Determines whether the size of the dashes should change when the drawing is zoomed in and out if grid is drawn.\r\n                panGrid: true, // Determines whether the grid should move then the user moves the graph if grid is drawn.\r\n                gridStackOrder: 0, // Namely z-index\r\n                gridColor: '#dedede', // Color of grid lines\r\n                lineWidth: 1.0, // Width of grid lines\r\n            \r\n                // Guidelines\r\n                guidelinesStackOrder: 4, // z-index of guidelines\r\n                guidelinesTolerance: 2.00, // Tolerance distance for rendered positions of nodes' interaction.\r\n                guidelinesStyle: { // Set ctx properties of line. Properties are here:\r\n                    strokeStyle: \"#8b7d6b\", // color of geometric guidelines\r\n                    geometricGuidelineRange: 400, // range of geometric guidelines\r\n                    range: 100, // max range of distribution guidelines\r\n                    minDistRange: 10, // min range for distribution guidelines\r\n                    distGuidelineOffset: 10, // shift amount of distribution guidelines\r\n                    horizontalDistColor: \"#ff0000\", // color of horizontal distribution alignment\r\n                    verticalDistColor: \"#00ff00\", // color of vertical distribution alignment\r\n                    initPosAlignmentColor: \"#0000ff\", // color of alignment to initial mouse location\r\n                    lineDash: [0, 0], // line style of geometric guidelines\r\n                    horizontalDistLine: [0, 0], // line style of horizontal distribution guidelines\r\n                    verticalDistLine: [0, 0], // line style of vertical distribution guidelines\r\n                    initPosAlignmentLine: [0, 0], // line style of alignment to initial mouse position\r\n                },\r\n            \r\n                // Parent Padding\r\n                parentSpacing: -1 // -1 to set paddings of parents to gridSpacing\r\n            })\r\n            \r\n            //this.drawPhases(cytoscape)\r\n        },\r\n\r\n        // draw phases separately\r\n       // drawPhases(cyi) {\r\n            //const cyi = (this.$refs.cy || {}).instance || null      \r\n            //if(!cyi) return\r\n            /*const layers = cyi.layers()\r\n            layers.nodeLayer.insertAfter('html-static').node.innerHTML = 'Static Test Label'\r\n            layers.renderPerNode(layers.append('canvas'), (ctx, node, bb) => {\r\n                if(node._private.data.class == 'phase') {\r\n                    ctx.strokeStyle = 'red';\r\n                    ctx.lineWidth = 3;\r\n                    ctx.strokeRect(0, 0, 600, bb.h);\r\n                }\r\n            });  */\r\n\r\n        //},\r\n        \r\n        // export visible part of diagram to PNG file\r\n        exportPartPNG(cyi) { this.exportPNG(cyi, false) },\r\n\r\n        // export entire diagram to PNG file\r\n        exportFullPNG(cyi) { this.exportPNG(cyi, true) },\r\n\r\n        // export diagram to PNG file\r\n        exportPNG(cyi, full=false) {\r\n            if(!cyi) return\r\n            const png64 = cyi.png({full: full, output: 'blob'});            \r\n            const fileName = `phaser-${ moment().format(\"YYYYMMDDHHmmss\") }.png`\r\n            \r\n            let blob = new Blob([png64], { type: 'image/png' })\r\n            if (navigator.msSaveBlob) { // IE 10+\r\n                navigator.msSaveBlob(blob, fileName)\r\n            } else {\r\n                let link = document.createElement('a')\r\n                if (link.download !== undefined) { // feature detection\r\n                    // Browsers that support HTML5 download attribute\r\n                    let url = URL.createObjectURL(blob)\r\n                    link.setAttribute('href', url)\r\n                    link.setAttribute('download', fileName)\r\n                    link.style.visibility = 'hidden'\r\n                    document.body.appendChild(link)\r\n                    link.click()\r\n                    document.body.removeChild(link)\r\n                }\r\n            }\r\n        },\r\n\r\n        clear(cyi) {\r\n            cyi.zoom(1)\r\n            cyi.pan({x: 0, y: 0})\r\n        },\r\n\r\n        // zoom diagram\r\n        zoomIn(cyi) { this.zoomMe(cyi, 1.25) },\r\n        zoomOut(cyi) { this.zoomMe(cyi, 0.75) },\r\n        zoomMe(cyi, zoomBy=1) {\r\n            if(!cyi) return\r\n            cyi.zoom({\r\n                level: cyi.zoom() * zoomBy,\r\n                position: {\r\n                    x: Math.round((cyi.extent().x1 + cyi.extent().x2) / 2),\r\n                    y: Math.round((cyi.extent().y1 + cyi.extent().y2) / 2),\r\n                }\r\n            })\r\n        },\r\n\r\n        zoomFit(cyi) {\r\n            if(!cyi) return            \r\n            cyi.fit()\r\n        },\r\n\r\n        redoLayout(cyi) {\r\n            if(!cyi) return\r\n            this.clear(cyi)\r\n            cyi.layout(this.config.layout).run() \r\n            //this.drawPhases(cyi)\r\n        },\r\n        layoutStop() {\r\n            // update node x,y positions within store following auto-layout, as\r\n            // cytoscape-vue \"sync\" doesn't do it? (only syncs manual positions)\r\n            const cyi = (this.$refs.cy || {}).instance || null\r\n            if(!cyi) return\r\n            \r\n            cyi.elements(\"node\").forEach(node => { \r\n                this.$store.dispatch('updateNode', { \r\n                    data: node.data(), \r\n                    position: node.position() \r\n                })\r\n            })\r\n        }\r\n    },\r\n\r\n\t// lifecycle hooks\r\n    beforeCreate() {},\r\n    created() {},   \r\n    afterCreated() {\r\n        // if(this.cyi) this.cyi.layout.run()\r\n    }, \r\n\tbeforeMount() {},\r\n\tmounted() {\r\n        let self = this  \r\n        const cyi = (this.$refs.cy || {}).instance || null      \r\n        if(!cyi) return\r\n                \r\n        // cytoscape diagram event handlers\r\n        cyi.on('click tap', 'node', function(evt) {\r\n            self.selectedElementID = evt.target.id() \r\n            //document.querySelector(\"#cytoscape-div > canvas:nth-child(2)\").style.zIndex = \"0\"           \r\n        })\r\n\r\n        // drawing phases on supplementary layer\r\n        var layer = cyi.cyCanvas();\r\n        var canvas = layer.getCanvas();\r\n        var ctx = canvas.getContext('2d');\r\n        cyi.on(\"render cyCanvas.resize pan\", function() {\r\n            \r\n            layer.resetTransform(ctx);\r\n            layer.clear(ctx)\r\n\r\n            // Draw fixed elements\r\n            //ctx.fillRect(0, 0, 100, 100); // Top left corner\r\n\r\n            layer.setTransform(ctx);\r\n\r\n            // Draw phase elements relative to cy nodes\r\n            let extent = cyi.extent()            \r\n            cyi.nodes('[class = \"phase\"]')\r\n                //.filter(node => node.data.class == \"phase\")\r\n                .forEach(function(node) {\r\n                    let dims = node.layoutDimensions()\r\n                    let x = extent.x1\r\n                    let y = node.position().y - (dims.h/2)\r\n                    let w = extent.w\r\n                    let h = dims.h\r\n                   \r\n                    // draw phase outline (dashed red)\r\n                    ctx.strokeStyle = \"red\"\r\n                    ctx.setLineDash([5,5]);\r\n                    ctx.strokeRect(x, y, w, h);  \r\n                    \r\n                     // draw phase fill\r\n                    ctx.globalAlpha = 0.2;\r\n                    ctx.fillStyle = \"ivory\";\r\n                    ctx.fillRect(x,y, w,h)\r\n                    ctx.globalAlpha = 1.0;\r\n            });\r\n        });\r\n\r\n\r\n        // override height setting on cytoscape-vue div, else always 600px!\r\n        // see https://github.com/rcarcasses/vue-cytoscape/issues/47\r\n        document.getElementById(\"cytoscape-div\").style.minHeight=\"900px\" \r\n                \r\n        // event bus message handlers (events fired from menu bar)\r\n        self.$root.$on(\"diagramClear\", () => self.clear(cyi))\r\n        self.$root.$on(\"diagramZoomIn\", () => self.zoomIn(cyi))\r\n        self.$root.$on(\"diagramZoomOut\", () => self.zoomOut(cyi))\r\n        self.$root.$on(\"diagramZoomFit\", () => self.zoomFit(cyi))\r\n        self.$root.$on(\"diagramRedoLayout\", () => self.redoLayout(cyi))        \r\n        self.$root.$on(\"diagramExportPartPNG\", () => self.exportPartPNG(cyi))\r\n        self.$root.$on(\"diagramExportFullPNG\", () => self.exportFullPNG(cyi))\r\n\r\n        // ensure parent change is updated on diagram (grouping)\r\n        // cytoscape data.parent is immutable so must call 'move'\r\n        self.$root.$on(\"nodeParentChanged\", (node) => {\r\n            let eles = cyi.elements(`[id = \"${node.data.id}\"]`)\r\n            if(node.data.parent !== \"\")\r\n                eles.move({ parent: node.data.parent }) \r\n            else    // removing from group\r\n                eles.move({ parent: null })\r\n        })\r\n    },\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {\r\n        // ckear event listeners to avoid memory leaks. See:\r\n        // https://blog.usejournal.com/vue-js-best-practices-c5da8d7af48d\r\n        //self.$root.$off()\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    #diagram2 { position: absolute; }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixDiagramCY.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixDiagramCY.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MatrixDiagramCY.vue?vue&type=template&id=1b578e62&scoped=true&\"\nimport script from \"./MatrixDiagramCY.vue?vue&type=script&lang=js&\"\nexport * from \"./MatrixDiagramCY.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MatrixDiagramCY.vue?vue&type=style&index=0&id=1b578e62&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b578e62\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <!--<MatrixDiagramJointJS/>-->\r\n    <MatrixDiagramCY/>    \r\n</template>\r\n\r\n<script>\r\n\r\n//import MatrixDiagramJointJS from '@/components/MatrixDiagramJointJS.vue' \r\nimport MatrixDiagramCY from '@/components/MatrixDiagramCY.vue' \r\n\r\nexport default { \r\n    name: 'LayoutContent',\r\n    components: { \r\n        //MatrixDiagramJointJS, \r\n        MatrixDiagramCY\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayoutContent.vue?vue&type=template&id=13111654&scoped=true&\"\nimport script from \"./LayoutContent.vue?vue&type=script&lang=js&\"\nexport * from \"./LayoutContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13111654\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ItemEditors')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-tabs',{staticClass:\"my-1\",model:{value:(_vm.tabIndex),callback:function ($$v) {_vm.tabIndex=$$v},expression:\"tabIndex\"}},_vm._l((_vm.nodeClasses),function(nc){return _c('b-tab',{key:nc,staticClass:\"my-2\",scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.capitalize(nc))+_vm._s(nc !== \"dating\" ? \"s\" : \"\"))]),_c('b-badge',{staticClass:\"border secondary pb-1 m-0 ml-2\",attrs:{\"pill\":\"\",\"variant\":\"outline\"}},[_c('span',[_vm._v(_vm._s(_vm.itemCount(nc)))])])]},proxy:true}],null,true)},[_c('ItemEditor',{attrs:{\"itemClass\":nc}})],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-2\"},[_c('ItemTable',{staticClass:\"mb-2\",attrs:{\"itemClass\":_vm.itemClass},on:{\"itemSelected\":_vm.itemSelected,\"itemDeleted\":_vm.itemDeleted}}),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('label'))?_c('b-form-group',{attrs:{\"label\":\"Identifier\",\"label-for\":\"itemLabel\"}},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"text\":\"\",\"disabled\":_vm.disabled,\"placeholder\":(\"\" + _vm.itemClass),\"type\":\"text\",\"name\":\"itemLabel\"},on:{\"change\":_vm.labelChanged},model:{value:(((_vm.selectedItem || {}).data || {}).label),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"label\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"((selectedItem || {}).data || {}).label\"}})],1):_vm._e()],1),_c('b-col',[(_vm.fields.includes('type'))?_c('ItemLookup',{attrs:{\"label\":\"Type\",\"mode\":\"input\",\"disabled\":_vm.disabled,\"placeholder\":(_vm.itemClass + \" type\"),\"options\":_vm.typeLookupOptions},on:{\"change\":_vm.typeChanged},model:{value:(((_vm.selectedItem || {}).data || {}).type),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"type\", $$v)},expression:\"((selectedItem || {}).data || {}).type\"}}):_vm._e()],1)],1),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('parent'))?_c('ItemLookup',{staticClass:\"shadow-sm\",attrs:{\"label\":\"Within\",\"disabled\":_vm.disabled,\"placeholder\":(_vm.itemClass + \" parent\"),\"options\":_vm.parentLookupOptions},on:{\"change\":_vm.parentChanged},model:{value:(((_vm.selectedItem || {}).data || {}).parent),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"parent\", $$v)},expression:\"((selectedItem || {}).data || {}).parent\"}}):_vm._e()],1),_c('b-col')],1),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('description'))?_c('b-form-group',{attrs:{\"label\":\"Description\",\"label-for\":\"itemDescription\"}},[_c('b-form-textarea',{staticClass:\"shadow-sm\",attrs:{\"disabled\":_vm.disabled,\"placeholder\":(_vm.itemClass + \" description\"),\"rows\":\"2\",\"max-rows\":\"2\",\"name\":\"itemDescription\"},on:{\"change\":_vm.descriptionChanged},model:{value:(((_vm.selectedItem || {}).data || {}).description),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"description\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"((selectedItem || {}).data || {}).description\"}})],1):_vm._e()],1)],1),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('dating'))?_c('Dating',{attrs:{\"disabled\":_vm.disabled,\"dating\":((_vm.selectedItem || {}).data || {}).dating},on:{\"change\":_vm.datingChanged}}):_vm._e()],1)],1),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('included'))?_c('b-form-checkbox',{attrs:{\"disabled\":_vm.disabled,\"value\":true,\"unchecked-value\":false,\"name\":\"check-button\",\"switch\":\"\"},on:{\"change\":_vm.includeChanged},model:{value:(((_vm.selectedItem || {}).data || {}).included),callback:function ($$v) {_vm.$set(((_vm.selectedItem || {}).data || {}), \"included\", $$v)},expression:\"((selectedItem || {}).data || {}).included\"}},[_vm._v(\"Included in calculations\")]):_vm._e()],1)],1),_c('b-form-row',[_c('b-col',[(_vm.fields.includes('stratigraphy'))?_c('Stratigraphy',{attrs:{\"sourceID\":((_vm.selectedItem || {}).data || {}).id,\"disabled\":_vm.disabled}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const NodeClass = Object.freeze({\r\n    PHASE: \"phase\",\t\r\n    GROUP: \"group\",\r\n    SUBGROUP: \"subgroup\",\r\n    CONTEXT: \"context\",\r\n    //FIND: \"find\",\r\n    //SAMPLE: \"sample\",\r\n    DATING: \"dating\"\r\n})","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"p-0\",attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',[_c('b-button',{staticClass:\"text-left shadow\",attrs:{\"pill\":\"\",\"size\":\"sm\",\"variant\":\"outline-primary\",\"title\":(\"add \" + _vm.itemClass),\"alt\":(\"add \" + _vm.itemClass)},on:{\"click\":function($event){$event.stopPropagation();return _vm.createItem()}}},[_c('b-icon-plus'),_vm._v(\"Add \"+_vm._s(_vm.itemClass))],1)],1),_c('b-col',[_c('b-form-group',{staticClass:\"mb-2\",attrs:{\"label\":\"Filter\",\"label-for\":\"filter-input\",\"label-cols-sm\":\"3\",\"label-align-sm\":\"right\",\"label-size\":\"sm\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('b-icon-search')]},proxy:true}])},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"size\":\"md\",\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":(\"filter \" + _vm.itemClass + \"s\")},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}})],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-table',{staticClass:\"overflow-auto shadow-sm\",staticStyle:{\"height\":\"250px\"},attrs:{\"show-empty\":\"\",\"id\":\"datatable\",\"sort-icon-left\":\"\",\"hover\":\"\",\"outlined\":\"\",\"selectable\":\"\",\"small\":\"\",\"no-border-collapse\":false,\"sticky-header\":\"300px\",\"select-mode\":\"single\",\"primary-key\":\"id\",\"items\":_vm.items,\"fields\":_vm.fields,\"filter\":_vm.filter},on:{\"row-selected\":_vm.rowSelected},scopedSlots:_vm._u([{key:\"cell(actions)\",fn:function(row){return [_c('div',{staticClass:\"text-right\"},[_c('b-icon-x-circle',{staticClass:\"action mr-2\",attrs:{\"width\":\"15\",\"height\":\"15\",\"title\":(\"delete \" + _vm.itemClass + \" \" + (row.item.data.label)),\"alt\":(\"delete \" + _vm.itemClass)},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteItem(row.item)}}})],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-container fluid class=\"p-0\">\r\n\t\t<b-row>\t\t\t\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-button pill\r\n\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\tvariant=\"outline-primary\"\r\n\t\t\t\t\tclass=\"text-left shadow\" \r\n\t\t\t\t\t:title=\"`add ${itemClass}`\" \r\n\t\t\t\t\t:alt=\"`add ${itemClass}`\"\t\t\t\r\n\t\t\t\t\t@click.stop=\"createItem()\">\r\n\t\t\t\t\t<b-icon-plus />Add {{ itemClass }}</b-button>\r\n\t\t\t\t</b-col>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-group\r\n\t\t\t\t\tlabel=\"Filter\"\r\n\t\t\t\t\tlabel-for=\"filter-input\"\r\n\t\t\t\t\tlabel-cols-sm=\"3\"\r\n\t\t\t\t\tlabel-align-sm=\"right\"\r\n\t\t\t\t\tlabel-size=\"sm\"\r\n\t\t\t\t\tclass=\"mb-2\">\r\n\t\t\t\t\t<template v-slot:label>\r\n\t\t\t\t\t\t<b-icon-search />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<b-form-input \r\n\t\t\t\t\t\tsize=\"md\"\r\n\t\t\t\t\t\tid=\"filter-input\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t\tv-model=\"filter\"\r\n\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\t:placeholder=\"`filter ${itemClass}s`\"/>\t\t\t\t\t\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\r\n\t\t</b-row>\r\n\t\t<b-row>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-table show-empty style=\"height: 250px;\"\r\n\t\t\t\t\tid=\"datatable\"\r\n\t\t\t\t\tsort-icon-left\r\n\t\t\t\t\thover outlined selectable small \r\n\t\t\t\t\t:no-border-collapse=\"false\"\r\n\t\t\t\t\tsticky-header=\"300px\" \r\n\t\t\t\t\tselect-mode=\"single\"\r\n\t\t\t\t\tprimary-key=\"id\"\r\n\t\t\t\t\t:items=\"items\" \r\n\t\t\t\t\t:fields=\"fields\"\r\n\t\t\t\t\t:filter=\"filter\"\t\t\t\t\t\t\r\n\t\t\t\t\tclass=\"overflow-auto shadow-sm\"\r\n\t\t\t\t\t@row-selected=\"rowSelected\">\r\n\t\t\t\t\t<template #cell(actions)=\"row\">\r\n\t\t\t\t\t\t<div class=\"text-right\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<b-icon-x-circle width=\"15\" height=\"15\"\r\n\t\t\t\t\t\t\t\tclass=\"action mr-2\" \r\n\t\t\t\t\t\t\t\t:title=\"`delete ${itemClass} ${row.item.data.label}`\" \r\n\t\t\t\t\t\t\t\t:alt=\"`delete ${itemClass}`\"\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t@click.stop=\"deleteItem(row.item)\"/>\t\t\r\n\t\t\t\t\t\t</div>\t\t\t\t\r\n\t\t\t\t\t</template>\t\t\t\t\t\r\n\t\t\t\t</b-table>\r\n\t\t\t\t<!--<div class=\"text-right\">\r\n\t\t\t\t\t<b-icon-plus-circle\r\n\t\t\t\t\t\tclass=\"action mr-2\" \r\n\t\t\t\t\t\t:title=\"`add ${itemClass}`\" \r\n\t\t\t\t\t\t:alt=\"`add ${itemClass}`\"\t\t\t\r\n\t\t\t\t\t\t@click.stop=\"createItem()\"/>\t\t\t\r\n\t\t\t\t</div>-->\r\n\t\t\t</b-col>\r\n\t\t</b-row>\r\n\t</b-container>\r\n\t\r\n</template>\r\n\r\n<script>\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\nimport {NodeClass} from '@/mixins/constants.js'\r\n\r\nexport default {\r\n\tname: 'ItemTable',\r\n\tcomponents: {},\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: {\t\t\r\n\t\titemClass: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: NodeClass.PHASE,\r\n\t\t\tvalidator: value => Object.values(NodeClass).includes(value)\r\n\t\t}\r\n\t},\r\n\tdata() { \r\n\t\treturn {\t\t\t\r\n\t\t\tfilter: \"\",\r\n\t\t\tselectedID: \"\",\r\n\t\t\tfields: [\t\t\t\t\r\n\t\t\t\t/*{\r\n\t\t\t\t\tkey: \"data.id\",\r\n\t\t\t\t\tlabel: \"id\",\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n\t\t\t\t},*/\r\n\t\t\t\t// displaying label as if identifier\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"data.label\",\r\n\t\t\t\t\tlabel: \"id\",\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t... (this.itemClass == NodeClass.PHASE) ? [] : [{\r\n\t\t\t\t\tkey: \"data.type\",\r\n\t\t\t\t\tlabel: \"type\",\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n\t\t\t\t}],   \r\n\t\t\t\t... (this.itemClass == NodeClass.PHASE) ? [] : [{\r\n\t\t\t\t\tkey: \"data.parent\",\r\n\t\t\t\t\tlabel: \"within\",\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.tableParentFormatter,\r\n\t\t\t\t\tsortable: true\t\t\t\t\t\r\n                }],                \r\n\t\t\t\t... (this.itemClass == NodeClass.PHASE || this.itemClass == NodeClass.DATING) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'minyear',\r\n\t\t\t\t\tlabel: 'entered min year',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.tableMinYearFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\r\n\t\t\t\t\t}] : [],\r\n\t\t\t\t... (this.itemClass == NodeClass.PHASE || this.itemClass == NodeClass.DATING) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'maxyear',\r\n\t\t\t\t\tlabel: 'entered max year',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.tableMaxYearFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\r\n\t\t\t\t\t}] : [],\r\n\t\t\t\t... (this.itemClass != NodeClass.DATING) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'derivedminyear',\r\n\t\t\t\t\tlabel: 'derived min year',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.derivedMinYearFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\r\n\t\t\t\t\t}] : [],\r\n\t\t\t\t... (this.itemClass != NodeClass.DATING) ? [{\r\n\t\t\t\t\t// virtual column with custom formatter\r\n\t\t\t\t\tkey: 'derivedmaxyear',\r\n\t\t\t\t\tlabel: 'derived max year',\r\n\t\t\t\t\tsortByFormatted: true,\r\n\t\t\t\t\tformatter: this.derivedMaxYearFormatter,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tclass: \"text-right\"\r\n\t\t\t\t\t}] : [],\r\n\t\t\t\t... (this.itemClass == NodeClass.DATING) ? [{\r\n\t\t\t\t\t\tkey: \"data.included\",\r\n\t\t\t\t\t\tlabel: \"included\",\t\r\n\t\t\t\t\t\tformatter: value => value ? \"✓\" : \"✗\",\t\t\t\t\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\tclass: \"text-center\"\t\t\t\t\r\n\t\t\t\t\t}] : [],     \r\n\t\t\t\t/*{\r\n\t\t\t\t\tkey: \"data.dating.minYear\",\r\n\t\t\t\t\tlabel: \"min year\",\r\n\t\t\t\t\tsortable: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: \"data.dating.maxYear\",\r\n\t\t\t\t\tlabel: \"max year\",\r\n\t\t\t\t\tsortable: true\r\n\t\t\t\t},*/\r\n\t\t\t\t{ \t\r\n\t\t\t\t\tkey: \"actions\", \r\n\t\t\t\t\tlabel: \"\"\r\n\t\t\t\t}\r\n\t\t\t]\t\t\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\titems() {\r\n\t\t\tswitch(this.itemClass) {\r\n\t\t\t\tcase NodeClass.PHASE:\r\n\t\t\t\t\treturn this.$store.getters.phases\r\n\t\t\t\tcase NodeClass.GROUP:\r\n\t\t\t\t\treturn this.$store.getters.groups\r\n\t\t\t\tcase NodeClass.SUBGROUP:\r\n\t\t\t\t\treturn this.$store.getters.subgroups\r\n\t\t\t\tcase NodeClass.CONTEXT:\r\n\t\t\t\t\treturn this.$store.getters.contexts\r\n\t\t\t\tcase NodeClass.FIND:\r\n\t\t\t\t\treturn this.$store.getters.finds\r\n\t\t\t\tcase NodeClass.SAMPLE:\r\n\t\t\t\t\treturn this.$store.getters.samples\r\n\t\t\t\tcase NodeClass.DATING:\r\n\t\t\t\t\treturn this.$store.getters.datings\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t},\t\t\t\r\n\t\t//totalRows() { return this.items.length }\r\n\t},\r\n\tmounted() {},\r\n\tmethods: {\t\t\t\t\r\n\t\tcreateItem() {\r\n\t\t\tlet self = this\r\n\t\t\tswitch(self.itemClass) {\r\n\t\t\t\tcase NodeClass.PHASE: \r\n\t\t\t\t\tself.$store.dispatch('createPhase'); break;\r\n\t\t\t\tcase NodeClass.GROUP: \r\n\t\t\t\t\tself.$store.dispatch('createGroup'); break;\r\n\t\t\t\tcase NodeClass.SUBGROUP: \r\n\t\t\t\t\tself.$store.dispatch('createSubGroup'); break;\r\n\t\t\t\tcase NodeClass.CONTEXT: \r\n\t\t\t\t\tself.$store.dispatch('createContext'); break;\r\n\t\t\t\tcase NodeClass.FIND: \r\n\t\t\t\t\tself.$store.dispatch('createFind'); break;\r\n\t\t\t\tcase NodeClass.SAMPLE: \r\n\t\t\t\t\tself.$store.dispatch('createSample'); break;\r\n\t\t\t\tcase NodeClass.DATING: \r\n\t\t\t\t\tself.$store.dispatch('createDating'); break;\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tupdateItem(item) {\r\n\t\t\tif(item) this.$store.dispatch('updateNode', item)\r\n\r\n\t\t},\r\n\t\t\t\r\n\t\tdeleteItem(item) {\r\n\t\t\tlet self = this\r\n\t\t\tself.$bvModal.msgBoxConfirm(`Delete ${ this.itemClass } \"${item.data.label}\" - are you sure?`)\r\n\t\t\t\t.then(value => { \r\n\t\t\t\t\tif(value) { \r\n\t\t\t\t\t\tthis.$emit('itemDeleted', item.data.id)\r\n\t\t\t\t\t\tself.$store.dispatch('deleteNode', item) \r\n\t\t\t\t\t}\r\n\t\t\t\t})\t\t\r\n\t\t},\r\n\t\t\r\n\t\t/*selectItem(item) {\r\n\t\t\tthis.selectedID = item.data.id\r\n\t\t},*/\r\n\t\t\r\n\t\trowSelected(items) {\r\n\t\t\tif(items.length > 0) {\r\n\t\t\t\tthis.$emit('itemSelected', items[0])\t\t\t\t\r\n\t\t\t}\t\r\n\t\t},\r\n\t\t// display node parent as label not id\r\n\t\ttableParentFormatter(value, key, item) {\r\n\t\t\treturn(this.$store.getters.nodeLabel(item.data.parent))\r\n\t\t},\t\r\n\t\ttableMinYearFormatter(value, key, item) {\r\n\t\t\tlet dating = item.data.dating\r\n            let year = dating.minYear\r\n            let tolv = dating.minYearTolValue \t\t\t\t\t\t\r\n            let tolu = dating.minYearTolUnit\r\n            return this.tableYearFormat(year, tolv, tolu)\r\n        },\r\n        tableMaxYearFormatter(value, key, item) {\r\n\t\t\tlet dating = item.data.dating\r\n            let year = dating.maxYear\r\n            let tolv = dating.maxYearTolValue \t\t\t\t\t\t\r\n            let tolu = dating.maxYearTolUnit\r\n            return this.tableYearFormat(year, tolv, tolu)\r\n        },\r\n        tableYearFormat(year, tolv, tolu) {\r\n            if(year == null || year == \"\")\r\n\t\t\t\treturn \"\"\r\n\t\t\telse if(tolv == 0)\r\n\t\t\t\treturn `${year}`\r\n\t\t\telse\r\n\t\t\t\treturn `${year}±${tolv}${tolu == \"years\" ? \"y\" : \"%\"}`\r\n        },\r\n\t\tderivedMinYearFormatter(value, key, item) { \r\n\t\t\treturn this.$store.getters.derivedDates(item.data.id).minYear \r\n\t\t},\r\n\t\tderivedMaxYearFormatter(value, key, item) { \r\n\t\t\treturn this.$store.getters.derivedDates(item.data.id).maxYear \r\n\t\t},\r\n\t}\r\n} \r\n</script>\r\n<style scoped>\r\n.action { \r\n\tcursor: pointer;\r\n\tcolor:dodgerblue;\r\n}\r\n.action:hover {\r\n\tcolor:red;\r\n}\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemTable.vue?vue&type=template&id=92b7d072&scoped=true&\"\nimport script from \"./ItemTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemTable.vue?vue&type=style&index=0&id=92b7d072&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92b7d072\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.mode == 'select')?_c('b-form-group',{attrs:{\"label\":this.label,\"label-for\":\"itemSelector\"}},[_c('b-form-select',{staticClass:\"shadow-sm\",attrs:{\"disabled\":this.disabled,\"name\":\"itemSelector\",\"placeholder\":_vm.placeholder,\"value\":_vm.value,\"options\":_vm.optionsForSelect},on:{\"change\":function($event){return _vm.changed($event)}}})],1):_c('b-form-group',{attrs:{\"label\":this.label,\"label-for\":\"itemInput\"}},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"text\":\"\",\"disabled\":this.disabled,\"name\":\"itemInput\",\"placeholder\":_vm.placeholder,\"value\":_vm.value,\"type\":\"text\",\"list\":_vm.optionsId,\"autocomplete\":\"off\"},on:{\"change\":function($event){return _vm.changed($event)}}}),_c('b-form-datalist',{attrs:{\"id\":_vm.optionsId,\"options\":_vm.optionsForInput}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <b-form-group v-if=\"mode == 'select'\"\r\n            :label=\"this.label\"\r\n            label-for=\"itemSelector\">\r\n            <b-form-select \r\n                :disabled=\"this.disabled\"\r\n                name=\"itemSelector\" \r\n                class=\"shadow-sm\"                \r\n                :placeholder=\"placeholder\"\r\n                :value=\"value\"\r\n                :options=\"optionsForSelect\" \r\n                @change=\"changed($event)\"/>\r\n        </b-form-group>\t\r\n        <b-form-group v-else  \r\n            :label=\"this.label\"\r\n            label-for=\"itemInput\">\r\n            <b-form-input text\r\n                :disabled=\"this.disabled\"\r\n\t\t\t\tname=\"itemInput\" \r\n                class=\"shadow-sm\" \r\n                :placeholder=\"placeholder\"\r\n                :value=\"value\"\r\n\t\t\t\ttype=\"text\" \r\n\t\t\t\t:list=\"optionsId\" \r\n\t\t\t\tautocomplete=\"off\"\r\n                @change=\"changed($event)\"/>\r\n\t\t\t<b-form-datalist :id=\"optionsId\" :options=\"optionsForInput\"/>\r\n\t\t\t<!--\t<option v-for=\"(value, index) in optionsForInput\" :key=\"index\">{{ value }}</option>\r\n\t\t\t</b-form-datalist>-->\r\n\t\t</b-form-group>       \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport _uniqueId  from 'lodash/uniqueId'\r\n\r\nexport default {\r\n\tname: 'ItemLookup',\r\n\tcomponents: { },\r\n\tmixins: [ ],\r\n\tprops: {\r\n        // enables/disables the composite control\r\n        disabled: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: false\r\n        },  \r\n        // label for the composite control      \r\n        label: {\r\n            type: String, \r\n            required: false,\r\n            default: \"Select item\"\r\n        },\r\n        // text to display if nothing is input\r\n        placeholder: {\r\n            type: String, \r\n            required: false,\r\n            default: \"\"\r\n        },\r\n        value: {\r\n            type: String\r\n        },\r\n        // Adds option '(none)' to the lookup options if true\r\n        optionNone: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: true\r\n        },\r\n        // whether to display as select with options or input with suggestions\r\n        mode: {\r\n            type: String, // \"select | \"input\"\r\n            required: false,\r\n            default: \"select\",\r\n            validator: value => [\"select\", \"input\"].includes(value)   \r\n        },\r\n        // options to display\r\n\t\toptions: { \r\n\t\t\ttype: Array, // expected format: [{id: \"x\", label: \"xx\"}, {id: \"y\", label: \"yy\"}]\r\n\t\t\trequired: false,\r\n\t\t\tdefault: () => []\r\n\t\t}\t\t\r\n\t},\r\n\tdata() {\r\n\t\treturn {}\r\n\t},\r\n\tcomputed: {\t\r\n        // unique id for datalist allowing component reuse\r\n        optionsId() {\r\n            return _uniqueId(\"datalist-\")\r\n        },        \r\n        optionsForSelect() {\r\n            return this.options\r\n                .concat(this.optionNone ? [{ value: \"\", text: \"(none)\", selected: true }] : [])                \r\n                .sort((a, b) => (a.text || a.label || \"\").localeCompare(b.text || b.label || \"\"))\r\n        },\r\n\t\toptionsForInput() {\r\n            return this.options\r\n                .map(item => item.text || \"\")\r\n                .filter(item => item)\r\n                .sort((a,b) => a.localeCompare(b))              \r\n        }\r\n\t},\r\n\tmethods: {        \r\n        changed(value){\r\n            this.$emit('change', value)\r\n        }\r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemLookup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemLookup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemLookup.vue?vue&type=template&id=4ea96f50&scoped=true&\"\nimport script from \"./ItemLookup.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemLookup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ea96f50\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-form-group',{attrs:{\"label\":\"Stratigraphy\"}},[_c('b-form-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Source context\"}},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"text\":\"\",\"disabled\":true,\"placeholder\":\"source\",\"type\":\"text\",\"name\":\"itemID\",\"value\":_vm.$store.getters.nodeLabel(_vm.sourceID)}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Relationship\"}},[_c('b-form-select',{staticClass:\"shadow-sm\",attrs:{\"disabled\":this.disabled,\"name\":\"edgeTypeSelector\",\"placeholder\":\"relationship\",\"options\":_vm.edgeTypes.map(function (t) { return { value: t, text: t } })},model:{value:(_vm.selectedEdgeType),callback:function ($$v) {_vm.selectedEdgeType=$$v},expression:\"selectedEdgeType\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Target context\"}},[_c('ItemLookup',{attrs:{\"label\":\"\",\"disabled\":_vm.disabled,\"optionNone\":false,\"options\":_vm.available,\"placeholder\":\"target\"},on:{\"change\":_vm.targetChanged},model:{value:(_vm.selectedTargetID),callback:function ($$v) {_vm.selectedTargetID=$$v},expression:\"selectedTargetID\"}})],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"label\":\".\"}},[_c('b-button',{staticClass:\"text-left shadow\",attrs:{\"pill\":\"\",\"size\":\"sm\",\"disabled\":_vm.disabled || _vm.sourceID == '',\"variant\":\"outline-primary\",\"title\":\"add\",\"alt\":\"add\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addItem($event)}}},[_c('b-icon-plus'),_c('span',[_vm._v(\"Add relationship\")])],1)],1)],1)],1),_c('b-form-row',[_vm._l((_vm.edgeTypes),function(edgeType){return _c('b-col',{key:edgeType,staticClass:\"border\"},[_c('b-form-group',{attrs:{\"label\":_vm.capitalize(edgeType)}},[_c('ul',{staticClass:\"list-inline d-inline-block m-1\",attrs:{\"name\":\"lst\"}},_vm._l((_vm.items(edgeType)),function(item){return _c('li',{key:item.id,staticClass:\"list-inline-item\"},[_c('b-badge',{staticClass:\"bg-white text-dark border border-secondary shadow-sm\",attrs:{\"title\":item.id,\"disabled\":_vm.disabled}},[_c('span',[_vm._v(_vm._s(_vm.$store.getters.nodeLabel(item.data.target)))]),_c('b-icon-x-circle',{staticClass:\"action ml-2\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeItem(item)}}})],1)],1)}),0)])],1)}),_c('b-col')],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n    <b-form-group label=\"Stratigraphy\">\t\t\r\n\t\t<b-form-row>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-group label=\"Source context\">\r\n\t\t\t\t\t<b-form-input text \r\n\t\t\t\t\t\t:disabled=\"true\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\" \r\n\t\t\t\t\t\tplaceholder=\"source\" \r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"itemID\" \r\n\t\t\t\t\t\t:value=\"$store.getters.nodeLabel(sourceID)\"/>\r\n\t\t\t\t\t\t<!--v-model.trim=\"((selectedItem || {}).data || {}).id\"/>-->\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\t\r\n\t\t\t\t<b-form-group label=\"Relationship\">\t\r\n\t\t\t\t\t<b-form-select \r\n\t\t\t\t\t\t:disabled=\"this.disabled\"\r\n\t\t\t\t\t\tname=\"edgeTypeSelector\" \r\n\t\t\t\t\t\tclass=\"shadow-sm\"                \r\n\t\t\t\t\t\tplaceholder=\"relationship\"\r\n\t\t\t\t\t\tv-model=\"selectedEdgeType\"\r\n\t\t\t\t\t\t:options=\"edgeTypes.map(t => { return { value: t, text: t } })\"/>\r\n\t\t\t\t</b-form-group>\t\t\t\t\t\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-group label=\"Target context\">\t\r\n\t\t\t\t\t<ItemLookup\r\n\t\t\t\t\t\tlabel=\"\"\r\n\t\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\t\t:optionNone=\"false\"\t\t\t\t\t\r\n\t\t\t\t\t\t:options=\"available\"\r\n\t\t\t\t\t\tplaceholder=\"target\"\r\n\t\t\t\t\t\tv-model=\"selectedTargetID\"\r\n\t\t\t\t\t\t@change=\"targetChanged\"/>\r\n\t\t\t\t</b-form-group>\t\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\t\r\n\t\t\t\t<b-form-group label=\".\">\t\t\t\r\n\t\t\t\t<b-button pill\r\n\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t:disabled=\"disabled || sourceID == ''\" \r\n\t\t\t\t\tvariant=\"outline-primary\"\r\n\t\t\t\t\tclass=\"text-left shadow\" \r\n\t\t\t\t\ttitle=\"add\" \r\n\t\t\t\t\talt=\"add\"\t\t\t\r\n\t\t\t\t\t@click.stop=\"addItem\">\r\n\t\t\t\t\t<b-icon-plus />\r\n\t\t\t\t\t<span>Add relationship</span>\r\n\t\t\t\t</b-button>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\r\n\t\t</b-form-row>\r\n\t\t<b-form-row>\r\n\t\t\t<b-col v-for=\"edgeType in edgeTypes\" :key=\"edgeType\"  class=\"border\">\r\n\t\t\t\t<b-form-group :label=\"capitalize(edgeType)\">\t\t\t\t\t\r\n\t\t\t\t\t<ul class=\"list-inline d-inline-block m-1\" name=\"lst\">\r\n\t\t\t\t\t\t<li v-for=\"item in items(edgeType)\" :key=\"item.id\" class=\"list-inline-item\">\r\n\t\t\t\t\t\t\t<b-badge\r\n\t\t\t\t\t\t\t\t:title=\"item.id\"\r\n\t\t\t\t\t\t\t\tclass=\"bg-white text-dark border border-secondary shadow-sm\"\r\n\t\t\t\t\t\t\t\t:disabled=\"disabled\">\r\n\t\t\t\t\t\t\t\t<!--<span>{{ $store.getters.nodeByID(item.data.target).data.label || item.data.target }}</span>-->\r\n\t\t\t\t\t\t\t\t<span>{{ $store.getters.nodeLabel(item.data.target) }}</span>\r\n\t\t\t\t\t\t\t\t<b-icon-x-circle class=\"action ml-2\" @click.stop=\"removeItem(item)\"/>\r\n\t\t\t\t\t\t\t</b-badge>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\t\t\t\t\t\r\n\t\t\t\t</b-form-group>\t\t\t\t\r\n\t\t\t</b-col>\r\n\t\t\t<b-col></b-col>\r\n\t\t</b-form-row>\t\t\r\n\t</b-form-group>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\nimport ItemLookup from '@/components/ItemLookup'\r\n\r\nexport default {\r\n\tname: 'Stratigraphy2',\r\n\tcomponents: { ItemLookup },\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: {\r\n\t\tdisabled: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tsourceID: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: \"\"\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tedgeTypes: [\"above\", \"below\", \"equal\"],\r\n\t\t\tselectedTargetID: \"\",\t\r\n\t\t\tselectedEdgeType: \"above\"\t\t\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tstrat() { return this.$store.getters.edgesBySource(this.sourceID) },\r\n\t\tabove() { return this.strat.filter(e => e.data.type == \"above\") },\r\n\t\tbelow() { return this.strat.filter(e => e.data.type == \"below\") },\r\n\t\tequal() { return this.strat.filter(e => e.data.type == \"equal\") },\r\n\t\toptions() { return this.$store.getters.contextOptionsGrouped },\t\r\n\t\tavailable() { \r\n\t\t\t// target IDs for strat relationships. Exclude existing targets or current source ID\r\n\t\t\tconst currentTargets = this.strat.map(item => item.data.target).concat([this.sourceID])\r\n\t\t\tconst currentOptions = this.options.length > 0 ? this.options[0].options || [] : []\t\t\t\r\n\t\t\treturn currentOptions.filter(option => !currentTargets.includes(option.value))\t\t\t\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\titems(edgeType){\r\n\t\t\tswitch(edgeType) {\r\n\t\t\t\tcase \"above\": return this.above\r\n\t\t\t\tcase \"below\": return this.below\r\n\t\t\t\tcase \"equal\": return this.equal\r\n\t\t\t\tdefault: return []\r\n\t\t\t}\r\n\t\t},\r\n\t\taddItem() {\t\t\t\r\n\t\t\tlet edge = { \r\n\t\t\t\tdata: { \r\n\t\t\t\t\tsource: this.sourceID, \r\n\t\t\t\t\ttarget: this.selectedTargetID, \r\n\t\t\t\t\ttype: this.selectedEdgeType \r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t\tthis.$store.dispatch('insertEdge', edge)\t\r\n\t\t},\r\n\t\tremoveItem(item) {\r\n\t\t\tthis.$store.dispatch('deleteEdge', item)\t\t\t\r\n\t\t},\r\n\t\ttargetChanged(value) {\r\n\t\t\tthis.selectedTargetID = value\t\t\t\r\n\t\t}\r\n\t},\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.action { \r\n\tcursor: pointer;\r\n\tcolor:dodgerblue;\r\n}\r\n.action:hover {\r\n\tcolor:red;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stratigraphy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stratigraphy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Stratigraphy.vue?vue&type=template&id=0b31a06c&scoped=true&\"\nimport script from \"./Stratigraphy.vue?vue&type=script&lang=js&\"\nexport * from \"./Stratigraphy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Stratigraphy.vue?vue&type=style&index=0&id=0b31a06c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b31a06c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DatingYearRange',{attrs:{\"disabled\":_vm.disabled,\"dating\":_vm.dating},on:{\"change\":_vm.datingChanged}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{staticClass:\"px-2 shadow-sm\",attrs:{\"label\":\"\"}},[_c('b-form-row',[_c('b-col',[_c('b-form-group',{attrs:{\"valid-feedback\":\"\",\"invalid-feedback\":_vm.minYearInvalid,\"state\":_vm.minYearValidation}},[_c('b-form-group',{staticClass:\"my-2\",attrs:{\"label\":\"Minimum year\",\"label-for\":\"minYearInput\"}},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"number\":\"\",\"disabled\":_vm.disabled,\"placeholder\":\"Minimum year\",\"name\":\"minYearInput\",\"type\":\"number\",\"value\":_vm.local.minYear},on:{\"change\":function($event){return _vm.changed('minYear', $event)}}})],1),(_vm.showTolerances)?_c('b-input-group',{staticClass:\"shadow-sm\",attrs:{\"prepend\":\"±\"}},[_c('b-form-input',{attrs:{\"number\":\"\",\"min\":\"0\",\"disabled\":_vm.disabled,\"placeholder\":\"tolerance\",\"type\":\"number\",\"value\":_vm.local.minYearTolValue},on:{\"change\":function($event){return _vm.changed('minYearTolValue', $event)}}}),_c('b-input-group-append',[_c('b-form-select',{attrs:{\"value\":_vm.local.minYearTolUnit,\"options\":_vm.tolTypes,\"disabled\":_vm.disabled},on:{\"change\":function($event){return _vm.changed('minYearTolUnit', $event)}}})],1)],1):_vm._e()],1)],1),_c('b-col',[_c('b-form-group',{attrs:{\"valid-feedback\":\"\",\"invalid-feedback\":_vm.maxYearInvalid,\"state\":_vm.maxYearValidation}},[_c('b-form-group',{staticClass:\"my-2\",attrs:{\"label\":\"Maximum year\",\"label-for\":\"maxYearInput\"}},[_c('b-form-input',{staticClass:\"shadow-sm\",attrs:{\"number\":\"\",\"disabled\":_vm.disabled,\"placeholder\":\"Maximum year\",\"name\":\"maxYearInput\",\"type\":\"number\",\"value\":_vm.local.maxYear},on:{\"change\":function($event){return _vm.changed('maxYear', $event)}}})],1),(_vm.showTolerances)?_c('b-input-group',{staticClass:\"shadow-sm\",attrs:{\"prepend\":\"±\"}},[_c('b-form-input',{attrs:{\"number\":\"\",\"min\":\"0\",\"disabled\":_vm.disabled,\"placeholder\":\"tolerance\",\"type\":\"number\",\"value\":_vm.local.maxYearTolValue},on:{\"change\":function($event){return _vm.changed('maxYearTolValue', $event)}}}),_c('b-input-group-append',[_c('b-form-select',{attrs:{\"value\":_vm.local.maxYearTolUnit,\"options\":_vm.tolTypes,\"disabled\":_vm.disabled},on:{\"change\":function($event){return _vm.changed('maxYearTolUnit', $event)}}})],1)],1):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-form-group class=\"px-2 shadow-sm\"  label=\"\">\r\n        <b-form-row>             \r\n            <b-col> \r\n                <b-form-group \r\n                    valid-feedback=\"\"\r\n                    :invalid-feedback=\"minYearInvalid\"\r\n                    :state=\"minYearValidation\">            \r\n                    <b-form-group class=\"my-2\"\r\n                        label=\"Minimum year\"\r\n                        label-for=\"minYearInput\">\r\n                        <b-form-input number \r\n                            :disabled=\"disabled\" \r\n                            placeholder=\"Minimum year\"\r\n                            name=\"minYearInput\" \r\n                            class=\"shadow-sm\"\r\n                            type=\"number\" \r\n                            :value=\"local.minYear\" \r\n                            @change=\"changed('minYear', $event)\"/>\r\n                    </b-form-group>\r\n                    <b-input-group v-if=\"showTolerances\" prepend=\"±\" class=\"shadow-sm\">\r\n                        <b-form-input number  \r\n                            min=\"0\"                            \r\n                            :disabled=\"disabled\"\r\n                            placeholder=\"tolerance\"\r\n                            type=\"number\" \r\n                            :value=\"local.minYearTolValue\"\r\n                            @change=\"changed('minYearTolValue', $event)\"/>\r\n                        <b-input-group-append>\r\n                            <b-form-select \r\n                                :value=\"local.minYearTolUnit\"\r\n                                :options=\"tolTypes\" \r\n                                :disabled=\"disabled\" \r\n                                @change=\"changed('minYearTolUnit', $event)\"/>\r\n                        </b-input-group-append>\r\n                    </b-input-group>                \r\n                </b-form-group>\r\n            </b-col> \r\n            <b-col>\r\n                <b-form-group  \r\n                    valid-feedback=\"\"\r\n                    :invalid-feedback=\"maxYearInvalid\"\r\n                    :state=\"maxYearValidation\">\r\n                    <b-form-group class=\"my-2\"\r\n                        label=\"Maximum year\"\r\n                        label-for=\"maxYearInput\">\r\n                        <b-form-input number \r\n                            :disabled=\"disabled\"\r\n                            placeholder=\"Maximum year\" \r\n                            class=\"shadow-sm\"\r\n                            name=\"maxYearInput\" \r\n                            type=\"number\" \r\n                            :value=\"local.maxYear\"\r\n                            @change=\"changed('maxYear', $event)\"/>\r\n                    </b-form-group>\r\n                    <b-input-group v-if=\"showTolerances\" prepend=\"±\" class=\"shadow-sm\" >\r\n                        <b-form-input number \r\n                            min=\"0\"\r\n                            :disabled=\"disabled\"\r\n                            placeholder=\"tolerance\"\r\n                            type=\"number\" \r\n                            :value=\"local.maxYearTolValue\"\r\n                            @change=\"changed('maxYearTolValue', $event)\"/>\r\n                        <b-input-group-append>\r\n                            <b-form-select \r\n                                :value=\"local.maxYearTolUnit\"\r\n                                :options=\"tolTypes\" \r\n                                :disabled=\"disabled\" \r\n                                @change=\"changed('maxYearTolUnit', $event)\"/>\r\n                        </b-input-group-append>\r\n                    </b-input-group>\r\n                </b-form-group>\r\n            </b-col>       \r\n       </b-form-row>         \r\n    </b-form-group>\r\n</template>\r\n\r\n<script>\r\n//import PhaserCommon from '@/mixins/PhaserCommon.js'\r\n//import YearTolerance from '@/components/YearTolerance.vue'\r\n\r\nexport default {\r\n\tname: 'DatingYearRange',\r\n\tcomponents: {\r\n        //YearTolerance\r\n\t},\r\n\tmixins: [ ],\r\n\tprops: { \r\n        disabled: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: false\r\n        },       \r\n        dating: {\r\n            type: Object,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: null\r\n        },\r\n        showTolerances: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: true\r\n        }\t\t\r\n    },    \r\n\tdata() {\r\n\t\treturn {\r\n            tolTypes: [{ value: 'percent', text: '%' }, { value: 'years', text: 'years' }]            \r\n\t\t}\r\n\t},\r\n\tcomputed: { \r\n        local() {\r\n            return {\r\n                minYear: Number((this.dating || {}).minYear),  \r\n                maxYear: Number((this.dating || {}).maxYear),  \r\n                minYearTolValue: Number((this.dating || {}).minYearTolValue),  \r\n                maxYearTolValue: Number((this.dating || {}).maxYearTolValue),  \r\n                minYearTolUnit: (this.dating || {}).minYearTolUnit || \"years\",\r\n                maxYearTolUnit: (this.dating || {}).maxYearTolUnit || \"years\"\r\n            }\r\n        },               \r\n        currentYear() {\r\n            return new Date().getFullYear()\r\n        },\r\n        minYearValidation() {\r\n            return (!Number.isNaN(Number(this.local.minYear)))\r\n                && this.local.minYear <= this.local.maxYear\r\n                && this.local.minYear <= this.currentYear\r\n        },\r\n        maxYearValidation() {\r\n            return (!Number.isNaN(Number(this.local.maxYear)))\r\n                && this.local.minYear <= this.local.maxYear\r\n                && this.local.maxYear <= this.currentYear\r\n        },\r\n        minYearInvalid() {  \r\n            if(Number.isNaN(Number(this.local.minYear)))\r\n                return \"Please enter a valid year\"\r\n            else if(this.local.minYear > this.local.maxYear) \r\n                return \"Min year cannot exceed max year\"\r\n            else if(this.local.minYear > this.currentYear)\r\n                return \"Min year cannot exceed current year\"\r\n            else\r\n                return \"something else wrong\"\r\n        },\r\n        maxYearInvalid() {  \r\n            if(Number.isNaN(Number(this.local.maxYear)))\r\n                return \"Please enter a valid year\"\r\n            else if(this.local.minYear > this.local.maxYear) \r\n                return \"Min year cannot exceed max year\"\r\n            else if(this.local.maxYear > this.currentYear)\r\n                return \"Max year cannot exceed current year\"\r\n            else\r\n                return \"something else wrong\"\r\n        }     \r\n\t},\r\n\tmethods: {  \r\n        changed(key, value) {\r\n        //changed() {\r\n            /*let newDating = {\r\n                minYear: Number.parseInt((this.dating || {}).minYear) || 0,  \r\n                maxYear: Number.parseInt((this.dating || {}).maxYear) || 0,  \r\n                minYearTolValue: Number.parseInt((this.dating || {}).minYearTolValue) || 0,  \r\n                maxYearTolValue: Number.parseInt((this.dating || {}).maxYearTolValue) || 0,  \r\n                minYearTolUnit: ((this.dating || {}).minYearTolUnit || \"years\").toString().trim(),\r\n                maxYearTolUnit: ((this.dating || {}).maxYearTolUnit || \"years\").toString().trim(),                                \r\n            } */\r\n            this.$emit('change', { ...this.dating, [key]: value })\r\n            //this.$emit('change', newDating);\t\r\n        },\r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatingYearRange.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatingYearRange.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DatingYearRange.vue?vue&type=template&id=675dd0de&scoped=true&\"\nimport script from \"./DatingYearRange.vue?vue&type=script&lang=js&\"\nexport * from \"./DatingYearRange.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"675dd0de\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<!--<b-tabs>        \r\n        <b-tab title=\"Year range\">\r\n            <DatingYearRange\r\n                :disabled=\"disabled\"\r\n                :dating=\"dating\"\r\n                :showTolerances=\"false\"\r\n                @change=\"datingChanged\"/>\t\r\n\t\t</b-tab>\r\n        <b-tab title=\"Period\">\r\n            <DatingPeriod\r\n                :disabled=\"disabled\"\r\n                :dating=\"dating\"                \r\n                @change=\"datingChanged\"/>\r\n            <DatingYearRange\r\n                :disabled=\"true\"\r\n                :dating=\"dating\"\r\n                :showTolerances=\"false\"/>\r\n        </b-tab>\r\n        <b-tab title=\"Probability range\">\r\n            <DatingYearRange\r\n                :disabled=\"disabled\"\r\n                :dating=\"dating\"\r\n                @change=\"datingChanged\"/>\r\n        </b-tab>\r\n\t</b-tabs>-->\r\n\t<DatingYearRange\r\n        :disabled=\"disabled\"\r\n        :dating=\"dating\"\r\n        @change=\"datingChanged\"/>\r\n</template>\r\n\r\n<script>\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\nimport DatingYearRange from '@/components/DatingYearRange.vue'\r\n//import DatingPeriod from '@/components/DatingPeriod.vue'\r\n\r\nexport default {\r\n\tname: 'Dating',\r\n\tcomponents: {\r\n\t\tDatingYearRange,\r\n        //DatingPeriod\r\n\t},\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: {\r\n\t\tdisabled: {\r\n\t\t\ttype: Boolean,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: false\t\t\t\r\n\t\t},\r\n\t\tdating: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: null\r\n\t\t},\t\t\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t\r\n\t\t}\r\n\t},\r\n\tcomputed: {},\r\n\tmethods: {\r\n        datingChanged(newValue){\r\n\t\t\tthis.$emit('change', newValue)\t\t\t\t\t\r\n\t\t}\r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dating.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dating.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dating.vue?vue&type=template&id=2ba5df0f&scoped=true&\"\nimport script from \"./Dating.vue?vue&type=script&lang=js&\"\nexport * from \"./Dating.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ba5df0f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"m-2\">\r\n\t\t<ItemTable :itemClass=\"itemClass\" class=\"mb-2\" @itemSelected=\"itemSelected\" @itemDeleted=\"itemDeleted\"/>\r\n\t\t<b-form-row>\r\n\t\t\t<!--<b-col>\r\n\t\t\t\t<b-form-group label=\"Identifier\" label-for=\"itemID\">\t\r\n\t\t\t\t\t<b-form-input text \r\n\t\t\t\t\t\t:disabled=\"true\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\" \r\n\t\t\t\t\t\t:placeholder=\"`${itemClass} identifier`\" \r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"itemID\" \r\n\t\t\t\t\t\t:value=\"((selectedItem || {}).data || {}).id\"/>\t\t\t\t\t\t\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>-->\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-group v-if=\"fields.includes('label')\" \r\n\t\t\t\t\tlabel=\"Identifier\" \r\n\t\t\t\t\tlabel-for=\"itemLabel\">\t\r\n\t\t\t\t\t<b-form-input text \r\n\t\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\" \r\n\t\t\t\t\t\t:placeholder=\"`${itemClass}`\" \r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"itemLabel\" \r\n\t\t\t\t\t\tv-model.trim=\"((selectedItem || {}).data || {}).label\" \r\n\t\t\t\t\t\t@change=\"labelChanged\"/>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\r\n\t\t\t\t<ItemLookup v-if=\"fields.includes('type')\"\r\n\t\t\t\t\tlabel=\"Type\" \r\n\t\t\t\t\tmode=\"input\"\r\n\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\t:placeholder=\"`${itemClass} type`\" \r\n\t\t\t\t\tv-model=\"((selectedItem || {}).data || {}).type\" \r\n\t\t\t\t\t:options=\"typeLookupOptions\"\r\n\t\t\t\t\t@change=\"typeChanged\"/>   \r\n\t\t\t</b-col>\r\n\t\t</b-form-row>\r\n\r\n\t\t<!--<ItemLookup label=\"In phase\" \r\n\t\t\t:disabled=\"disabled\"\r\n\t\t\tv-model=\"((selectedItem || {}).data || {}).inphase\"  \r\n\t\t\t:options=\"$store.getters.phaseLookups\" \r\n\t\t\t@change=\"phaseChanged\"/>-->\r\n\t\t<b-form-row>\r\n\t\t\t<b-col>\r\n\t\t\t\t<ItemLookup v-if=\"fields.includes('parent')\"\r\n\t\t\t\t\tlabel=\"Within\" \r\n\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\tclass=\"shadow-sm\"\r\n\t\t\t\t\t:placeholder=\"`${itemClass} parent`\" \r\n\t\t\t\t\tv-model=\"((selectedItem || {}).data || {}).parent\"  \r\n\t\t\t\t\t:options=\"parentLookupOptions\" \r\n\t\t\t\t\t@change=\"parentChanged\"/>\r\n\t\t\t</b-col>\r\n\t\t\t<b-col>\r\n\t\t\t\t\r\n\t\t\t</b-col>\r\n\t\t</b-form-row> \r\n\r\n\t\t<b-form-row>\t\r\n\t\t\t<b-col>\t\r\n\t\t\t\t<b-form-group v-if=\"fields.includes('description')\" \r\n\t\t\t\t\tlabel=\"Description\"\t\t\t\t\r\n\t\t\t\t\tlabel-for=\"itemDescription\">\t\r\n\t\t\t\t\t<b-form-textarea \r\n\t\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\t\tclass=\"shadow-sm\" \r\n\t\t\t\t\t\t:placeholder=\"`${itemClass} description`\" \r\n\t\t\t\t\t\trows=\"2\"\r\n\t\t\t\t\t\tmax-rows=\"2\"\r\n\t\t\t\t\t\tname=\"itemDescription\" \r\n\t\t\t\t\t\tv-model.trim=\"((selectedItem || {}).data || {}).description\" \r\n\t\t\t\t\t\t@change=\"descriptionChanged\"/>\r\n\t\t\t\t</b-form-group>\r\n\t\t\t</b-col>\r\n\t\t</b-form-row>  \r\n\r\n\t\t<b-form-row>\t\r\n\t\t\t<b-col>\t\t\r\n\t\t\t\t<Dating v-if=\"fields.includes('dating')\"  \r\n\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\t:dating=\"((selectedItem || {}).data || {}).dating\"\r\n\t\t\t\t\t@change=\"datingChanged\"/>\r\n\t\t\t</b-col>\r\n\t\t</b-form-row> \r\n\r\n\t\t<b-form-row>\r\n\t\t\t<b-col>\r\n\t\t\t\t<b-form-checkbox v-if=\"fields.includes('included')\" \r\n\t\t\t\t\t:disabled=\"disabled\" \r\n\t\t\t\t\tv-model=\"((selectedItem || {}).data || {}).included\" \r\n\t\t\t\t\t:value=\"true\"\r\n\t\t\t\t\t:unchecked-value=\"false\" \r\n\t\t\t\t\tname=\"check-button\" \r\n\t\t\t\t\tswitch \r\n\t\t\t\t\t@change=\"includeChanged\">Included in calculations</b-form-checkbox>\t\t\t\t\t\t\r\n\t\t\t</b-col>\r\n\t\t</b-form-row>\r\n\r\n\t\t<!--<b-form-row>\t\r\n\t\t\t<b-col>\t\t\r\n\t\t\t\t<DerivedDating v-if=\"fields.includes('derivedDating')\"\r\n\t\t\t\t\t:nodeID=\"((selectedItem || {}).data || {}).id\"/>\r\n\t\t\t</b-col>\r\n\t\t</b-form-row>-->\r\n\r\n        <!--<DatingYearRange v-else label=\"Dating\"\t\r\n\t\t\t:disabled=\"disabled\"\r\n\t\t\t:dating=\"((selectedItem || {}).data || {}).dating\"\r\n\t\t\t@change=\"datingChanged\"/>-->\t\r\n\t\t<b-form-row>\t\r\n\t\t\t<b-col>\r\n\t\t\t\t<Stratigraphy v-if=\"fields.includes('stratigraphy')\" \r\n\t\t\t\t\t:sourceID=\"((selectedItem || {}).data || {}).id\"\r\n\t\t\t\t\t:disabled=\"disabled\"/>\r\n\t\t\t</b-col>\r\n\t\t</b-form-row>\r\n\t\t<!--<div>{{ `x: ${((selectedItem || {}).position || {}).x}, y: ${((selectedItem || {}).position || {}).y}`}}</div>-->\r\n\t</div>\t\t\r\n</template>\r\n\r\n<script>\r\nimport {NodeClass} from '@/mixins/constants.js'\r\nimport ItemTable from '@/components/ItemTable'\r\nimport ItemLookup from '@/components/ItemLookup'\r\n//import DatingYearRange from '@/components/DatingYearRange'\r\nimport Stratigraphy from '@/components/Stratigraphy'\r\nimport Dating from '@/components/Dating'\r\n//import DerivedDating from '@/components/DerivedDating'\r\n\r\nexport default {\r\n\tname: 'ItemEditor',\r\n\tcomponents: {\r\n\t\tItemTable,\r\n\t\tItemLookup,\r\n\t\t//DatingYearRange,\r\n\t\tStratigraphy,\r\n\t\tDating,\r\n\t\t//DerivedDating\t\r\n\t},\r\n\tmixins: [ ],\r\n\tprops: {\r\n\t\titemClass: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: false,\r\n\t\t\tdefault: NodeClass.PHASE,\r\n\t\t\tvalidator: value => Object.values(NodeClass).includes(value) // Object.prototype.hasOwnProperty.call(NodeClass, value)\t\t\t\r\n\t\t}\r\n\t},\r\n\tdata() { \r\n        return { \r\n            selectedItem: null\r\n        } \r\n    },\r\n\tcomputed: {\r\n\t\tdisabled() { return this.selectedItem == null },\r\n\t\tfields() { // not used yet..\r\n\t\t\tswitch(this.itemClass) {\r\n\t\t\t\tcase NodeClass.PHASE: return [\"label\", \"description\", \"dating\"]\r\n\t\t\t\tcase NodeClass.GROUP: return [\"label\", \"type\", \"parent\", \"description\"]\r\n\t\t\t\tcase NodeClass.SUBGROUP: return [\"label\", \"type\", \"parent\", \"description\"]\r\n\t\t\t\tcase NodeClass.CONTEXT: return [\"label\", \"type\", \"parent\", \"description\", \"stratigraphy\"]\t\t\r\n\t\t\t\tcase NodeClass.DATING: return [\"label\", \"type\", \"parent\", \"description\", \"dating\", \"included\"]\r\n\t\t\t\tdefault: return []\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t},\r\n\t\tparentLookupOptions() { \r\n\t\t\tswitch(this.itemClass) {\r\n\t\t\t\tcase NodeClass.GROUP: return this.$store.getters.phaseOptionsGrouped\r\n\t\t\t\tcase NodeClass.SUBGROUP: return this.$store.getters.groupOptionsGrouped\r\n\t\t\t\tcase NodeClass.CONTEXT: return this.$store.getters.contextParentOptions\t\t\t\r\n\t\t\t\tcase NodeClass.DATING: return this.$store.getters.contextOptionsGrouped\t\r\n\t\t\t\tdefault: return []\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}, \r\n\t\ttypeLookupOptions() { \r\n\t\t\tswitch(this.itemClass) {\r\n\t\t\t\tcase NodeClass.PHASE: return this.$store.getters.phaseTypeOptions\r\n\t\t\t\tcase NodeClass.GROUP: return this.$store.getters.groupTypeOptions\r\n\t\t\t\tcase NodeClass.SUBGROUP: return this.$store.getters.groupTypeOptions\r\n\t\t\t\tcase NodeClass.CONTEXT: return this.$store.getters.contextTypeOptions\r\n\t\t\t\tcase NodeClass.DATING: return this.$store.getters.datingTypeOptions\r\n\t\t\t\tdefault: return []\r\n\t\t\t}\r\n\t\t} \r\n\t},\r\n\tmethods: {\r\n        itemSelected(item) {\r\n            this.selectedItem = item\r\n\t\t\tthis.$store.dispatch('setSelectedID', ((this.selectedItem || {}).data || {}).id)\r\n\r\n        },\r\n\t\titemDeleted(id) {\r\n\t\t\tif(((this.selectedItem || {}).data || {}).id == id)\r\n\t\t\t\tthis.selectedItem = null\r\n\t\t},\r\n\t\tlabelChanged() {\r\n\t\t\tthis.itemChanged()\r\n\t\t},\r\n\t\tdescriptionChanged() {\r\n\t\t\tthis.itemChanged()\r\n\t\t},\r\n\t\t/*phaseChanged(value) {\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.inphase = value\r\n\t\t\t\tthis.changed()\r\n\t\t\t}\r\n\t\t},*/\r\n\t\tparentChanged(value) {\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\t// new parent group for context chosen\r\n\t\t\t\tif(this.selectedItem.data.parent != value) {\r\n\t\t\t\t\tthis.selectedItem.data.parent = value\r\n\t\t\t\t\t// comunicate this change to cytoscape diagram via event bus\r\n\t\t\t\t\tthis.$root.$emit('nodeParentChanged', this.selectedItem) \r\n\t\t\t\t\t// also flag the change to parent control\r\n\t\t\t\t\tthis.itemChanged()\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t},\t\t\r\n\t\ttypeChanged(value) {\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.type = value\r\n\t\t\t\tthis.itemChanged()\r\n\t\t\t}\r\n\t\t},\r\n\t\tdatingChanged(dating) {\t\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.dating = dating\r\n\t\t\t\tthis.itemChanged()\r\n\t\t\t}\r\n\t\t},\r\n\t\tincludeChanged(value) {\t\r\n\t\t\tif(this.selectedItem) {\r\n\t\t\t\tthis.selectedItem.data.included = value\r\n\t\t\t\tthis.itemChanged()\r\n\t\t\t}\r\n\t\t},\r\n\t\titemChanged() {\r\n            this.$store.dispatch('updateNode', this.selectedItem)\r\n\t\t},\t        \r\n    },\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemEditor.vue?vue&type=template&id=721720b9&scoped=true&\"\nimport script from \"./ItemEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"721720b9\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<b-tabs v-model=\"tabIndex\" class=\"my-1\">\r\n\t\t<b-tab v-for=\"nc in nodeClasses\" :key=\"nc\" class=\"my-2\">\r\n\t\t\t<template v-slot:title>\r\n\t\t\t\t<span>{{ capitalize(nc) }}{{ nc !== \"dating\" ? \"s\" : \"\" }}</span>\r\n\t\t\t\t<b-badge pill \r\n\t\t\t\t\tvariant=\"outline\" \r\n\t\t\t\t\tclass=\"border secondary pb-1 m-0 ml-2\">\r\n\t\t\t\t\t<span>{{ itemCount(nc) }}</span>\t\t\t\t\t\r\n\t\t\t\t</b-badge>\r\n\t\t\t</template>\r\n\t\t\t<ItemEditor :itemClass=\"nc\"/>\r\n\t\t</b-tab> \r\n\r\n\t\t<!--\r\n\t\t<b-tab>\r\n\t\t\t<template v-slot:title>\r\n\t\t\t\t<span>Problems</span>\r\n\t\t\t\t<b-badge pill variant=\"outline\" class=\"border secondary pb-1 m-0 ml-2\">\r\n\t\t\t\t\t<span>0</span>\r\n\t\t\t\t</b-badge>\r\n\t\t\t</template>\r\n\t\t</b-tab>\r\n\t\t-->\r\n    </b-tabs>\r\n</template>\r\n\r\n<script>\r\nimport PhaserCommon from '@/mixins/PhaserCommon.js'\r\nimport ItemEditor from '@/components/ItemEditor'\r\nimport {NodeClass} from '@/mixins/constants.js'\r\n\r\nexport default {\r\n\tname: 'ItemEditors',\r\n\tcomponents: {\r\n\t\tItemEditor\r\n\t},\r\n\tmixins: [ PhaserCommon ],\r\n\tprops: {},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttabIndex: 0\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tselectedID() {\r\n\t\t\treturn this.$store.getters.selectedID\r\n\t\t},\r\n\t\tnodeClasses() {\r\n\t\t\treturn Object.values(NodeClass)\r\n\t\t\t//.filter(nc => nc !== NodeClass.FIND && nc !== NodeClass.SAMPLE) //deprecated these\r\n\t\t}\t\t\r\n\t},\r\n\twatch: {\r\n\t\tselectedID(newValue) {\r\n\t\t\t// display the tab containing the selected item\r\n\t\t\tlet node = this.$store.getters.nodeByID(newValue)\r\n\t\t\tlet nc = ((node || {}).data || {}).class\r\n\t\t\tswitch(nc) {\r\n\t\t\t\tcase NodeClass.PHASE: this.tabIndex = 0;break;\r\n\t\t\t\tcase NodeClass.GROUP: this.tabIndex = 1;break;\r\n\t\t\t\tcase NodeClass.SUBGROUP: this.tabIndex = 2;break;\r\n\t\t\t\tcase NodeClass.CONTEXT: this.tabIndex = 3;break;\r\n\t\t\t\tcase NodeClass.DATING: this.tabIndex = 4;break;\r\n\t\t\t\tdefault: this.tabIndex = 0;break;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\titemCount(nc) {\r\n\t\t\tswitch(nc) {\r\n\t\t\t\tcase NodeClass.PHASE: return this.$store.getters.phases.length\r\n\t\t\t\tcase NodeClass.GROUP: return this.$store.getters.groups.length\r\n\t\t\t\tcase NodeClass.SUBGROUP: return this.$store.getters.subgroups.length\r\n\t\t\t\tcase NodeClass.CONTEXT: return this.$store.getters.contexts.length\r\n\t\t\t\tcase NodeClass.DATING: return this.$store.getters.datings.length\r\n\t\t\t\tdefault: return 0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t// lifecycle hooks\r\n\tbeforeCreate() {},\r\n\tcreated() {},\r\n\tbeforeMount() {},\r\n\tmounted() {},\r\n\tbeforeUpdate() {},\r\n\tupdated() {},\r\n\tbeforeDestroy() {},\r\n\tdestroyed() {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemEditors.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemEditors.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemEditors.vue?vue&type=template&id=7ec2ffc3&scoped=true&\"\nimport script from \"./ItemEditors.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemEditors.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ec2ffc3\",\n  null\n  \n)\n\nexport default component.exports","<template>\t\r\n    <ItemEditors/>   \r\n</template>\r\n\r\n<script>\r\nimport ItemEditors from '@/components/ItemEditors'\r\n\r\nexport default { \r\n    name: 'LayoutSidebar',\r\n    components: { \r\n        ItemEditors\r\n    },\r\n    computed: {}\r\n}\r\n</script>\r\n\r\n<style scoped>    \r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayoutSidebar.vue?vue&type=template&id=41d9bf52&scoped=true&\"\nimport script from \"./LayoutSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./LayoutSidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41d9bf52\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n   <b-container class=\"border p-0 bg-light\" fluid id=\"container\">\r\n        <b-row no-gutters id=\"header\">\r\n            <b-col>\r\n                <LayoutHeader/>\r\n            </b-col>\r\n        </b-row>\r\n        <vue-splitter :margin=\"10\" :defaultPercent=\"60\">\r\n            <div slot=\"left-pane\">\r\n                <b-col>\r\n                <LayoutContent/>\r\n                </b-col>\r\n            </div>\r\n            <div slot=\"right-pane\">\r\n                <LayoutSidebar/>\r\n            </div>\r\n        </vue-splitter>    \r\n    </b-container>\r\n</template>\r\n\r\n<script>\r\nimport LayoutHeader from \"@/components/LayoutHeader.vue\"\r\nimport LayoutContent from \"@/components/LayoutContent.vue\" \r\nimport LayoutSidebar from \"@/components/LayoutSidebar.vue\" \r\n//import LayoutFooter from '@/components/LayoutFooter.vue' \r\nimport VueSplitter from \"@rmp135/vue-splitter\"\r\n\r\nexport default { \r\n    name: 'Layout',\r\n    components: { \r\n        LayoutHeader,\r\n        LayoutContent,\r\n        LayoutSidebar,\r\n        VueSplitter\r\n        //LayoutFooter        \r\n    },\r\n    data: function(){ return{ item: null }}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layout.vue?vue&type=template&id=10ec120b&scoped=true&\"\nimport script from \"./Layout.vue?vue&type=script&lang=js&\"\nexport * from \"./Layout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10ec120b\",\n  null\n  \n)\n\nexport default component.exports","<template>    \r\n    <Layout/>    \r\n</template>\r\n\r\n<script>\r\nimport Layout from '@/components/Layout.vue'\r\n\r\nexport default { \r\n    name: 'App',\r\n    components: { \r\n        Layout          \r\n    },\r\n    data: function() {\r\n        return {}\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\nhtml,body {\r\n\tmargin:0;\r\n\tpadding:0;\r\n\theight:100%; /* needed for container min-height */\r\n\t/*background:gray;*/\r\n\t\r\n\tfont-family:arial,sans-serif;\r\n\tfont-size:small;\r\n\t/*color:#666;*/\r\n}\r\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6754e52e&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\"\r\nimport Vuex from \"vuex\"\r\n// import VuexPersist from 'vuex-persist'\r\nimport createPersistedState from \"vuex-persistedstate\"\r\nimport _merge  from \"lodash/merge\"\r\nimport {NodeClass} from \"@/mixins/constants.js\"\r\n\r\nVue.use(Vuex)\r\n\r\n/*\r\nconst vuexLocalStorage = new VuexPersist({\r\n    key: 'vuex', // The key to store the state on in the storage provider.\r\n    storage: window.localStorage // or window.sessionStorage or localForage\r\n})\r\n*/\r\n\r\nexport default new Vuex.Store({\r\n\t// strict: true,\r\n    // plugins: [vuexLocalStorage.plugin],\r\n    plugins: [ createPersistedState({ storage: window.localStorage }) ],\r\n\tstate: {\r\n        selectedID: \"\",\r\n        about: { // not used yet..\r\n            project: \"My example project\",\r\n            descrip: \"Example data for testing VUEX. Using Cytoscape graph elements structure\",\r\n            creator: \"Ceri Binding, University of South Wales\",\r\n            contact: \"ceri.binding@southwales.ac.uk\",\r\n            created: \"2021-01-07\",\r\n            updated: \"2021-01-07\", \r\n            version: \"1.0\",           \r\n        },  \r\n        graph: {\r\n            nodes: [],\r\n            edges: []\r\n        }, \r\n        types: {            \r\n            groupTypes: [\r\n                \"Building\", \r\n                \"Corn-drying oven\", \r\n                \"Ditch overall\", \r\n                \"Drain\", \r\n                \"Four-post structure\", \r\n                \"Hearth\", \r\n                \"Kiln\", \r\n                \"Oven\", \r\n                \"Post-hole: group\", \r\n                \"Road\", \r\n                \"Structure\", \r\n                \"Well\"  \r\n            ],\r\n            contextTypes: [ // TODO: load from external JSON. Part of config?\r\n                \"Animal disturbance\",\r\n                \"Animal disturbance: fill\",\r\n                \"Ard mark\",\r\n                \"Ard mark: fill\",\r\n                \"Bank\",\r\n                \"Beam slot\",\r\n                \"Beam slot: fill\",\r\n                \"Beam\",\r\n                \"Coffin\",\r\n                \"Coffin: fill\",\r\n                \"Coffin: stain\",\r\n                \"Corn-drying oven: cut\",\r\n                \"Corn-drying oven: fill\",\r\n                \"Corn-drying oven: wall\",\r\n                \"Cremation pit\",\r\n                \"Cremation pit: fill\",\r\n                \"Cremation vessel\",\r\n                \"Cremation vessel: fill\",\r\n                \"Cremation\",\r\n                \"Ditch segment\",\r\n                \"Ditch segment: fill\",\r\n                \"Ditch\",\r\n                \"Ditch: fill\",\r\n                \"Drain: capping\",\r\n                \"Drain: construction trench fill\",\r\n                \"Drain: construction trench\",\r\n                \"Drain: fill\",\r\n                \"Drain: lining\",\r\n                \"Drain: packing\",\r\n                \"Drain: pipe\",\r\n                \"Drove way\",\r\n                \"Enclosure\",\r\n                \"Feature\",\r\n                \"Feature: fill\",\r\n                \"Floor\",\r\n                \"Floor: tessellated\",\r\n                \"Flue\",\r\n                \"Flue: fill\",\r\n                \"Foundation: cut\",\r\n                \"Foundation: layer\",\r\n                \"Furnace\",\r\n                \"Grave\",\r\n                \"Grave: fill\",\r\n                \"Gully\",\r\n                \"Gully: fill\",\r\n                \"Hearth pit\",\r\n                \"Hearth pit: fill\",\r\n                \"Hearth: debris\",\r\n                \"Hoof print\",\r\n                \"Hoof print: fill\",\r\n                \"Interface\",\r\n                \"Kiln: debris\",\r\n                \"Kiln: fill\",\r\n                \"Kiln: lining\",\r\n                \"Layer\",\r\n                \"Layer: accumulation\",\r\n                \"Layer: buried soil\",\r\n                \"Layer: levelling\",\r\n                \"Layer: natural\",\r\n                \"Layer: occupation\",\r\n                \"Layer: plough soil\",\r\n                \"Layer: redeposited natural\",\r\n                \"Layer: rubble\",\r\n                \"Layer: subsoil\",\r\n                \"Layer: topsoil\",\r\n                \"Lens\",\r\n                \"Linear feature\",\r\n                \"Linear feature: fill\",\r\n                \"Modern intrusion\",\r\n                \"Modern intrusion: fill\",\r\n                \"Natural feature\",\r\n                \"Natural feature: fill\",\r\n                \"Palaeochannel\",\r\n                \"Palaeochannel: fill\",\r\n                \"Pit\",\r\n                \"Pit, cess\",\r\n                \"Pit, cess: fill\",\r\n                \"Pit: fill\",\r\n                \"Pit: lining\",\r\n                \"Plough furrow\",\r\n                \"Plough furrow: fill\",\r\n                \"Plough mark\",\r\n                \"Plough mark: fill\",\r\n                \"Post-hole\",\r\n                \"Post-hole: fill\",\r\n                \"Post-hole: packing\",\r\n                \"Post-pad\",\r\n                \"Post-pipe\",\r\n                \"Post-pipe: fill\",\r\n                \"Pottery: spread\",\r\n                \"Quarry pit\",\r\n                \"Quarry pit: fill\",\r\n                \"Ring ditch\",\r\n                \"Robbing trench\",\r\n                \"Robbing trench: fill\",\r\n                \"Stake\",\r\n                \"Stake-hole\",\r\n                \"Stake-hole: fill\",\r\n                \"Stoke hole\",\r\n                \"Stoke hole: fill\",\r\n                \"Surface\",\r\n                \"Surface: earth/clay\",\r\n                \"Surface: metalled\",\r\n                \"Surface: mortar\",\r\n                \"Surface: paved\",\r\n                \"Threshold\",\r\n                \"Tree hollow\",\r\n                \"Tree hollow: fill\",\r\n                \"Trial trench\",\r\n                \"Trial trench: fill\",\r\n                \"Vessel\",\r\n                \"Vessel: fill\",\r\n                \"Wall\",\r\n                \"Wall: construction trench fill\",\r\n                \"Wall: construction trench\",\r\n                \"Well: construction pit fill\",\r\n                \"Well: construction pit\",\r\n                \"Well: fill\",\r\n                \"Well: lining\",\r\n                \"Wheel rut\",\r\n                \"Wheel rut: fill\"\r\n            ],\r\n            /*findTypes: [\r\n                \"find type A\",\r\n                \"find type B\",\r\n                \"find type C\"\r\n            ],\r\n            sampleTypes: [\r\n                \"sample type A\",\r\n                \"sample type B\",\r\n                \"sample type C\"\r\n            ],*/\r\n            datingTypes: [\r\n                \"find\",\r\n                \"sample\",\r\n                \"manual\"\r\n            ],\r\n            periodTypes: [\r\n                { id: \"1\", label: \"Roman\", min: 43, max: 410 },\r\n                { id: \"1\", label: \"Medieval\", min: 1066, max: 1540 },\r\n            ]         \r\n        }     \r\n    },\t\r\n    \r\n\tgetters: { \r\n        // basic elements of graph structure       \r\n        nodes: state => state.graph.nodes,\r\n        edges: state => state.graph.edges,\r\n        //elements: (state, getters) => getters.nodes.concat(getters.edges),  \r\n        \r\n        // specialized elements of graph structure\r\n        phases: (state, getters) => getters.nodes.filter(n => n.data.class === NodeClass.PHASE),\r\n\t\tgroups: (state, getters) => getters.nodes.filter(n => n.data.class === NodeClass.GROUP),\r\n        subgroups: (state, getters) => getters.nodes.filter(n => n.data.class === NodeClass.SUBGROUP),\r\n        contexts: (state, getters) => getters.nodes.filter(n => n.data.class === NodeClass.CONTEXT),\r\n        //finds: (state, getters) => getters.nodes.filter(n => n.data.class === NodeClass.FIND),\r\n        //samples: (state, getters) => getters.nodes.filter(n => n.data.class === NodeClass.SAMPLE),\r\n        datings: (state, getters) => getters.nodes.filter(n => n.data.class === NodeClass.DATING),\r\n\r\n        // currently selected node ID - for UI\r\n        selectedID: state => state.selectedID,\r\n\r\n        // options for lookup controls        \r\n        //phaseTypes: state => state.types.phaseTypes,\r\n        //groupTypes: state => state.types.groupTypes,\r\n        //contextTypes: state => state.types.contextTypes,        \r\n        //findTypes: state => state.types.findTypes,\r\n        //sampleTypes: state => state.types.sampleTypes,\r\n        phaseTypeOptions: state => state.types.phaseTypes.map(s => { return { value: s, text: s }}),\r\n        groupTypeOptions: state => state.types.groupTypes.map(s => { return { value: s, text: s }}),\r\n        contextTypeOptions: state => state.types.contextTypes.map(s => { return { value: s, text: s }}),\r\n        //findTypeOptions: state => state.types.findTypes.map(s => { return { value: s, text: s }}),\r\n        //sampleTypeOptions: state => state.types.sampleTypes.map(s => { return { value: s, text: s }}),\r\n        datingTypeOptions: state => state.types.datingTypes.map(s => { return { value: s, text: s }}),\r\n        /*\r\n        phaseOptions: (state, getters) => getters.phases\r\n            .map(n => { return { value: n.data.id, text: n.data.label }})\r\n            .sort((a, b) => (a.text || a.label || \"\").localeCompare(b.text || b.label || \"\")),\r\n        groupOptions: (state, getters) => getters.groups\r\n            .map(n => { return { value: n.data.id, text: n.data.label }})\r\n            .sort((a, b) => (a.text || a.label || \"\").localeCompare(b.text || b.label || \"\")),\r\n        subgroupOptions: (state, getters) => getters.subgroups\r\n            .map(n => { return { value: n.data.id, text: n.data.label }})\r\n            .sort((a, b) => (a.text || a.label || \"\").localeCompare(b.text || b.label || \"\")),\r\n        contextOptions: (state, getters) => getters.contexts\r\n            .map(n => { return { value: n.data.id, text: n.data.label }})\r\n            .sort((a, b) => (a.text || a.label || \"\").localeCompare(b.text || b.label || \"\")),        \r\n        */\r\n        phaseOptionsGrouped: (state, getters) => {\r\n            const options = getters.phases\r\n                .map(n => { return { value: n.data.id, text: n.data.label }})\r\n                .sort((a, b) => (a.text || a.label || \"\").localeCompare(b.text || b.label || \"\"))\r\n            return options.length == 0 ? [] : [{ label: \"Phase\", options: options }]          \r\n        },\r\n        groupOptionsGrouped: (state, getters) => {\r\n            const options = getters.groups\r\n                .map(n => { return { value: n.data.id, text: n.data.label }})\r\n                .sort((a, b) => (a.text || a.label || \"\").localeCompare(b.text || b.label || \"\"))\r\n            return options.length == 0 ? [] : [{ label: \"Group\", options: options }]  \r\n           // ... (getters.groupOptions.length == 0) ? [] : [{ label: \"Groups\", options: getters.groupOptions }]\r\n        },\r\n        subgroupOptionsGrouped: (state, getters) => {\r\n            const options = getters.subgroups\r\n                .map(n => { return { value: n.data.id, text: n.data.label }})\r\n                .sort((a, b) => (a.text || a.label || \"\").localeCompare(b.text || b.label || \"\"))\r\n            return options.length == 0 ? [] : [{ label: \"Subgroup\", options: options }] \r\n            // ... (getters.subgroupOptions.length == 0) ? [] : [{ label: \"Subgroups\", options: getters.subgroupOptions }]\r\n        },\r\n        contextOptionsGrouped: (state, getters) => {\r\n            const options = getters.contexts\r\n                .map(n => { return { value: n.data.id, text: n.data.label }})\r\n                .sort((a, b) => (a.text || a.label || \"\").localeCompare(b.text || b.label || \"\"))\r\n            return options.length == 0 ? [] : [{ label: \"Context\", options: options }] \r\n        },       \r\n        /*contextOptionsGrouped: (state, getters) => [\r\n            ... (getters.contextOptions.length == 0) ? [] : [{ label: \"Contexts\", options: getters.contextOptions }]\r\n        ],*/\r\n        \r\n        // context parent could be subgroup, group or phase. May have same label, so grouping options to disambiguate\r\n        contextParentOptions: (state, getters) => [\r\n            ...getters.phaseOptionsGrouped,\r\n            ...getters.groupOptionsGrouped,\r\n            ...getters.subgroupOptionsGrouped\r\n        ],         \r\n\r\n        // hierarchical querying functionality\r\n        childrenOfIDs: (state, getters) => ids => getters.nodes.filter(n => ids.includes(n.data.parent)),\r\n        childrenOfID: (state, getters) => id => getters.childrenOfIDs([id]),    \r\n        \r\n        descendantsOfIDs: (state, getters) => ids => {\r\n            let descendants = []\r\n            let childNodes = getters.childrenOfIDs(ids)\r\n            let iteration = 0 // to break self referential loops\r\n            while(childNodes.length > 0 && iteration < 5) {\r\n                descendants = descendants.concat(childNodes)\r\n                childNodes = getters.childrenOfIDs(childNodes.map(n => n.data.id))\r\n                iteration++                \r\n            }           \r\n            return descendants\r\n        },\r\n        descendantsOfID: (state, getters) => id => getters.descendantsOfIDs([id]),\r\n        \r\n        //datingsForID: (state, getters) => id => getters.descendantsOfID(id)\r\n            //.filter(n => n.data.class == NodeClass.DATING && n.data.included),        \r\n\r\n        // derive min/max years from hierarchical descendant datings\r\n        derivedDates: (state, getters) => id => {\r\n            let minYear = Number.MAX_VALUE\r\n            let maxYear = Number.MIN_VALUE\r\n            \r\n            getters.descendantsOfID(id)\r\n                .filter(n => n.data.class == NodeClass.DATING && n.data.included && n.data.dating)\r\n           // getters.datingsForID(id)\r\n                .map(n => ((n || {}).data || {}).dating)\r\n                //.filter(dating => dating) \r\n                .forEach(d => {\r\n                    let clean = {\r\n                        minYear: Number(d.minYear),\r\n                        maxYear: Number(d.maxYear),\r\n                        minYearTolValue: Number(d.minYearTolValue),\r\n                        maxYearTolValue: Number(d.maxYearTolValue),\r\n                        minYearTolUnit: d.minYearTolUnit,\r\n                        maxYearTolUnit: d.maxYearTolUnit\r\n                    }\r\n                    \r\n                    // apply minYear tolerance (if present)\r\n                    if(clean.minYearTolUnit == \"percent\") \r\n                        clean.minYear -= (clean.minYear * (clean.minYearTolValue / 100))\r\n                    else\r\n                        clean.minYear -= clean.minYearTolValue\r\n\r\n                    // apply maxYear tolerance (if present)\r\n                    if(clean.maxYearTolUnit == \"percent\") \r\n                        clean.maxYear += (clean.maxYear * (clean.maxYearTolValue / 100)) \r\n                    else\r\n                        clean.maxYear += clean.maxYearTolValue \r\n\r\n                    // less than the current minimum?\r\n                    if(minYear > clean.minYear) minYear = clean.minYear\r\n                    // more than the current maximum?\r\n                    if(maxYear < clean.maxYear) maxYear = clean.maxYear\r\n                })\r\n            // return overall rounded min/max year after tolerances applied\r\n            return { \r\n                minYear: minYear < Number.MAX_VALUE ? Math.round(minYear) : null, \r\n                maxYear: maxYear > Number.MIN_VALUE ? Math.round(maxYear) : null\r\n            }\r\n        },\r\n        \r\n        // node and edge selection\r\n        nodeByID: (state, getters) => id => getters.nodes.find(n => n.data.id === id),\r\n        edgeByID: (state, getters) => id => getters.edges.find(e => e.data.id === id), \r\n        nodeLabel: (state, getters) => id => ((getters.nodeByID(id) || {}).data || {}).label || id,\r\n        edgesBySource: (state, getters) => source => getters.edges.filter(e => e.data.source === source),\r\n        edgesByTarget: (state, getters) => target => getters.edges.filter(e => e.data.target === target),\r\n\r\n        newPhase: (state, getters) => { \r\n            const nc = NodeClass.PHASE\r\n            // get next available phase ID to use\r\n            let nextID = 1\r\n            while(getters.nodeByID(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    label: nextID.toString(), \r\n                    description: \"\",\r\n                    dating: {\r\n                        label: \"\",\r\n                        minYear: null,\r\n                        maxYear: null,\r\n                        minYearTolValue: 0,\r\n                        maxYearTolValue: 0,\r\n                        minYearTolUnit: \"years\",\r\n                        maxYearTolUnit: \"years\"                        \r\n                    } \r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                } \r\n            }\r\n        },\r\n\r\n        newGroup: (state, getters) => { \r\n            const nc = NodeClass.GROUP\r\n            // get next available group ID to use\r\n            let nextID = 1\r\n            while(getters.nodeByID(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    parent: \"\", \r\n                    type: \"\",                    \r\n                    label: nextID.toString(), \r\n                    description: \"\"\r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                } \r\n            }\r\n        },\r\n\r\n        newSubGroup: (state, getters) => { \r\n            const nc = NodeClass.SUBGROUP\r\n            // get next available subgroup ID to use\r\n            let nextID = 1\r\n            while(getters.nodeByID(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    parent: \"\", \r\n                    type: \"\",\r\n                    label: nextID.toString(), \r\n                    description: \"\"                    \r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                } \r\n            }\r\n        },\r\n\r\n        newContext: (state, getters) => { \r\n            const nc = NodeClass.CONTEXT\r\n            // get next available context ID to use \r\n            let nextID = 1\r\n            while(getters.nodeByID(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    parent: \"\", \r\n                    type: \"\",\r\n                    label: nextID.toString(),\r\n                    description: \"\"                    \r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                } \r\n            }\r\n        },\r\n\r\n        /*newFind: (state, getters) => { \r\n            const nc = NodeClass.FIND\r\n            // get next available context ID to use \r\n            let nextID = 1\r\n            while(getters.nodeByID(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    parent: \"\",\r\n                    label: nextID.toString(), \r\n                    type: \"\",\r\n                    dating: {\r\n                        label: \"\",\r\n                        minYear: null,\r\n                        maxYear: null,\r\n                        minYearTolValue: 0,\r\n                        maxYearTolValue: 0,\r\n                        minYearTolUnit: \"years\",\r\n                        maxYearTolUnit: \"years\"\r\n                    }  \r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                } \r\n            }\r\n        },*/\r\n\r\n        /*newSample: (state, getters) => { \r\n            const nc = NodeClass.SAMPLE\r\n            // get next available context ID to use \r\n            let nextID = 1\r\n            while(getters.nodeByID(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    parent: \"\",\r\n                    label: nextID.toString(), \r\n                    type: \"\",\r\n                    dating: {\r\n                        label: \"\",\r\n                        minYear: null,\r\n                        maxYear: null,\r\n                        minYearTolValue: 0,\r\n                        maxYearTolValue: 0,\r\n                        minYearTolUnit: \"years\",\r\n                        maxYearTolUnit: \"years\"\r\n                    }  \r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                } \r\n            }\r\n        },   */\r\n        \r\n        newDating: (state, getters) => { \r\n            const nc = NodeClass.DATING\r\n            // get next available context ID to use \r\n            let nextID = 1\r\n            while(getters.nodeByID(`${nc}-${nextID}`)) nextID++ \r\n            const id = `${nc}-${nextID}`\r\n            return { \r\n                data: { \r\n                    id: id, \r\n                    class: nc, \r\n                    parent: \"\",\r\n                    type: \"\",                    \r\n                    label: nextID.toString(), \r\n                    description: \"\",\r\n                    included: true,\r\n                    dating: {\r\n                        label: \"\",\r\n                        minYear: null,\r\n                        maxYear: null,\r\n                        minYearTolValue: 0,\r\n                        maxYearTolValue: 0,\r\n                        minYearTolUnit: \"years\",\r\n                        maxYearTolUnit: \"years\"\r\n                    }  \r\n                }, \r\n                position: { \r\n                    x: 0, \r\n                    y: 0 \r\n                }\r\n            } \r\n        },\r\n\r\n        newEdge: (state, getters) => {\r\n            // get next available edge ID to use \r\n            let nextID = 1            \r\n            while(getters.edgeByID(`edge-${nextID}`)) nextID++ \r\n            const id = `edge-${nextID}` \r\n            return { data: { id: id, source: \"\", target: \"\", type: \"\" } }\r\n        }\r\n    },\r\n    \r\n    //code modified from https://codeburst.io/build-a-simple-todo-app-with-vue-js-1778ae175514\r\n    // mutations are synchronous, keep them as simple as possible\r\n\tmutations: {        \r\n        INSERT_NODE(state, node) {\r\n            const nodes = state.graph.nodes\r\n            const index = nodes.findIndex(n => n.data.id === node.data.id)  // check if id exists     \r\n            if(index === -1)                    // id doesn't exist\r\n                nodes.push(node)                // add the node            \r\n        },\r\n        UPDATE_NODE(state, node) {\r\n            const nodes = state.graph.nodes\r\n            const index = nodes.findIndex(n => n.data.id === node.data.id)  // check if id exists     \r\n            if(index !== -1) {                   // id exists\r\n                Vue.set(nodes, index, node) // see if this works better? trying to ensure reactivity of grouping\r\n                //nodes.splice(index, 1, node)  // otherwise this will work.. replace the node\r\n                \r\n            }\r\n        },\r\n        // currently selected node ID - for visual indication\r\n        SELECT_ID(state, id) {\r\n            state.selectedID = id || \"\"\r\n        },\r\n\r\n        DELETE_NODE(state, node) {\r\n            const nodes = state.graph.nodes\r\n            const index = nodes.findIndex(n => n.data.id === node.data.id)\r\n            if(index !== -1)                    // id exists\r\n                nodes.splice(index, 1)          // remove \r\n        },\r\n        DELETE_NODES(state) {\r\n            state.graph.nodes = []\r\n        },\r\n        INSERT_EDGE(state, edge) {\r\n            const edges = state.graph.edges\r\n            const index = edges.findIndex(e => e.data.id === edge.data.id)\r\n            if(index === -1)                    // id doesn't exist\r\n                edges.push(edge)                // add the edge            \r\n        },\r\n        UPDATE_EDGE(state, edge) {\r\n            const edges = state.graph.edges\r\n            const index = edges.findIndex(e => e.data.id === edge.data.id)\r\n            if(index !== -1)  {                  // id exists\r\n                Vue.set(edges, index, edge) // see if this works? trying to ensure reactivity of grouping\r\n                //edges.splice(index, 1, edge)    // otherwise this will work.. replace the edge\r\n            }\r\n        },\r\n        DELETE_EDGE(state, edge) {\r\n            const edges = state.graph.edges\r\n            const index = edges.findIndex(e => e.data.id === edge.data.id)\r\n            if(index !== -1)            // exists, remove \r\n                edges.splice(index, 1)  // remove \r\n        },\r\n        DELETE_EDGES(state) {\r\n            state.graph.edges = []\r\n        }\t\t\r\n\t},\r\n\tactions: {\r\n        // loadContextTypes(){}, // [part of config?]\r\n        // loadGroupTypes(){},   // [part of config?] \r\n\t\r\n        async loadMatrixData({commit, dispatch}, data){\r\n            // actions are asynchronous so ensure order of actions\r\n            await dispatch('clearAll', commit)\r\n\r\n            let phases = (data.nodes || []).filter(n => n.data.class == NodeClass.PHASE)\r\n            let groups = (data.nodes || []).filter(n => n.data.class == NodeClass.GROUP)\r\n            let subgroups = (data.nodes || []).filter(n => n.data.class == NodeClass.SUBGROUP)\r\n            let contexts = (data.nodes || []).filter(n => n.data.class == NodeClass.CONTEXT)\r\n            //let finds = (data.nodes || []).filter(n => n.data.class == NodeClass.FIND)\r\n            //let samples = (data.nodes || []).filter(n => n.data.class == NodeClass.SAMPLE)\r\n            let datings = (data.nodes || []).filter(n => n.data.class == NodeClass.DATING)\r\n\r\n            // not just insertNode, need to ensure each object has all required properties\r\n            phases.forEach(item => dispatch('insertPhase', item, commit))\r\n            groups.forEach(item => dispatch('insertGroup', item, commit))\r\n            subgroups.forEach(item => dispatch('insertSubGroup', item, commit))\r\n            contexts.forEach(item => dispatch('insertContext', item, commit))  \r\n            //finds.forEach(item => dispatch('insertFind', item, commit))\r\n            //samples.forEach(item => dispatch('insertSample', item, commit))  \r\n            datings.forEach(item => dispatch('insertDating', item, commit))       \r\n            //await dispatch('insertNodes', data.nodes || [], commit)\r\n            await dispatch('insertEdges', data.edges || [], commit)\r\n        },\r\n        //saveMatrixData(){},\r\n\r\n        clearAll({commit}) {\r\n            // mutations are synchronous so this is OK\r\n            commit('DELETE_NODES')\r\n            commit('DELETE_EDGES')\r\n            Promise.resolve() // See https://blog.usejournal.com/vue-js-best-practices-c5da8d7af48d\r\n        },        \r\n        insertNode({commit}, node) { \r\n            commit('INSERT_NODE', node)            \r\n        },\r\n        insertNodes({commit, dispatch}, nodes) {\r\n            nodes.forEach(node => dispatch('insertNode', node, commit))\r\n            Promise.resolve() \r\n        },\r\n\t\tupdateNode({commit}, node) {\r\n\t\t\tcommit('UPDATE_NODE', node)\r\n\t\t},\r\n        setSelectedID({commit}, id) {\r\n            commit('SELECT_ID', id)\r\n        },\r\n\t\tdeleteNode({commit}, node) {\r\n\t\t\tcommit('DELETE_NODE', node)\r\n        },\r\n        \r\n        createEdge({commit, dispatch, getters}) {\r\n            let edge = getters.newEdge\r\n            //commit('CREATE_EDGE', edge) \r\n            dispatch('insertEdge', edge, commit)  \r\n        },\r\n        insertEdge({commit}, edge) {\r\n            if(!edge.data.id)\r\n                edge.data.id = `edge-${edge.data.source || 'source'}-${edge.data.target || 'target'}`\r\n            commit('INSERT_EDGE', edge)            \r\n        },\r\n        insertEdges({commit, dispatch}, edges) {\r\n            edges.forEach(edge => dispatch('insertEdge', edge, commit))\t\r\n            Promise.resolve() \r\n        },\r\n\t\tupdateEdge({commit}, edge) {\r\n\t\t\tcommit('UPDATE_EDGE', edge)\r\n\t\t},\r\n\t\tdeleteEdge({commit}, edge) {\r\n\t\t\tcommit('DELETE_EDGE', edge)\r\n        }, \r\n\r\n        insertPhase({commit, dispatch, getters}, item) {\r\n            // ensure item being added has all required properties  \r\n            let node = _merge({}, getters.newPhase, item)\r\n            dispatch('insertNode', node, commit)  \r\n        },\r\n        insertGroup({commit, dispatch, getters}, item) {\r\n            // ensure item being added has all required properties        \r\n            let node = _merge({}, getters.newGroup, item)\r\n            dispatch('insertNode', node, commit)  \r\n        },\r\n        insertSubGroup({commit, dispatch, getters}, item) {\r\n            // ensure item being added has all required properties        \r\n            let node = _merge({}, getters.newSubGroup, item)\r\n            dispatch('insertNode', node, commit)  \r\n        },\r\n        \r\n        insertContext({commit, dispatch, getters}, item) {\r\n            // ensure item being added has all required properties        \r\n            let node = _merge({}, getters.newContext, item)\r\n            dispatch('insertNode', node, commit)  \r\n        }, \r\n        /*insertFind({commit, dispatch, getters}, item) {\r\n            // ensure item being added has all required properties        \r\n            let node = _merge({}, getters.newFind, item)\r\n            dispatch('insertNode', node, commit)  \r\n        }, \r\n        insertSample({commit, dispatch, getters}, item) {\r\n            // ensure item being added has all required properties        \r\n            let node = _merge({}, getters.newSample, item)\r\n            dispatch('insertNode', node, commit)  \r\n        },*/\r\n        insertDating({commit, dispatch, getters}, item) {\r\n            // ensure item being added has all required properties        \r\n            let node = _merge({}, getters.newDating, item)\r\n            dispatch('insertNode', node, commit)  \r\n        },\r\n\r\n\r\n        createPhase({commit, dispatch, getters}) {\r\n            let node = getters.newPhase\r\n            //commit('CREATE_NODE', node)  \r\n            dispatch('insertNode', node, commit)\r\n        },\r\n        createGroup({commit, dispatch, getters}) {\r\n            let node = getters.newGroup\r\n            //commit('CREATE_NODE', node) \r\n            dispatch('insertNode', node, commit) \r\n        },    \r\n        createSubGroup({commit, dispatch, getters}) {\r\n            let node = getters.newSubGroup\r\n            //commit('CREATE_NODE', node)  \r\n            dispatch('insertNode', node, commit) \r\n        },          \r\n        createContext({commit, dispatch, getters}) {\r\n            let node = getters.newContext\r\n            //commit('CREATE_NODE', node)  \r\n            dispatch('insertNode', node, commit)         \r\n        },\r\n        /*createFind({commit, dispatch, getters}) {\r\n            let node = getters.newFind\r\n            dispatch('insertNode', node, commit)\r\n        },\r\n        createSample({commit, dispatch, getters}) {\r\n            let node = getters.newSample\r\n            dispatch('insertNode', node, commit)\r\n        },*/\r\n        createDating({commit, dispatch, getters}) {\r\n            let node = getters.newDating\r\n            dispatch('insertDating', node, commit)\r\n        },       \r\n\t\t/*addContext({commit}, context){\r\n\t\t\tcommit('ADD_NODE', context)\r\n        },\r\n        addContexts({commit}, contexts){\r\n\t\t\tcommit('ADD_NODES', contexts)\r\n        },\r\n\t\teditContext({commit}, context){\r\n\t\t\tcommit('UPDATE_NODE', context)\r\n\t\t},\r\n\t\tremoveContext({commit}, context){\r\n\t\t\tcommit('REMOVE_NODE', context)\r\n        } */       \r\n\t}\t\r\n})","// Base Vue Imports\nimport Vue from 'vue'\nimport { BootstrapVue, BootstrapVueIcons } from 'bootstrap-vue'\n//import Popper from 'vue-popperjs'\n\n// app imports\nimport App from '@/App.vue' \nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n//import 'vue-popperjs/dist/vue-popper.css'\n//import router from '@/router' //import router.js into main.js\nimport store from '@/store/storeCY'   // for VUEX data\n//import dagre from 'cytoscape-dagre'         // for auto-layout of matrix diagram\n// for jointjs (modified, from https://github.com/JoseGoncalves/vue-jointjs/blob/master/src/main.js)\n//import Joint from '@/plugins/joint'         // for matrix diagram (superseded)\nimport VueCytoscape from 'vue-cytoscape'    // for matrix diagram\nimport VuePapaParse from 'vue-papa-parse'   // for CSV I/O\n\nimport 'cytoscape-grid-guide'\n\n//import VueKonva from 'vue-konva'            // not used, from alt diagram library test\n//import VueSplitter from 'vue-splitter-pane' // for main layout https://github.com/venkatperi/vue-splitter-pane\n//import {Splitpanes, Pane} from 'splitpanes'          // https://github.com/antoniandre/splitpanes\n//import 'splitpanes/dist/splitpanes.css'\n// apply imported libraries\nVue.use(BootstrapVue)\nVue.use(BootstrapVueIcons)\n//Vue.use(Popper)\n//Vue.use(Joint)              // for matrix diagram  (superseded)\n//Vue.use(VueKonva)           // not used, from alt diagram library test\nVue.use(VuePapaParse)       // for CSV I/O\nVue.use(VueCytoscape)       // for matrix diagram\n\n//Vue.use(VueSplitter)        // registers vue-splitter, vue-splitter-v and vue-splitter-h \n\n//Vue.use(dagre)            // for auto-layout of matrix diagram\nVue.config.productionTip = false\n\n/*\n// todo - incorporate VueRouter, to have contexts, groups, matrix etc. separate pages\nimport VueRouter from 'vue-router'\nVue.use(VueRouter);\nimport Home from '@/Components/Home.vue'\nimport Page1 from '@/Components/Page1.vue'\nimport Page2 from '@/Components/Page2.vue'\nconst routes = [\n    { path: '/', component: Home },\n    { path: '/page1/:id?', component: Page1 },\n    { path: '/page2', component: Page2 }\n];\nconst router = new VueRouter({\n    mode: 'history',\n    routes\n});\n*/\n\nnew Vue({\n    // router: router,\n    store: store, // vuex store - see store.js\n    render: h => h(App) \n}).$mount('#app')","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTable.vue?vue&type=style&index=0&id=92b7d072&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemTable.vue?vue&type=style&index=0&id=92b7d072&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixDiagramCY.vue?vue&type=style&index=0&id=1b578e62&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixDiagramCY.vue?vue&type=style&index=0&id=1b578e62&scoped=true&lang=css&\""],"sourceRoot":""}